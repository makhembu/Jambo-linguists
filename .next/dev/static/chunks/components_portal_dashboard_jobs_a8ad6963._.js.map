{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Khesh/Desktop/Jambo-linguists/components/portal/dashboard/jobs/JobFilters.tsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport { Filter, MapPin, ArrowUpDown, Search, LayoutGrid, List, CheckCircle, ChevronDown, Clock, X } from 'lucide-react';\r\nimport { Card } from '../../../ui/Card';\r\nimport { Input } from '../../../ui/Input';\r\n\r\nexport interface FiltersState {\r\n  category: string;\r\n  distance: string;\r\n  sortBy: string;\r\n  status?: string;\r\n}\r\n\r\ninterface JobFiltersProps {\r\n  filters: FiltersState;\r\n  setFilters: React.Dispatch<React.SetStateAction<FiltersState>>;\r\n  viewMode: 'grid' | 'list';\r\n  setViewMode: (mode: 'grid' | 'list') => void;\r\n  showDistance?: boolean;\r\n  showStatus?: boolean;\r\n  showExpired?: boolean;\r\n  setShowExpired?: (show: boolean) => void;\r\n  searchTerm?: string;\r\n  onSearchChange?: (term: string) => void;\r\n}\r\n\r\n// --- Internal Popover Component ---\r\nconst FilterPopover: React.FC<{\r\n  label: string;\r\n  icon: React.ReactNode;\r\n  options: { value: string; label: string }[];\r\n  value: string;\r\n  onChange: (value: string) => void;\r\n}> = ({ label, icon, options, value, onChange }) => {\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const ref = useRef<HTMLDivElement>(null);\r\n\r\n  useEffect(() => {\r\n    const handleClickOutside = (event: MouseEvent) => {\r\n      if (ref.current && !ref.current.contains(event.target as Node)) {\r\n        setIsOpen(false);\r\n      }\r\n    };\r\n    document.addEventListener(\"mousedown\", handleClickOutside);\r\n    return () => document.removeEventListener(\"mousedown\", handleClickOutside);\r\n  }, []);\r\n\r\n  return (\r\n    <div ref={ref} className=\"relative\">\r\n      <button \r\n        onClick={() => setIsOpen(!isOpen)}\r\n        className={`flex items-center gap-2 border rounded-lg px-3 py-2.5 text-sm font-medium transition-colors ${\r\n            isOpen \r\n            ? 'bg-gray-100 dark:bg-white/10 border-gray-300 dark:border-white/20 text-gray-900 dark:text-white' \r\n            : 'bg-white dark:bg-white/5 border-gray-200 dark:border-white/10 text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-white/10'\r\n        }`}\r\n      >\r\n        {icon}\r\n        <span>{label}</span>\r\n        <ChevronDown size={14} className={`transition-transform duration-200 text-gray-400 ${isOpen ? 'rotate-180' : ''}`} />\r\n      </button>\r\n      {isOpen && (\r\n        <div className=\"absolute top-full mt-2 w-48 bg-white dark:bg-[#2a2438] rounded-xl shadow-xl border border-gray-100 dark:border-white/10 z-20 overflow-hidden animate-in fade-in slide-in-from-top-2 duration-200\">\r\n          {options.map(opt => (\r\n            <button\r\n              key={opt.value}\r\n              onClick={() => { onChange(opt.value); setIsOpen(false); }}\r\n              className={`w-full text-left px-4 py-2.5 text-sm transition-colors border-l-2 ${value === opt.value ? 'font-bold bg-jambo-50 dark:bg-jambo-900/20 text-jambo-700 dark:text-jambo-300 border-jambo-600' : 'border-transparent text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-white/5'}`}\r\n            >\r\n              {opt.label}\r\n            </button>\r\n          ))}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\n\r\nexport const JobFilters = ({ \r\n  filters, \r\n  setFilters, \r\n  viewMode, \r\n  setViewMode,\r\n  showDistance = true,\r\n  showStatus = false,\r\n  showExpired,\r\n  setShowExpired,\r\n  searchTerm = \"\",\r\n  onSearchChange\r\n}: JobFiltersProps) => {\r\n  \r\n  const handleChange = (key: keyof FiltersState, value: string) => {\r\n    setFilters(prev => ({ ...prev, [key]: value }));\r\n  };\r\n\r\n  const categoryOptions = [\r\n    { value: 'All', label: 'All Categories' },\r\n    { value: 'Interpreting', label: 'Interpreting' },\r\n    { value: 'Translation', label: 'Translation' },\r\n    { value: 'Transcription', label: 'Transcription' },\r\n  ];\r\n\r\n  const distanceOptions = [\r\n    { value: 'Any', label: 'Any Distance' },\r\n    { value: '5', label: 'Within 5 miles' },\r\n    { value: '10', label: 'Within 10 miles' },\r\n    { value: '25', label: 'Within 25 miles' },\r\n  ];\r\n  \r\n  const sortOptions = [\r\n    { value: 'date', label: 'Newest' },\r\n    { value: 'date_asc', label: 'Oldest' },\r\n    { value: 'rate', label: 'Rate' },\r\n  ];\r\n\r\n  const statusOptions = [\r\n      { value: 'All', label: 'All Statuses' },\r\n      { value: 'Completed', label: 'Completed' },\r\n      { value: 'Cancelled', label: 'Cancelled' },\r\n  ]\r\n\r\n  const currentCategoryLabel = categoryOptions.find(o => o.value === filters.category)?.label || 'Categories';\r\n  const currentDistanceLabel = distanceOptions.find(o => o.value === filters.distance)?.label || 'Distance';\r\n  const currentStatusLabel = statusOptions.find(o => o.value === filters.status)?.label || 'Status';\r\n  const currentSortLabel = sortOptions.find(o => o.value === filters.sortBy)?.label || 'Sort By';\r\n\r\n  return (\r\n    <Card className=\"p-4 mb-8\">\r\n      <div className=\"flex flex-col md:flex-row gap-4 justify-between items-center\">\r\n        \r\n        {/* Search Input */}\r\n        {onSearchChange && (\r\n            <div className=\"w-full md:flex-1 relative\">\r\n                <Input \r\n                    placeholder=\"Search jobs by title, ID, or location...\"\r\n                    value={searchTerm}\r\n                    onChange={(e) => onSearchChange(e.target.value)}\r\n                    leftIcon={<Search size={16} />}\r\n                    rightIcon={searchTerm ? <button onClick={() => onSearchChange('')}><X size={14}/></button> : undefined}\r\n                />\r\n            </div>\r\n        )}\r\n\r\n        {/* Filters Row */}\r\n        <div className=\"w-full md:w-auto flex flex-wrap items-center gap-2\">\r\n            <FilterPopover \r\n                icon={<Filter size={14} />} \r\n                label={currentCategoryLabel}\r\n                options={categoryOptions}\r\n                value={filters.category}\r\n                onChange={(v) => handleChange('category', v)}\r\n            />\r\n            \r\n            {showDistance && <FilterPopover \r\n                icon={<MapPin size={14} />} \r\n                label={currentDistanceLabel}\r\n                options={distanceOptions}\r\n                value={filters.distance}\r\n                onChange={(v) => handleChange('distance', v)}\r\n            />}\r\n            \r\n            {showStatus && <FilterPopover \r\n                icon={<CheckCircle size={14} />} \r\n                label={currentStatusLabel}\r\n                options={statusOptions}\r\n                value={filters.status || 'All'}\r\n                onChange={(v) => handleChange('status', v)}\r\n            />}\r\n            \r\n            {setShowExpired && (\r\n                <button \r\n                    onClick={() => setShowExpired(!showExpired)}\r\n                    className={`flex items-center gap-2 border rounded-lg px-3 py-2.5 text-sm font-medium transition-colors ${\r\n                        showExpired \r\n                        ? 'bg-red-50 border-red-200 text-red-600 dark:bg-red-900/20 dark:border-red-800 dark:text-red-400' \r\n                        : 'bg-white dark:bg-white/5 border-gray-200 dark:border-white/10 text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-white/10'\r\n                    }`}\r\n                >\r\n                    <Clock size={14} />\r\n                    {showExpired ? 'Hide Expired' : 'Show Expired'}\r\n                </button>\r\n            )}\r\n\r\n            <div className=\"h-8 w-px bg-gray-200 dark:bg-white/10 mx-1 hidden md:block\"></div>\r\n\r\n            {/* Sort & View Toggles */}\r\n            <div className=\"flex items-center gap-2 ml-auto md:ml-0\">\r\n                <FilterPopover\r\n                    icon={<ArrowUpDown size={14} />}\r\n                    label={currentSortLabel}\r\n                    options={sortOptions}\r\n                    value={filters.sortBy}\r\n                    onChange={(v) => handleChange('sortBy', v)}\r\n                />\r\n                \r\n                <div className=\"flex bg-gray-100 dark:bg-white/5 p-1 rounded-lg border border-gray-200 dark:border-white/10\">\r\n                    <button \r\n                        onClick={() => setViewMode('grid')}\r\n                        className={`p-1.5 rounded-md transition-all ${viewMode === 'grid' ? 'bg-white dark:bg-white/10 text-jambo-600 dark:text-jambo-400 shadow-sm' : 'text-gray-400 hover:text-gray-600 dark:hover:text-gray-200'}`}\r\n                        title=\"Grid View\"\r\n                    >\r\n                        <LayoutGrid size={16} />\r\n                    </button>\r\n                    <button \r\n                        onClick={() => setViewMode('list')}\r\n                        className={`p-1.5 rounded-md transition-all ${viewMode === 'list' ? 'bg-white dark:bg-white/10 text-jambo-600 dark:text-jambo-400 shadow-sm' : 'text-gray-400 hover:text-gray-600 dark:hover:text-gray-200'}`}\r\n                        title=\"List View\"\r\n                    >\r\n                        <List size={16} />\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n      </div>\r\n    </Card>\r\n  );\r\n};"],"names":[],"mappings":"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"}},
    {"offset": {"line": 398, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Khesh/Desktop/Jambo-linguists/components/portal/dashboard/jobs/JobCard.tsx"],"sourcesContent":["'use client';\r\nimport React from 'react';\r\nimport { MapPin, ArrowRight, Calendar, AlertCircle } from 'lucide-react';\r\nimport { Job } from '@/data/mockDatabase';\r\nimport { Card } from '../../../ui/Card';\r\nimport { Badge } from '../../../ui/Badge';\r\n\r\nexport interface JobCardProps {\r\n  job: Job;\r\n  onClick: () => void;\r\n}\r\n\r\nexport const JobCard: React.FC<JobCardProps> = ({ job, onClick }) => {\r\n  const isExpired = job.status === 'Open' && new Date(job.date) < new Date();\r\n\r\n  return (\r\n    <Card \r\n      onClick={onClick}\r\n      hoverEffect={true}\r\n      className={`p-5 flex flex-col h-full group ${isExpired ? 'opacity-60' : ''}`}\r\n    >\r\n      {/* Header */}\r\n      <div className=\"flex justify-between items-start mb-4\">\r\n         <Badge variant={job.status === 'Open' ? 'brand' : (job.status === 'Completed' ? 'success' : 'info')} className=\"mb-1\">\r\n            {job.status}\r\n         </Badge>\r\n         {job.isUrgent && !isExpired && (\r\n             <span className=\"text-[10px] font-bold text-red-500 flex items-center gap-1 uppercase tracking-wide animate-pulse\">\r\n                 <AlertCircle size={12} /> Urgent\r\n             </span>\r\n         )}\r\n      </div>\r\n\r\n      {/* Title & Type */}\r\n      <h3 className=\"font-serif font-bold text-lg text-gray-900 dark:text-white leading-tight mb-1 group-hover:text-jambo-600 dark:group-hover:text-jambo-400 transition-colors\">\r\n          {job.title}\r\n      </h3>\r\n      <p className=\"text-xs text-gray-500 dark:text-gray-400 mb-4\">{job.category} • {job.type}</p>\r\n\r\n      {/* Details */}\r\n      <div className=\"space-y-2 mt-auto\">\r\n          <div className=\"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-300\">\r\n              <Calendar size={14} className=\"text-gray-400\" />\r\n              <span>{new Date(job.date).toLocaleDateString()}</span>\r\n              {job.time && <span className=\"text-gray-400\">| {job.time}</span>}\r\n          </div>\r\n          <div className=\"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-300\">\r\n              <MapPin size={14} className=\"text-gray-400\" />\r\n              <span className=\"truncate\">{job.location.split(',')[0]}</span>\r\n          </div>\r\n      </div>\r\n\r\n      {/* Footer */}\r\n      <div className=\"mt-5 pt-4 border-t border-gray-100 dark:border-white/5 flex items-center justify-between\">\r\n          <div>\r\n              <p className=\"text-[10px] font-bold text-gray-400 uppercase\">Rate</p>\r\n              <p className=\"font-bold text-gray-900 dark:text-white\">{job.totalPayout ? `£${job.totalPayout}` : job.rate}</p>\r\n          </div>\r\n          <div className=\"w-8 h-8 rounded-full bg-gray-50 dark:bg-white/5 flex items-center justify-center text-gray-400 group-hover:bg-jambo-600 group-hover:text-white transition-all\">\r\n              <ArrowRight size={16} />\r\n          </div>\r\n      </div>\r\n    </Card>\r\n  );\r\n};\r\n"],"names":[],"mappings":";;;;;AAEA;AAAA;AAAA;AAAA;AAEA;AACA;AALA;;;;;AAYO,MAAM,UAAkC,CAAC,EAAE,GAAG,EAAE,OAAO,EAAE;IAC9D,MAAM,YAAY,IAAI,MAAM,KAAK,UAAU,IAAI,KAAK,IAAI,IAAI,IAAI,IAAI;IAEpE,qBACE,6LAAC,oIAAI;QACH,SAAS;QACT,aAAa;QACb,WAAW,CAAC,+BAA+B,EAAE,YAAY,eAAe,IAAI;;0BAG5E,6LAAC;gBAAI,WAAU;;kCACZ,6LAAC,sIAAK;wBAAC,SAAS,IAAI,MAAM,KAAK,SAAS,UAAW,IAAI,MAAM,KAAK,cAAc,YAAY;wBAAS,WAAU;kCAC3G,IAAI,MAAM;;;;;;oBAEb,IAAI,QAAQ,IAAI,CAAC,2BACd,6LAAC;wBAAK,WAAU;;0CACZ,6LAAC,sOAAW;gCAAC,MAAM;;;;;;4BAAM;;;;;;;;;;;;;0BAMpC,6LAAC;gBAAG,WAAU;0BACT,IAAI,KAAK;;;;;;0BAEd,6LAAC;gBAAE,WAAU;;oBAAiD,IAAI,QAAQ;oBAAC;oBAAI,IAAI,IAAI;;;;;;;0BAGvF,6LAAC;gBAAI,WAAU;;kCACX,6LAAC;wBAAI,WAAU;;0CACX,6LAAC,yNAAQ;gCAAC,MAAM;gCAAI,WAAU;;;;;;0CAC9B,6LAAC;0CAAM,IAAI,KAAK,IAAI,IAAI,EAAE,kBAAkB;;;;;;4BAC3C,IAAI,IAAI,kBAAI,6LAAC;gCAAK,WAAU;;oCAAgB;oCAAG,IAAI,IAAI;;;;;;;;;;;;;kCAE5D,6LAAC;wBAAI,WAAU;;0CACX,6LAAC,uNAAM;gCAAC,MAAM;gCAAI,WAAU;;;;;;0CAC5B,6LAAC;gCAAK,WAAU;0CAAY,IAAI,QAAQ,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE;;;;;;;;;;;;;;;;;;0BAK9D,6LAAC;gBAAI,WAAU;;kCACX,6LAAC;;0CACG,6LAAC;gCAAE,WAAU;0CAAgD;;;;;;0CAC7D,6LAAC;gCAAE,WAAU;0CAA2C,IAAI,WAAW,GAAG,CAAC,CAAC,EAAE,IAAI,WAAW,EAAE,GAAG,IAAI,IAAI;;;;;;;;;;;;kCAE9G,6LAAC;wBAAI,WAAU;kCACX,cAAA,6LAAC,mOAAU;4BAAC,MAAM;;;;;;;;;;;;;;;;;;;;;;;AAKhC;KApDa"}},
    {"offset": {"line": 609, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Khesh/Desktop/Jambo-linguists/components/portal/dashboard/jobs/JobListItem.tsx"],"sourcesContent":["\r\nimport React from 'react';\r\nimport { \r\n  MapPin, Video, Users, Phone, FileText, Mic, \r\n  ArrowRight, AlertCircle, Clock\r\n} from 'lucide-react';\r\nimport { Job } from '@/data/mockDatabase';\r\nimport { getInterpretingJobPayout } from './job-helpers';\r\nimport { Card } from '../../../ui/Card';\r\n\r\nexport interface JobListItemProps {\r\n  job: Job;\r\n  onClick: () => void;\r\n}\r\n\r\nexport const JobListItem: React.FC<JobListItemProps> = ({ job, onClick }) => {\r\n  // Expiration Logic\r\n  const today = new Date();\r\n  today.setHours(0, 0, 0, 0);\r\n  const jobDate = new Date(job.date);\r\n  const isExpired = job.status === 'Open' && jobDate < today;\r\n\r\n  const getTheme = () => {\r\n    if (isExpired) {\r\n        return {\r\n            barColor: 'bg-gray-400',\r\n            badgeText: 'text-gray-500 dark:text-gray-400',\r\n            badgeBorder: 'border-gray-200 dark:border-white/10',\r\n            badgeBg: 'bg-gray-100 dark:bg-white/5',\r\n            icon: job.type === 'Face-to-Face' ? Users : (job.type === 'Telephone' ? Phone : Video)\r\n        };\r\n    }\r\n\r\n    switch (job.category) {\r\n      case 'Interpreting':\r\n        return {\r\n          barColor: 'bg-jambo-600 dark:bg-jambo-500',\r\n          badgeText: 'text-purple-700 dark:text-purple-300',\r\n          badgeBorder: 'border-purple-100 dark:border-purple-800',\r\n          badgeBg: 'bg-purple-50 dark:bg-purple-900/30',\r\n          icon: job.type === 'Face-to-Face' ? Users : (job.type === 'Telephone' ? Phone : Video)\r\n        };\r\n      case 'Translation':\r\n        return {\r\n          barColor: 'bg-brand-teal dark:bg-teal-500',\r\n          badgeText: 'text-teal-700 dark:text-teal-300',\r\n          badgeBorder: 'border-teal-100 dark:border-teal-800',\r\n          badgeBg: 'bg-teal-50 dark:bg-teal-900/30',\r\n          icon: FileText\r\n        };\r\n      case 'Transcription':\r\n        return {\r\n          barColor: 'bg-brand-orange dark:bg-orange-500',\r\n          badgeText: 'text-orange-700 dark:text-orange-300',\r\n          badgeBorder: 'border-orange-100 dark:border-orange-800',\r\n          badgeBg: 'bg-orange-50 dark:bg-orange-900/30',\r\n          icon: Mic\r\n        };\r\n      default:\r\n        return {\r\n          barColor: 'bg-gray-500',\r\n          badgeText: 'text-gray-700 dark:text-gray-300',\r\n          badgeBorder: 'border-gray-100 dark:border-gray-700',\r\n          badgeBg: 'bg-gray-50 dark:bg-gray-800',\r\n          icon: Video\r\n        };\r\n    }\r\n  };\r\n\r\n  const theme = getTheme();\r\n  const TypeIcon = theme.icon;\r\n  const showPayout = job.status === 'Completed' && job.totalPayout !== undefined;\r\n  const estimatedPayout = getInterpretingJobPayout(job);\r\n\r\n  const rateDisplay = (job.category === 'Translation' && job.wordRate) \r\n    ? `${(job.wordRate * 100).toFixed(0)}p/word` \r\n    : job.rate;\r\n\r\n  return (\r\n    <Card \r\n      onClick={onClick}\r\n      hoverEffect={true}\r\n      className={`relative overflow-hidden p-4 flex flex-col md:flex-row items-start md:items-center gap-4 ${isExpired ? 'opacity-80 grayscale-[0.3]' : 'hover:border-jambo-200 dark:hover:border-jambo-700'}`}\r\n    >\r\n      <div className={`absolute left-0 top-0 bottom-0 w-1 ${theme.barColor}`}></div>\r\n      \r\n      {/* Date */}\r\n      <div className=\"flex md:block items-center gap-2 md:w-16 md:text-center shrink-0 md:border-r border-gray-100 dark:border-white/5 md:pr-4\">\r\n         <span className={`block text-xs font-bold uppercase ${isExpired ? 'text-gray-400' : 'text-gray-400 dark:text-gray-500'}`}>{new Date(job.date).toLocaleString('en-US', { month: 'short' })}</span>\r\n         <span className={`block text-xl font-bold ${isExpired ? 'text-gray-500' : 'text-gray-800 dark:text-gray-100'}`}>{new Date(job.date).getDate()}</span>\r\n      </div>\r\n\r\n      {/* Main Content */}\r\n      <div className=\"flex-grow grid grid-cols-1 md:grid-cols-12 gap-2 md:gap-4 items-center w-full\">\r\n         \r\n         {/* Info */}\r\n         <div className=\"md:col-span-5 min-w-0\">\r\n            <div className=\"flex items-center gap-2 mb-1\">\r\n                <span className={`text-[10px] font-bold uppercase px-1.5 py-0.5 rounded border ${theme.badgeBg} ${theme.badgeText} ${theme.badgeBorder}`}>\r\n                    {isExpired ? 'Expired' : job.category}\r\n                </span>\r\n                {job.isUrgent && !isExpired && (\r\n                    <span className=\"text-[10px] font-bold uppercase text-red-600 dark:text-red-400 flex items-center gap-1 animate-pulse\">\r\n                        <AlertCircle size={10} /> Urgent\r\n                    </span>\r\n                )}\r\n            </div>\r\n            <h4 className={`font-bold truncate transition-colors ${isExpired ? 'text-gray-600 dark:text-gray-400' : 'text-gray-900 dark:text-white group-hover:text-jambo-600 dark:group-hover:text-jambo-400'}`}>{job.title}</h4>\r\n            <div className=\"flex items-center gap-2 text-xs text-gray-500 dark:text-gray-400 mt-1\">\r\n               <TypeIcon size={12} />\r\n               <span>{job.type}</span>\r\n               <span className=\"w-1 h-1 bg-gray-300 dark:bg-gray-600 rounded-full\"></span>\r\n               <span>#{job.id}</span>\r\n            </div>\r\n         </div>\r\n\r\n         {/* Location & Lang */}\r\n         <div className=\"md:col-span-4 min-w-0 space-y-1\">\r\n             <div className=\"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400\">\r\n                <MapPin size={14} className=\"text-gray-400 dark:text-gray-500 shrink-0\"/>\r\n                <span className=\"truncate\">{job.location}</span>\r\n             </div>\r\n             <div className=\"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400\">\r\n                <span className={`w-3 h-3 rounded-full ${theme.barColor} text-[6px] text-white flex items-center justify-center`}>{job.languagePair.charAt(0)}</span>\r\n                <span className=\"truncate\">{job.languagePair}</span>\r\n             </div>\r\n         </div>\r\n\r\n         {/* Rate & Action */}\r\n         <div className=\"md:col-span-3 flex flex-row md:flex-col justify-between items-center md:items-end w-full md:w-auto mt-2 md:mt-0 pt-2 md:pt-0 border-t md:border-0 border-gray-50 dark:border-white/5\">\r\n            <div className=\"text-left md:text-right\">\r\n                <p className={`font-bold text-lg leading-none ${isExpired ? 'text-gray-500' : (showPayout ? 'text-green-600 dark:text-green-500' : 'text-jambo-600 dark:text-jambo-400')}`}>\r\n                    {showPayout \r\n                        ? `£${job.totalPayout}` \r\n                        : (estimatedPayout !== null ? `£${estimatedPayout.toFixed(2)}` : rateDisplay)\r\n                    }\r\n                </p>\r\n                <p className=\"text-[10px] text-gray-400 dark:text-gray-500 font-bold uppercase mt-1\">\r\n                    {showPayout ? 'Total Paid' : (estimatedPayout !== null ? 'Est. Total' : (job.duration || (job.category === 'Translation' ? `${job.wordCount} words` : job.wordCount + ' words')))}\r\n                </p>\r\n            </div>\r\n            <div className={`md:hidden text-xs font-bold flex items-center gap-1 ${isExpired ? 'text-gray-400' : 'text-jambo-600 dark:text-jambo-400'}`}>\r\n                View <ArrowRight size={12} />\r\n            </div>\r\n         </div>\r\n      </div>\r\n      \r\n      {/* Desktop Hover Arrow */}\r\n      <div className=\"pl-4 border-l border-gray-100 dark:border-white/5 hidden md:block\">\r\n          <div className=\"w-8 h-8 rounded-full bg-gray-50 dark:bg-white/5 text-gray-400 dark:text-gray-500 flex items-center justify-center group-hover:bg-jambo-600 dark:group-hover:bg-jambo-500 group-hover:text-white transition-colors\">\r\n              <ArrowRight size={16} />\r\n          </div>\r\n      </div>\r\n    </Card>\r\n  );\r\n};\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 971, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Khesh/Desktop/Jambo-linguists/components/portal/dashboard/jobs/modal/ModalHeader.tsx"],"sourcesContent":["\r\nimport React from 'react';\r\nimport { X, ChevronLeft, AlertCircle, Clock } from 'lucide-react';\r\nimport { Job } from '@/data/mockDatabase';\r\nimport { JobStatusBadge } from '../../../../ui/JobStatusBadge';\r\n\r\ninterface ModalHeaderProps {\r\n  job: Job;\r\n  viewMode: 'details' | 'completionForm';\r\n  setViewMode: (mode: 'details' | 'completionForm') => void;\r\n  onClose: () => void;\r\n  theme: { bg: string; text: string; border: string; icon: any };\r\n  currentStatus: string;\r\n}\r\n\r\nexport const ModalHeader = ({ job, viewMode, setViewMode, onClose, theme, currentStatus }: ModalHeaderProps) => {\r\n  const Icon = theme.icon;\r\n  const isAvailable = currentStatus === 'Open';\r\n  \r\n  // Expiration Logic\r\n  const today = new Date();\r\n  today.setHours(0, 0, 0, 0);\r\n  const jobDate = new Date(job.date);\r\n  const isExpired = isAvailable && jobDate < today;\r\n\r\n  return (\r\n    <div className=\"p-4 sm:p-5 md:p-6 border-b border-gray-100 dark:border-white/5 flex justify-between items-start sticky top-0 bg-white dark:bg-[#1a1625] z-20 shadow-sm shrink-0 transition-all\">\r\n      <div className=\"flex gap-3 sm:gap-4 overflow-hidden items-start w-full\">\r\n        {viewMode === 'completionForm' ? (\r\n          <button \r\n            onClick={() => setViewMode('details')} \r\n            className=\"w-10 h-10 sm:w-12 sm:h-12 md:w-14 md:h-14 rounded-xl bg-gray-100 dark:bg-white/5 flex items-center justify-center shrink-0 hover:bg-gray-200 dark:hover:bg-white/10 transition-colors mt-1\"\r\n          >\r\n            <ChevronLeft size={24} className=\"text-gray-600 dark:text-gray-300\" />\r\n          </button>\r\n        ) : (\r\n          <div className={`w-10 h-10 sm:w-12 sm:h-12 md:w-14 md:h-14 rounded-xl ${isExpired ? 'bg-gray-100 text-gray-500' : `${theme.bg} ${theme.text}`} flex items-center justify-center shrink-0 mt-1 transition-all`}>\r\n            <Icon size={20} className=\"sm:w-6 sm:h-6 md:w-7 md:h-7 transition-all\" />\r\n          </div>\r\n        )}\r\n        \r\n        <div className=\"min-w-0 flex-1\">\r\n          {viewMode === 'completionForm' ? (\r\n            <>\r\n              <h2 className=\"text-xl sm:text-2xl md:text-3xl font-serif font-bold text-gray-900 dark:text-white leading-tight truncate\">\r\n                Submit Completion\r\n              </h2>\r\n              <p className=\"text-xs sm:text-sm text-gray-500 dark:text-gray-400 font-medium mt-0.5\">Finalizing Job #{job.id}</p>\r\n            </>\r\n          ) : (\r\n            <>\r\n              <div className=\"flex flex-wrap items-center gap-2 mb-1.5\">\r\n                <span className={`text-[10px] sm:text-xs font-bold uppercase tracking-widest px-2 py-0.5 rounded-full border ${isExpired ? 'bg-gray-100 text-gray-500 border-gray-200' : `${theme.bg} ${theme.text} ${theme.border}`}`}>\r\n                  {job.category}\r\n                </span>\r\n                \r\n                <JobStatusBadge status={currentStatus} className=\"text-[10px] sm:text-xs\" />\r\n\r\n                {isExpired && (\r\n                    <span className=\"text-[10px] sm:text-xs font-bold uppercase tracking-widest px-2 py-0.5 rounded-full bg-gray-100 text-gray-500 border border-gray-200 flex items-center gap-1\">\r\n                        <Clock size={10} /> Expired\r\n                    </span>\r\n                )}\r\n\r\n                {!isExpired && job.isUrgent && isAvailable && (\r\n                  <span className=\"text-[10px] sm:text-xs font-bold uppercase tracking-widest px-2 py-0.5 rounded-full bg-red-100 text-red-600 dark:bg-red-900/30 dark:text-red-300 flex items-center gap-1\">\r\n                    <AlertCircle size={10} /> <span className=\"hidden sm:inline\">Urgent</span>\r\n                  </span>\r\n                )}\r\n              </div>\r\n              <h2 className=\"text-lg sm:text-xl md:text-2xl lg:text-3xl font-serif font-bold text-gray-900 dark:text-white leading-tight break-words\">\r\n                {job.title}\r\n              </h2>\r\n              <p className=\"text-xs sm:text-sm text-gray-500 dark:text-gray-400 font-medium mt-1\">Ref ID: #{job.id}</p>\r\n            </>\r\n          )}\r\n        </div>\r\n      </div>\r\n      <button \r\n        onClick={onClose}\r\n        className=\"p-2 bg-gray-100 dark:bg-white/5 hover:bg-gray-200 dark:hover:bg-white/10 rounded-full text-gray-500 dark:text-gray-400 transition-colors shrink-0 ml-2 sm:ml-4 mt-1\"\r\n        aria-label=\"Close Modal\"\r\n      >\r\n        <X size={20} />\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n"],"names":[],"mappings":";;;;;AAEA;AAAA;AAAA;AAAA;AAEA;;;;AAWO,MAAM,cAAc,CAAC,EAAE,GAAG,EAAE,QAAQ,EAAE,WAAW,EAAE,OAAO,EAAE,KAAK,EAAE,aAAa,EAAoB;IACzG,MAAM,OAAO,MAAM,IAAI;IACvB,MAAM,cAAc,kBAAkB;IAEtC,mBAAmB;IACnB,MAAM,QAAQ,IAAI;IAClB,MAAM,QAAQ,CAAC,GAAG,GAAG,GAAG;IACxB,MAAM,UAAU,IAAI,KAAK,IAAI,IAAI;IACjC,MAAM,YAAY,eAAe,UAAU;IAE3C,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAI,WAAU;;oBACZ,aAAa,iCACZ,6LAAC;wBACC,SAAS,IAAM,YAAY;wBAC3B,WAAU;kCAEV,cAAA,6LAAC,sOAAW;4BAAC,MAAM;4BAAI,WAAU;;;;;;;;;;iFAGnC,6LAAC;wBAAI,WAAW,CAAC,qDAAqD,EAAE,YAAY,8BAA8B,GAAG,MAAM,EAAE,CAAC,CAAC,EAAE,MAAM,IAAI,EAAE,CAAC,8DAA8D,CAAC;kCAC3M,cAAA,6LAAC;4BAAK,MAAM;4BAAI,WAAU;;;;;;;;;;;kCAI9B,6LAAC;wBAAI,WAAU;kCACZ,aAAa,iCACZ;;8CACE,6LAAC;oCAAG,WAAU;8CAA4G;;;;;;8CAG1H,6LAAC;oCAAE,WAAU;;wCAAyE;wCAAiB,IAAI,EAAE;;;;;;;;yDAG/G;;8CACE,6LAAC;oCAAI,WAAU;;sDACb,6LAAC;4CAAK,WAAW,CAAC,2FAA2F,EAAE,YAAY,8CAA8C,GAAG,MAAM,EAAE,CAAC,CAAC,EAAE,MAAM,IAAI,CAAC,CAAC,EAAE,MAAM,MAAM,EAAE,EAAE;sDACnN,IAAI,QAAQ;;;;;;sDAGf,6LAAC,wJAAc;4CAAC,QAAQ;4CAAe,WAAU;;;;;;wCAEhD,2BACG,6LAAC;4CAAK,WAAU;;8DACZ,6LAAC,gNAAK;oDAAC,MAAM;;;;;;gDAAM;;;;;;;wCAI1B,CAAC,aAAa,IAAI,QAAQ,IAAI,6BAC7B,6LAAC;4CAAK,WAAU;;8DACd,6LAAC,sOAAW;oDAAC,MAAM;;;;;;gDAAM;8DAAC,6LAAC;oDAAK,WAAU;8DAAmB;;;;;;;;;;;;;;;;;;8CAInE,6LAAC;oCAAG,WAAU;8CACX,IAAI,KAAK;;;;;;8CAEZ,6LAAC;oCAAE,WAAU;;wCAAuE;wCAAU,IAAI,EAAE;;;;;;;;;;;;;;;;;;;;0BAK5G,6LAAC;gBACC,SAAS;gBACT,WAAU;gBACV,cAAW;0BAEX,cAAA,6LAAC,oMAAC;oBAAC,MAAM;;;;;;;;;;;;;;;;;AAIjB;KAxEa"}},
    {"offset": {"line": 1186, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Khesh/Desktop/Jambo-linguists/components/portal/dashboard/jobs/modal/JobResources.tsx"],"sourcesContent":["\r\nimport React from 'react';\r\nimport { CheckCircle, Lock, Link, File, Download, UploadCloud, LucideIcon } from 'lucide-react';\r\n\r\ninterface FileItem {\r\n    name: string;\r\n    type: 'file' | 'link';\r\n    url: string;\r\n    source: string; // 'Instruction', 'Delivery', 'Revision Markup', 'History'\r\n    date: string;\r\n}\r\n\r\ninterface JobResourcesProps {\r\n  files: FileItem[];\r\n  isLocked: boolean;\r\n  title?: string;\r\n  icon?: LucideIcon;\r\n}\r\n\r\nexport const JobResources = ({ files, isLocked, title = \"Files & Resources\", icon: Icon = CheckCircle }: JobResourcesProps) => {\r\n  if (!files || files.length === 0) return null;\r\n\r\n  return (\r\n    <div className={`rounded-xl border-2 transition-all overflow-hidden mt-6 ${\r\n      !isLocked \r\n        ? 'border-gray-200 bg-white dark:bg-white/5 dark:border-white/10' \r\n        : 'border-gray-200 bg-gray-50 dark:bg-white/5 dark:border-white/10'\r\n    }`}>\r\n      <div className={`p-4 flex items-center justify-between border-b ${\r\n        !isLocked \r\n          ? 'border-gray-100 bg-gray-50/50 dark:bg-white/5 dark:border-white/5' \r\n          : 'border-gray-100 bg-white/50 dark:bg-white/5 dark:border-white/5'\r\n      }`}>\r\n        <h4 className=\"font-bold text-gray-800 dark:text-gray-200 flex items-center gap-2 text-sm md:text-base\">\r\n          {!isLocked ? <Icon size={18} className=\"text-jambo-600 dark:text-jambo-400\"/> : <Lock size={18} className=\"text-gray-400 dark:text-gray-500\"/>}\r\n          {title} ({files.length})\r\n        </h4>\r\n        {isLocked && <span className=\"text-[10px] md:text-xs font-bold uppercase tracking-wider text-gray-400 dark:text-gray-400 bg-gray-200 dark:bg-white/10 px-2 py-1 rounded\">Locked</span>}\r\n      </div>\r\n      \r\n      <div className=\"p-4 md:p-6 space-y-4\">\r\n        {files.map((file, index) => {\r\n            const isDelivery = file.source === 'Delivery';\r\n            const isInstruction = file.source === 'Instruction';\r\n            const isRevision = file.source === 'Revision Markup';\r\n\r\n            let iconBg = 'bg-gray-100 text-gray-600 dark:bg-white/10 dark:text-gray-400';\r\n            if (!isLocked) {\r\n                if (isDelivery) iconBg = 'bg-blue-100 text-blue-600 dark:bg-blue-900/30 dark:text-blue-400';\r\n                else if (isRevision) iconBg = 'bg-amber-100 text-amber-600 dark:bg-amber-900/30 dark:text-amber-400';\r\n                else if (isInstruction) iconBg = 'bg-jambo-50 text-jambo-600 dark:bg-jambo-900/30 dark:text-jambo-400';\r\n            }\r\n\r\n            return (\r\n                <div key={index} className=\"flex flex-col sm:flex-row items-center gap-4 border-b border-gray-100 dark:border-white/5 last:border-0 pb-4 last:pb-0\">\r\n                    <div className={`w-12 h-12 rounded-lg flex items-center justify-center shrink-0 ${iconBg}`}>\r\n                        {file.type === 'link' ? <Link size={20} /> : (isDelivery ? <UploadCloud size={20}/> : <File size={20} />)}\r\n                    </div>\r\n                    \r\n                    <div className=\"flex-grow text-center sm:text-left\">\r\n                        <div className=\"flex flex-col sm:flex-row sm:items-center gap-2 mb-1\">\r\n                            <span className={`text-[10px] font-bold uppercase tracking-wide px-2 py-0.5 rounded w-fit mx-auto sm:mx-0 ${\r\n                                isDelivery ? 'bg-blue-100 text-blue-700 dark:bg-blue-900/40 dark:text-blue-300' :\r\n                                isRevision ? 'bg-amber-100 text-amber-700 dark:bg-amber-900/40 dark:text-amber-300' :\r\n                                'bg-gray-100 text-gray-600 dark:bg-white/10 dark:text-gray-400'\r\n                            }`}>\r\n                                {file.source}\r\n                            </span>\r\n                            <span className=\"text-[10px] text-gray-400\">{new Date(file.date).toLocaleDateString()}</span>\r\n                        </div>\r\n                        <p className={`font-bold text-sm md:text-base ${!isLocked ? 'text-gray-900 dark:text-white' : 'text-gray-500 dark:text-gray-400'}`}>\r\n                            {!isLocked ? file.name : 'Resource Hidden'}\r\n                        </p>\r\n                    </div>\r\n\r\n                    {!isLocked ? (\r\n                        <button className=\"bg-white border border-gray-200 dark:bg-white/5 dark:border-white/10 text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-white/10 px-4 py-2 rounded-lg font-bold text-xs md:text-sm flex items-center gap-2 transition-all w-full sm:w-auto justify-center shadow-sm\">\r\n                            {file.type === 'file' ? <Download size={14} /> : <Link size={14} />}\r\n                            {file.type === 'file' ? 'Download' : 'Open'}\r\n                        </button>\r\n                    ) : (\r\n                        <div className=\"px-4 py-2 bg-gray-100 dark:bg-white/5 text-gray-400 dark:text-gray-500 rounded-lg text-xs md:text-sm font-bold border border-gray-200 dark:border-white/10 cursor-not-allowed w-full sm:w-auto text-center\">\r\n                            Locked\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            );\r\n        })}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n"],"names":[],"mappings":";;;;;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;;;AAiBO,MAAM,eAAe,CAAC,EAAE,KAAK,EAAE,QAAQ,EAAE,QAAQ,mBAAmB,EAAE,MAAM,OAAO,6OAAW,EAAqB;IACxH,IAAI,CAAC,SAAS,MAAM,MAAM,KAAK,GAAG,OAAO;IAEzC,qBACE,6LAAC;QAAI,WAAW,CAAC,wDAAwD,EACvE,CAAC,WACG,kEACA,mEACJ;;0BACA,6LAAC;gBAAI,WAAW,CAAC,+CAA+C,EAC9D,CAAC,WACG,sEACA,mEACJ;;kCACA,6LAAC;wBAAG,WAAU;;4BACX,CAAC,yBAAW,6LAAC;gCAAK,MAAM;gCAAI,WAAU;;;;;yFAAyC,6LAAC,6MAAI;gCAAC,MAAM;gCAAI,WAAU;;;;;;4BACzG;4BAAM;4BAAG,MAAM,MAAM;4BAAC;;;;;;;oBAExB,0BAAY,6LAAC;wBAAK,WAAU;kCAA4I;;;;;;;;;;;;0BAG3K,6LAAC;gBAAI,WAAU;0BACZ,MAAM,GAAG,CAAC,CAAC,MAAM;oBACd,MAAM,aAAa,KAAK,MAAM,KAAK;oBACnC,MAAM,gBAAgB,KAAK,MAAM,KAAK;oBACtC,MAAM,aAAa,KAAK,MAAM,KAAK;oBAEnC,IAAI,SAAS;oBACb,IAAI,CAAC,UAAU;wBACX,IAAI,YAAY,SAAS;6BACpB,IAAI,YAAY,SAAS;6BACzB,IAAI,eAAe,SAAS;oBACrC;oBAEA,qBACI,6LAAC;wBAAgB,WAAU;;0CACvB,6LAAC;gCAAI,WAAW,CAAC,+DAA+D,EAAE,QAAQ;0CACrF,KAAK,IAAI,KAAK,uBAAS,6LAAC,6MAAI;oCAAC,MAAM;;;;;+EAAU,2BAAa,6LAAC,sOAAW;oCAAC,MAAM;;;;;6FAAQ,6LAAC,6MAAI;oCAAC,MAAM;;;;;;;;;;;0CAGtG,6LAAC;gCAAI,WAAU;;kDACX,6LAAC;wCAAI,WAAU;;0DACX,6LAAC;gDAAK,WAAW,CAAC,wFAAwF,EACtG,aAAa,qEACb,aAAa,yEACb,iEACF;0DACG,KAAK,MAAM;;;;;;0DAEhB,6LAAC;gDAAK,WAAU;0DAA6B,IAAI,KAAK,KAAK,IAAI,EAAE,kBAAkB;;;;;;;;;;;;kDAEvF,6LAAC;wCAAE,WAAW,CAAC,+BAA+B,EAAE,CAAC,WAAW,kCAAkC,oCAAoC;kDAC7H,CAAC,WAAW,KAAK,IAAI,GAAG;;;;;;;;;;;;4BAIhC,CAAC,yBACE,6LAAC;gCAAO,WAAU;;oCACb,KAAK,IAAI,KAAK,uBAAS,6LAAC,yNAAQ;wCAAC,MAAM;;;;;iGAAS,6LAAC,6MAAI;wCAAC,MAAM;;;;;;oCAC5D,KAAK,IAAI,KAAK,SAAS,aAAa;;;;;;yFAGzC,6LAAC;gCAAI,WAAU;0CAA6M;;;;;;;uBA3B1N;;;;;gBAiClB;;;;;;;;;;;;AAIR;KAxEa"}},
    {"offset": {"line": 1391, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Khesh/Desktop/Jambo-linguists/components/portal/dashboard/jobs/modal/JobInfo.tsx"],"sourcesContent":["\r\nimport React, { useMemo } from 'react';\r\nimport { Calendar, PoundSterling, Globe, Clock, FileText, MapPin, CheckCircle, Briefcase, AlertTriangle, Download, Loader2, UploadCloud } from 'lucide-react';\r\nimport { Job } from '@/data/mockDatabase';\r\nimport { JobResources } from './JobResources';\r\nimport { getInterpretingJobPayoutDetails } from '../job-helpers';\r\n\r\n\r\nconst RateBreakdown = ({ job }: { job: Job }) => {\r\n    const details = getInterpretingJobPayoutDetails(job);\r\n    if (!details) return null;\r\n\r\n    return (\r\n      <div className=\"mt-6\">\r\n        <h3 className=\"text-sm md:text-lg font-bold text-gray-900 dark:text-white mb-3 font-serif\">Rate Breakdown</h3>\r\n        <div className=\"space-y-3 bg-gray-50 dark:bg-white/5 p-4 rounded-xl border border-gray-100 dark:border-white/5\">\r\n          {details.sessionPay > 0 && (\r\n              <div className=\"flex justify-between items-center text-xs md:text-sm\">\r\n                <span className=\"text-gray-600 dark:text-gray-300\">Session ({details.hours.toFixed(2)} hrs @ £{job.hourlyRate?.toFixed(2)}/hr)</span>\r\n                <span className=\"font-mono font-medium text-gray-800 dark:text-gray-200\">£{details.sessionPay.toFixed(2)}</span>\r\n              </div>\r\n          )}\r\n          {details.mileagePay > 0 && (\r\n              <div className=\"flex justify-between items-center text-xs md:text-sm\">\r\n                <span className=\"text-gray-600 dark:text-gray-300\">Mileage ({job.distance} mi @ £{job.mileageRate?.toFixed(2)}/mi)</span>\r\n                <span className=\"font-mono font-medium text-gray-800 dark:text-gray-200\">£{details.mileagePay.toFixed(2)}</span>\r\n              </div>\r\n          )}\r\n          {details.travelPay > 0 && (\r\n              <div className=\"flex justify-between items-center text-xs md:text-sm\">\r\n                <span className=\"text-gray-600 dark:text-gray-300\">Travel ({job.travelHours} hrs @ £{job.travelRate?.toFixed(2)}/hr)</span>\r\n                <span className=\"font-mono font-medium text-gray-800 dark:text-gray-200\">£{details.travelPay.toFixed(2)}</span>\r\n              </div>\r\n          )}\r\n          <div className=\"pt-2 border-t border-gray-200 dark:border-white/10 mt-2 flex justify-between items-center\">\r\n             <span className=\"font-bold text-gray-800 dark:text-white text-sm md:text-base\">Estimated Total</span>\r\n             <span className=\"font-bold font-mono text-jambo-600 dark:text-jambo-400 text-base md:text-lg\">£{details.total.toFixed(2)}</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n};\r\n\r\ninterface JobInfoProps {\r\n  job: Job;\r\n  isHistory: boolean;\r\n  isAvailable: boolean;\r\n}\r\n\r\nexport const JobInfo = ({ job, isHistory, isAvailable }: JobInfoProps) => {\r\n  const payoutDetails = getInterpretingJobPayoutDetails(job);\r\n  \r\n  const rateDisplay = (job.category === 'Translation' && job.wordRate) \r\n    ? `${(job.wordRate * 100).toFixed(0)}p/word` \r\n    : job.rate;\r\n\r\n  // Split files logic into distinct groups\r\n  const { originalFiles, submittedFiles, revisionFiles } = useMemo(() => {\r\n      const originals = (job.attachments || []).map(f => ({\r\n          name: f.name,\r\n          type: f.type,\r\n          url: f.url,\r\n          source: 'Instruction',\r\n          date: job.date\r\n      }));\r\n\r\n      // Add any CREATED history attachments to originals\r\n      (job.history || []).forEach(h => {\r\n          if (h.type === 'CREATED' && h.attachment) {\r\n              originals.push({\r\n                  name: h.attachment,\r\n                  type: 'file',\r\n                  url: '#',\r\n                  source: 'Instruction',\r\n                  date: h.date\r\n              });\r\n          }\r\n      });\r\n\r\n      const submitted: any[] = [];\r\n      const revisions: any[] = [];\r\n\r\n      (job.history || []).forEach(h => {\r\n          if (h.attachment) {\r\n              const fileItem = {\r\n                  name: h.attachment,\r\n                  type: 'file' as const,\r\n                  url: '#',\r\n                  source: '',\r\n                  date: h.date\r\n              };\r\n\r\n              if (h.type === 'SUBMITTED' || h.type === 'RESUBMITTED') {\r\n                  fileItem.source = 'Delivery';\r\n                  submitted.push(fileItem);\r\n              } else if (h.type === 'REVISION_REQUESTED') {\r\n                  fileItem.source = 'Revision Markup';\r\n                  revisions.push(fileItem);\r\n              }\r\n          }\r\n      });\r\n\r\n      return {\r\n          originalFiles: originals.sort((a, b) => new Date(b.date).getTime() - new Date(a.date).getTime()),\r\n          submittedFiles: submitted.sort((a, b) => new Date(b.date).getTime() - new Date(a.date).getTime()),\r\n          revisionFiles: revisions.sort((a, b) => new Date(b.date).getTime() - new Date(a.date).getTime())\r\n      };\r\n  }, [job]);\r\n\r\n  return (\r\n    <div className=\"p-5 md:p-8 space-y-6 md:space-y-8 animate-in fade-in slide-in-from-left-4 duration-300\">\r\n      \r\n      {/* Status Banners */}\r\n      {job.status === 'Revision' && (\r\n          <div className=\"bg-amber-50 dark:bg-amber-900/20 border-l-4 border-amber-500 p-4 md:p-6 rounded-r-xl shadow-sm\">\r\n              <h3 className=\"font-bold text-amber-800 dark:text-amber-200 flex items-center gap-2 mb-2 text-lg\">\r\n                  <AlertTriangle size={20} /> Revision Requested\r\n              </h3>\r\n              <p className=\"text-amber-900 dark:text-amber-100 text-sm mb-4 leading-relaxed\">\r\n                  {job.revisionFeedback || \"Please review the job details and resubmit.\"}\r\n              </p>\r\n              {job.revisionFile && (\r\n                  <button className=\"bg-white dark:bg-amber-900/40 text-amber-800 dark:text-amber-200 px-4 py-2 rounded-lg text-xs font-bold border border-amber-200 dark:border-amber-800 flex items-center gap-2 hover:bg-amber-100 transition-colors\">\r\n                      <Download size={14} /> Download Mark-up: {job.revisionFile}\r\n                  </button>\r\n              )}\r\n          </div>\r\n      )}\r\n\r\n      {job.status === 'Pending Approval' && (\r\n          <div className=\"bg-indigo-50 dark:bg-indigo-900/20 border-l-4 border-indigo-500 p-4 md:p-6 rounded-r-xl shadow-sm flex items-start gap-4\">\r\n              <div className=\"p-2 bg-indigo-100 dark:bg-indigo-900/40 rounded-full text-indigo-600 dark:text-indigo-400\">\r\n                  <Loader2 size={24} className=\"animate-spin\" />\r\n              </div>\r\n              <div>\r\n                  <h3 className=\"font-bold text-indigo-900 dark:text-indigo-200 text-lg mb-1\">Pending Approval</h3>\r\n                  <p className=\"text-indigo-800 dark:text-indigo-300 text-sm leading-relaxed\">\r\n                      Your completion details have been submitted. An administrator will review your work shortly.\r\n                  </p>\r\n              </div>\r\n          </div>\r\n      )}\r\n\r\n      {/* Key Details Grid */}\r\n      <div className=\"grid grid-cols-2 gap-4 md:gap-6 p-4 md:p-6 bg-gray-50 dark:bg-white/5 rounded-xl border border-gray-100 dark:border-white/5\">\r\n        <div className=\"space-y-1\">\r\n          <p className=\"text-[10px] md:text-xs font-bold text-gray-400 dark:text-gray-500 uppercase tracking-wide flex items-center gap-1\"><Calendar size={12}/> Date & Time</p>\r\n          <p className=\"text-base md:text-lg font-bold text-gray-900 dark:text-gray-100 leading-tight\">\r\n            {new Date(job.date).toLocaleDateString('en-GB', { day: 'numeric', month: 'short' })}\r\n            {job.time && `, ${job.time}`}\r\n          </p>\r\n        </div>\r\n        \r\n        <div className=\"space-y-1\">\r\n          <p className=\"text-[10px] md:text-xs font-bold text-gray-400 dark:text-gray-500 uppercase tracking-wide flex items-center gap-1\">\r\n             <PoundSterling size={12}/> {payoutDetails ? 'Est. Payout' : 'Rate'}\r\n          </p>\r\n          <p className=\"text-base md:text-lg font-bold text-jambo-600 dark:text-jambo-400 leading-tight\">\r\n            {payoutDetails ? `£${payoutDetails.total.toFixed(2)}` : rateDisplay}\r\n          </p>\r\n        </div>\r\n\r\n        <div className=\"space-y-1\">\r\n          <p className=\"text-[10px] md:text-xs font-bold text-gray-400 dark:text-gray-500 uppercase tracking-wide flex items-center gap-1\"><Globe size={12}/> Language Pair</p>\r\n          <p className=\"text-base md:text-lg font-bold text-gray-900 dark:text-gray-100 leading-tight\">{job.languagePair}</p>\r\n        </div>\r\n\r\n        <div className=\"space-y-1\">\r\n          <p className=\"text-[10px] md:text-xs font-bold text-gray-400 dark:text-gray-500 uppercase tracking-wide flex items-center gap-1\">\r\n            {job.category === 'Translation' ? <FileText size={12}/> : (job.category === 'Interpreting' ? <Briefcase size={12} /> : <Clock size={12}/>)} \r\n            {job.category === 'Translation' ? 'Volume' : 'Type'}\r\n          </p>\r\n          <p className=\"text-base md:text-lg font-bold text-gray-900 dark:text-gray-100 leading-tight\">\r\n            {job.category === 'Translation' ? `${job.wordCount?.toLocaleString()} wds` : job.type}\r\n          </p>\r\n        </div>\r\n      </div>\r\n\r\n      <div>\r\n        <h3 className=\"text-sm md:text-lg font-bold text-gray-900 dark:text-white mb-2 md:mb-3 font-serif\">Description & Requirements</h3>\r\n        <p className=\"text-sm md:text-base text-gray-600 dark:text-gray-300 leading-relaxed font-light\">\r\n          {job.description}\r\n        </p>\r\n        \r\n        <div className=\"mt-4 md:mt-6 space-y-3\">\r\n          <div className=\"flex items-start gap-3\">\r\n            <MapPin className=\"text-gray-400 dark:text-gray-500 shrink-0 mt-0.5 md:mt-1\" size={16} />\r\n            <div>\r\n              <p className=\"font-bold text-gray-900 dark:text-white text-xs md:text-sm\">Location / Context</p>\r\n              <p className=\"text-gray-600 dark:text-gray-400 text-sm md:text-base leading-snug\">{job.location}</p>\r\n            </div>\r\n          </div>\r\n           {job.duration && (\r\n            <div className=\"flex items-start gap-3\">\r\n                <Clock className=\"text-gray-400 dark:text-gray-500 shrink-0 mt-0.5 md:mt-1\" size={16} />\r\n                <div>\r\n                  <p className=\"font-bold text-gray-900 dark:text-white text-xs md:text-sm\">Duration</p>\r\n                  <p className=\"text-gray-600 dark:text-gray-400 text-sm md:text-base leading-snug\">{job.duration}</p>\r\n                </div>\r\n            </div>\r\n           )}\r\n        </div>\r\n\r\n         {payoutDetails && <RateBreakdown job={job} />}\r\n\r\n      </div>\r\n\r\n      {/* 1. Original Instructions (Always show if present, possibly locked) */}\r\n      <JobResources \r\n        files={originalFiles} \r\n        isLocked={isAvailable} \r\n        title=\"Job Instructions & Resources\"\r\n        icon={FileText}\r\n      />\r\n\r\n      {/* 2. Revisions (Only if present, unlocked) */}\r\n      {revisionFiles.length > 0 && !isAvailable && (\r\n         <JobResources \r\n            files={revisionFiles}\r\n            isLocked={false}\r\n            title=\"Revision Requests\"\r\n            icon={AlertTriangle}\r\n         />\r\n      )}\r\n\r\n      {/* 3. User Submissions (Only if present, unlocked) */}\r\n      {submittedFiles.length > 0 && !isAvailable && (\r\n         <JobResources \r\n            files={submittedFiles}\r\n            isLocked={false}\r\n            title=\"My Deliverables\"\r\n            icon={UploadCloud}\r\n         />\r\n      )}\r\n      \r\n      {/* Completion Details Summary */}\r\n      {isHistory && job.completedAt && (\r\n        <div className=\"mt-8 pt-8 border-t border-gray-100 dark:border-white/10\">\r\n          <h4 className=\"font-bold text-gray-900 dark:text-white mb-4 flex items-center gap-2 text-sm md:text-base\">\r\n            <CheckCircle size={18} className=\"text-green-600 dark:text-green-500\"/> Completion Summary\r\n          </h4>\r\n          <div className=\"bg-gray-50 dark:bg-white/5 rounded-xl p-4 md:p-6 border border-gray-200 dark:border-white/10\">\r\n            <div className=\"flex justify-between items-start mb-2\">\r\n                <span className=\"text-xs font-bold uppercase text-gray-400 tracking-wider\">Submitted On</span>\r\n                <span className=\"text-xs font-mono text-gray-500\">{new Date(job.completedAt).toLocaleString()}</span>\r\n            </div>\r\n            {job.completionNotes ? (\r\n                <div>\r\n                    <span className=\"text-xs font-bold uppercase text-gray-400 tracking-wider block mb-1\">Notes</span>\r\n                    <p className=\"text-gray-800 dark:text-gray-200 italic text-sm md:text-base leading-relaxed\">\"{job.completionNotes}\"</p>\r\n                </div>\r\n            ) : (\r\n                <p className=\"text-sm text-gray-400 italic\">No completion notes provided.</p>\r\n            )}\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2179, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Khesh/Desktop/Jambo-linguists/components/portal/dashboard/jobs/modal/CompletionForm.tsx"],"sourcesContent":["\r\nimport React from 'react';\r\nimport { AlertCircle, FileText, Upload } from 'lucide-react';\r\n\r\ninterface CompletionFormProps {\r\n  completionNotes: string;\r\n  setCompletionNotes: (notes: string) => void;\r\n  completionFile: string | null;\r\n  handleFileSelect: () => void;\r\n}\r\n\r\nexport const CompletionForm = ({ completionNotes, setCompletionNotes, completionFile, handleFileSelect }: CompletionFormProps) => {\r\n  return (\r\n    <div className=\"p-4 md:p-8 space-y-6 animate-in slide-in-from-right-8 duration-300\">\r\n      <div className=\"bg-yellow-50 border border-yellow-200 rounded-xl p-4 flex gap-3 text-yellow-800 text-xs md:text-sm\">\r\n        <AlertCircle size={20} className=\"shrink-0\" />\r\n        <p>Please ensure all deliverables are correct. Once submitted, the job status will be updated to Completed and cannot be reverted.</p>\r\n      </div>\r\n\r\n      <div className=\"space-y-4 md:space-y-6\">\r\n        <div className=\"space-y-2\">\r\n          <label className=\"text-xs md:text-sm font-bold text-gray-700 uppercase tracking-wide\">Completion Notes / Summary *</label>\r\n          <textarea \r\n            value={completionNotes}\r\n            onChange={(e) => setCompletionNotes(e.target.value)}\r\n            placeholder=\"Describe the work done, duration confirmation, or any issues encountered...\"\r\n            rows={4}\r\n            className=\"w-full bg-gray-50 border border-gray-200 rounded-xl p-3 md:p-4 focus:outline-none focus:border-jambo-600 focus:ring-4 focus:ring-jambo-50 transition-all resize-none text-sm md:text-base\"\r\n          ></textarea>\r\n        </div>\r\n\r\n        <div className=\"space-y-2\">\r\n          <label className=\"text-xs md:text-sm font-bold text-gray-700 uppercase tracking-wide\">Upload Proof / Deliverable</label>\r\n          <div \r\n            onClick={handleFileSelect}\r\n            className={`border-2 border-dashed rounded-xl p-6 md:p-8 flex flex-col items-center justify-center gap-2 cursor-pointer transition-colors ${completionFile ? 'border-jambo-600 bg-jambo-50' : 'border-gray-300 hover:border-jambo-400 hover:bg-gray-50'}`}\r\n          >\r\n            {completionFile ? (\r\n              <>\r\n                <div className=\"w-10 h-10 md:w-12 md:h-12 bg-jambo-600 text-white rounded-full flex items-center justify-center\">\r\n                  <FileText size={20} className=\"md:w-6 md:h-6\" />\r\n                </div>\r\n                <p className=\"font-bold text-jambo-700 text-center text-sm md:text-base break-all\">{completionFile}</p>\r\n                <p className=\"text-xs text-gray-500\">Click to change file</p>\r\n              </>\r\n            ) : (\r\n              <>\r\n                <Upload size={24} className=\"text-gray-400 md:w-8 md:h-8\" />\r\n                <p className=\"font-medium text-gray-600 text-sm md:text-base text-center\">Tap to upload file</p>\r\n                <p className=\"text-[10px] md:text-xs text-gray-400\">PDF, DOCX, MP3 (Max 10MB)</p>\r\n              </>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n"],"names":[],"mappings":";;;;;AAEA;AAAA;AAAA;;;AASO,MAAM,iBAAiB,CAAC,EAAE,eAAe,EAAE,kBAAkB,EAAE,cAAc,EAAE,gBAAgB,EAAuB;IAC3H,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAI,WAAU;;kCACb,6LAAC,sOAAW;wBAAC,MAAM;wBAAI,WAAU;;;;;;kCACjC,6LAAC;kCAAE;;;;;;;;;;;;0BAGL,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAM,WAAU;0CAAqE;;;;;;0CACtF,6LAAC;gCACC,OAAO;gCACP,UAAU,CAAC,IAAM,mBAAmB,EAAE,MAAM,CAAC,KAAK;gCAClD,aAAY;gCACZ,MAAM;gCACN,WAAU;;;;;;;;;;;;kCAId,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAM,WAAU;0CAAqE;;;;;;0CACtF,6LAAC;gCACC,SAAS;gCACT,WAAW,CAAC,8HAA8H,EAAE,iBAAiB,iCAAiC,2DAA2D;0CAExP,+BACC;;sDACE,6LAAC;4CAAI,WAAU;sDACb,cAAA,6LAAC,6NAAQ;gDAAC,MAAM;gDAAI,WAAU;;;;;;;;;;;sDAEhC,6LAAC;4CAAE,WAAU;sDAAuE;;;;;;sDACpF,6LAAC;4CAAE,WAAU;sDAAwB;;;;;;;iEAGvC;;sDACE,6LAAC,mNAAM;4CAAC,MAAM;4CAAI,WAAU;;;;;;sDAC5B,6LAAC;4CAAE,WAAU;sDAA6D;;;;;;sDAC1E,6LAAC;4CAAE,WAAU;sDAAuC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQpE;KA9Ca"}},
    {"offset": {"line": 2358, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Khesh/Desktop/Jambo-linguists/components/portal/dashboard/jobs/modal/ModalFooter.tsx"],"sourcesContent":["\r\nimport React, { useMemo, useState } from 'react';\r\nimport { CheckCircle, Phone, Printer, Send, Lock, Loader2, XCircle, RotateCcw, LogOut } from 'lucide-react';\r\nimport { mockDb } from '@/data/mockDatabase';\r\nimport { Job, Invoice } from '@/data/types';\r\nimport { generateInvoicePDF } from '../../finance/pdfGenerator';\r\nimport { calculateJobPayout } from '../job-helpers';\r\n\r\ninterface ModalFooterProps {\r\n  currentStatus: string;\r\n  viewMode: 'details' | 'completionForm';\r\n  isAvailable: boolean;\r\n  isBooked: boolean;\r\n  isHistory: boolean;\r\n  uploading: boolean;\r\n  completionNotes: string;\r\n  onClose: () => void;\r\n  handleAccept: () => void;\r\n  handleSubmitCompletion: () => void;\r\n  handleUnassign?: () => void; // New prop\r\n  setViewMode: (mode: 'details' | 'completionForm') => void;\r\n  job: Job;\r\n}\r\n\r\nexport const ModalFooter = ({ \r\n  currentStatus, viewMode, isAvailable, isBooked, isHistory, \r\n  uploading, completionNotes, onClose, \r\n  handleAccept, handleSubmitCompletion, handleUnassign, setViewMode, job\r\n}: ModalFooterProps) => {\r\n\r\n  const [isGeneratingInvoice, setIsGeneratingInvoice] = useState(false);\r\n  const isRevision = currentStatus === 'Revision';\r\n  \r\n  const complianceCheck = useMemo(() => {\r\n     if (!job || !job.requiredCourseIds) return { compliant: true, missingCourses: [] };\r\n     return mockDb.checkCompliance(job.requiredCourseIds);\r\n  }, [job]);\r\n\r\n  const handlePrintInvoice = async () => {\r\n      if (!job) return;\r\n      setIsGeneratingInvoice(true);\r\n      \r\n      const user = mockDb.auth.getCurrentUser();\r\n      if (!user) {\r\n          setIsGeneratingInvoice(false);\r\n          return;\r\n      }\r\n\r\n      const payout = calculateJobPayout(job);\r\n\r\n      if (payout <= 0) {\r\n          console.error(\"Cannot generate invoice with zero or negative payout.\");\r\n          setIsGeneratingInvoice(false);\r\n          return;\r\n      }\r\n\r\n      const invoice: Invoice = {\r\n          id: `inv-${job.id}`,\r\n          userId: user.id,\r\n          reference: `INV-${job.id}`,\r\n          date: job.completedAt || new Date().toISOString(),\r\n          dueDate: new Date(new Date(job.completedAt || new Date()).getTime() + 14 * 24 * 60 * 60 * 1000).toISOString(),\r\n          amount: payout,\r\n          status: 'Pending',\r\n          items: [\r\n              { description: `${job.category}: ${job.title}`, amount: payout, jobId: job.id }\r\n          ],\r\n          createdAt: new Date().toISOString(),\r\n          updatedAt: new Date().toISOString(),\r\n          deletedAt: null\r\n      };\r\n      \r\n      try {\r\n          await generateInvoicePDF(invoice, user);\r\n      } catch (error) {\r\n          console.error(\"Failed to generate PDF invoice:\", error);\r\n      } finally {\r\n          setIsGeneratingInvoice(false);\r\n      }\r\n  };\r\n\r\n  // Expiration Logic\r\n  const today = new Date();\r\n  today.setHours(0, 0, 0, 0);\r\n  const jobDate = new Date(job.date);\r\n  const isExpired = isAvailable && jobDate < today;\r\n\r\n  return (\r\n    <div className=\"p-4 md:p-6 border-t border-gray-100 dark:border-white/5 bg-gray-50 dark:bg-white/5 flex flex-col sm:flex-row items-center justify-between gap-3 md:gap-4 shrink-0 safe-area-bottom\">\r\n      {/* Left Side Info - Status messages */}\r\n      <div className=\"text-center sm:text-left w-full sm:w-auto min-h-[20px] sm:min-h-[36px]\">\r\n        {viewMode === 'completionForm' && (\r\n          <p className=\"text-sm font-bold text-gray-500 dark:text-gray-400 hidden sm:block\">\r\n              {isRevision ? 'Submitting Revision...' : 'Finalizing Job...'}\r\n          </p>\r\n        )}\r\n        \r\n        {viewMode === 'details' && (\r\n            <>\r\n                {isAvailable && (\r\n                    <div className=\"flex justify-center sm:justify-start items-center w-full\">\r\n                        {isExpired ? (\r\n                            <p className=\"text-sm font-bold text-red-500 dark:text-red-400 flex items-center gap-1\">\r\n                                <XCircle size={14} /> Application Closed\r\n                            </p>\r\n                        ) : complianceCheck.compliant ? (\r\n                            <div className=\"flex sm:flex-col items-center sm:items-start gap-2 sm:gap-0\">\r\n                                <p className=\"text-xs text-gray-500 dark:text-gray-400 font-medium\">Deadline:</p>\r\n                                <p className=\"text-sm font-bold text-gray-900 dark:text-gray-200\">Today, 5:00 PM</p>\r\n                            </div>\r\n                        ) : (\r\n                            <div className=\"flex items-center gap-2 text-red-600 dark:text-red-400\">\r\n                                <Lock size={16} />\r\n                                <div className=\"text-left\">\r\n                                    <p className=\"text-[10px] md:text-xs font-bold uppercase\">Qualifications Missing</p>\r\n                                    <p className=\"text-[10px] md:text-xs hidden sm:block\">Complete: {complianceCheck.missingCourses.join(', ')}</p>\r\n                                </div>\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                )}\r\n                {isBooked && !isRevision && (\r\n                    <p className=\"text-sm font-bold text-green-600 dark:text-green-500 flex items-center justify-center sm:justify-start gap-1\">\r\n                        <CheckCircle size={14}/> Job is active\r\n                    </p>\r\n                )}\r\n                {isRevision && (\r\n                    <p className=\"text-sm font-bold text-amber-600 dark:text-amber-500 flex items-center justify-center sm:justify-start gap-1\">\r\n                        <RotateCcw size={14}/> Action Required: Revision\r\n                    </p>\r\n                )}\r\n                {currentStatus === 'Pending Approval' && (\r\n                    <p className=\"text-sm font-bold text-indigo-500 dark:text-indigo-400 flex items-center justify-center sm:justify-start gap-1\">\r\n                        <Loader2 size={14} className=\"animate-spin\" /> Awaiting Admin Review\r\n                    </p>\r\n                )}\r\n                {currentStatus === 'Completed' && (\r\n                    <p className=\"text-sm font-bold text-gray-500 dark:text-gray-400 flex items-center justify-center sm:justify-start gap-1\">\r\n                        <CheckCircle size={14}/> Work Approved • Payment Pending\r\n                    </p>\r\n                )}\r\n            </>\r\n        )}\r\n      </div>\r\n      \r\n      {/* Buttons */}\r\n      <div className=\"flex gap-3 w-full sm:w-auto\">\r\n        <button \r\n          onClick={onClose}\r\n          disabled={uploading}\r\n          className=\"flex-1 sm:flex-none px-4 md:px-6 py-2.5 md:py-3 border border-gray-300 dark:border-white/10 text-gray-700 dark:text-gray-200 font-bold rounded-xl hover:bg-gray-100 dark:hover:bg-white/10 transition-colors disabled:opacity-50 text-sm md:text-base\"\r\n        >\r\n          Close\r\n        </button>\r\n        \r\n        {viewMode === 'completionForm' ? (\r\n          <button \r\n            onClick={handleSubmitCompletion}\r\n            disabled={uploading || !completionNotes}\r\n            className=\"flex-[2] sm:flex-none px-6 md:px-8 py-2.5 md:py-3 bg-jambo-600 dark:bg-jambo-500 text-white font-bold rounded-xl shadow-lg hover:bg-jambo-700 dark:hover:bg-jambo-600 transition-all flex items-center justify-center gap-2 disabled:opacity-50 disabled:shadow-none text-sm md:text-base\"\r\n          >\r\n            {uploading ? (\r\n              <span className=\"flex items-center gap-2\"><div className=\"w-4 h-4 border-2 border-white/50 border-t-white rounded-full animate-spin\"></div> Sending...</span>\r\n            ) : (\r\n              <><Send size={18} /> {isRevision ? 'Submit Revision' : 'Submit Work'}</>\r\n            )}\r\n          </button>\r\n        ) : (\r\n          <>\r\n            {isAvailable && (\r\n              <button \r\n                onClick={handleAccept}\r\n                disabled={uploading || !complianceCheck.compliant || isExpired}\r\n                className={`flex-[2] sm:flex-none px-6 md:px-8 py-2.5 md:py-3 font-bold rounded-xl shadow-lg flex items-center justify-center gap-2 transition-all text-sm md:text-base ${\r\n                    complianceCheck.compliant && !isExpired\r\n                    ? 'bg-jambo-600 dark:bg-jambo-500 text-white hover:bg-jambo-700 dark:hover:bg-jambo-600 hover:scale-105'\r\n                    : 'bg-gray-200 dark:bg-white/10 text-gray-400 dark:text-gray-500 cursor-not-allowed shadow-none'\r\n                }`}\r\n              >\r\n                {uploading ? (\r\n                  <span className=\"flex items-center gap-2\"><div className=\"w-4 h-4 border-2 border-white/50 border-t-white rounded-full animate-spin\"></div> Accepting...</span>\r\n                ) : (\r\n                  <>{isExpired ? <XCircle size={18} /> : (complianceCheck.compliant ? <CheckCircle size={20} /> : <Lock size={18} />)} {isExpired ? 'Expired' : 'Claim Job'}</>\r\n                )}\r\n              </button>\r\n            )}\r\n\r\n            {(isBooked || isRevision) && (\r\n              <div className=\"flex gap-2 w-full sm:w-auto\">\r\n                {handleUnassign && currentStatus === 'Scheduled' && (\r\n                    <button \r\n                        type=\"button\"\r\n                        onClick={(e) => {\r\n                            e.preventDefault();\r\n                            handleUnassign();\r\n                        }}\r\n                        className=\"flex-1 sm:flex-none px-4 py-2.5 md:py-3 bg-white dark:bg-white/5 border border-red-200 dark:border-red-900/50 text-red-600 dark:text-red-400 font-bold rounded-xl hover:bg-red-50 dark:hover:bg-red-900/10 flex items-center justify-center gap-2 text-sm md:text-base\"\r\n                    >\r\n                        <LogOut size={18} /> Unassign\r\n                    </button>\r\n                )}\r\n                <button className=\"flex-1 sm:flex-none px-4 py-2.5 md:py-3 bg-white dark:bg-white/5 border border-gray-300 dark:border-white/10 text-gray-700 dark:text-gray-200 font-bold rounded-xl hover:bg-gray-50 dark:hover:bg-white/10 flex items-center justify-center gap-2 text-sm md:text-base\">\r\n                  <Phone size={18} /> <span className=\"hidden sm:inline\">Contact</span>\r\n                </button>\r\n                <button \r\n                  onClick={() => setViewMode('completionForm')}\r\n                  className={`flex-[2] sm:flex-none px-4 md:px-6 py-2.5 md:py-3 text-white font-bold rounded-xl flex items-center justify-center gap-2 shadow-lg text-sm md:text-base transition-all\r\n                    ${isRevision ? 'bg-amber-500 hover:bg-amber-600' : 'bg-jambo-600 hover:bg-jambo-700 dark:bg-jambo-500 dark:hover:bg-jambo-600'}\r\n                  `}\r\n                >\r\n                  {isRevision ? <RotateCcw size={18} /> : <CheckCircle size={18} />} \r\n                  {isRevision ? 'Update & Resubmit' : 'Complete Job'}\r\n                </button>\r\n              </div>\r\n            )}\r\n\r\n            {currentStatus === 'Completed' && (\r\n              <button \r\n                onClick={handlePrintInvoice}\r\n                disabled={isGeneratingInvoice}\r\n                className=\"flex-[2] sm:flex-none px-4 md:px-6 py-2.5 md:py-3 bg-gray-800 dark:bg-gray-700 text-white font-bold rounded-xl hover:bg-gray-900 dark:hover:bg-gray-600 transition-colors flex items-center justify-center gap-2 text-sm md:text-base disabled:opacity-60\"\r\n              >\r\n                {isGeneratingInvoice ? <Loader2 size={18} className=\"animate-spin\"/> : <Printer size={18} />} \r\n                Invoice\r\n              </button>\r\n            )}\r\n          </>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2864, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Khesh/Desktop/Jambo-linguists/components/portal/dashboard/jobs/JobDetailsModal.tsx"],"sourcesContent":["\r\nimport React, { useState, useEffect } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport { FileText, Mic, Video } from 'lucide-react';\r\nimport { Job, mockDb } from '@/data/mockDatabase';\r\nimport { ToastType } from '../Toast';\r\nimport { JobChatWidget } from '../../../messaging/JobChatWidget';\r\n\r\n// Sub-components\r\nimport { ModalHeader } from './modal/ModalHeader';\r\nimport { JobInfo } from './modal/JobInfo';\r\nimport { CompletionForm } from './modal/CompletionForm';\r\nimport { ModalFooter } from './modal/ModalFooter';\r\n\r\ninterface JobDetailsModalProps {\r\n  job: Job;\r\n  onClose: () => void;\r\n  onNavigate: (section: string) => void;\r\n  showToast: (msg: string, type: ToastType) => void;\r\n}\r\n\r\nexport const JobDetailsModal = ({ job, onClose, onNavigate, showToast }: JobDetailsModalProps) => {\r\n  const [currentStatus, setCurrentStatus] = useState(job.status);\r\n  const [viewMode, setViewMode] = useState<'details' | 'completionForm'>('details');\r\n  const [completionNotes, setCompletionNotes] = useState('');\r\n  const [completionFile, setCompletionFile] = useState<string | null>(null);\r\n  const [uploading, setUploading] = useState(false);\r\n  \r\n  // Chat Logic\r\n  const currentUser = mockDb.auth.getCurrentUser();\r\n  // Default to admin if no postedBy set, or if postedBy is self (unlikely but possible in testing)\r\n  const chatPeerId = (job.postedBy && job.postedBy !== currentUser?.id) ? job.postedBy : 'u-admin-001';\r\n\r\n  // Status Helpers\r\n  const isAvailable = currentStatus === 'Open';\r\n  const isBooked = currentStatus === 'Scheduled' || currentStatus === 'In Progress';\r\n  const isHistory = currentStatus === 'Completed' || currentStatus === 'Cancelled';\r\n  \r\n  // Theme Helper\r\n  const getTheme = () => {\r\n    switch (job.category) {\r\n      case 'Translation': return { bg: 'bg-teal-50 dark:bg-teal-900/30', text: 'text-teal-700 dark:text-teal-300', border: 'border-teal-200 dark:border-teal-800', icon: FileText };\r\n      case 'Transcription': return { bg: 'bg-orange-50 dark:bg-orange-900/30', text: 'text-orange-700 dark:text-orange-300', border: 'border-orange-200 dark:border-orange-800', icon: Mic };\r\n      default: return { bg: 'bg-purple-50 dark:bg-purple-900/30', text: 'text-jambo-700 dark:text-purple-300', border: 'border-purple-200 dark:border-purple-800', icon: Video };\r\n    }\r\n  };\r\n\r\n  const theme = getTheme();\r\n\r\n  // Handlers\r\n  const handleAccept = () => {\r\n    setUploading(true);\r\n    setTimeout(() => {\r\n        mockDb.updateJobStatus(job.id, 'Scheduled');\r\n        setCurrentStatus('Scheduled');\r\n        setUploading(false);\r\n        showToast('Job Accepted Successfully', 'success');\r\n        onClose();\r\n        onNavigate('jobs-bookings');\r\n    }, 1200);\r\n  };\r\n\r\n  const handleSubmitCompletion = () => {\r\n      setUploading(true);\r\n      setTimeout(() => {\r\n          mockDb.updateJobStatus(job.id, 'Completed', {\r\n              notes: completionNotes,\r\n              file: completionFile || undefined\r\n          });\r\n          setUploading(false);\r\n          showToast('Job Completed Successfully', 'success');\r\n          onClose();\r\n          onNavigate('jobs-history');\r\n      }, 2000);\r\n  };\r\n\r\n  const handleUnassign = () => {\r\n      if (window.confirm('Are you sure you want to unassign yourself from this job? It will be returned to the marketplace.')) {\r\n          setUploading(true);\r\n          setTimeout(() => {\r\n              const success = mockDb.unassignJob(job.id);\r\n              setUploading(false);\r\n              if (success) {\r\n                  showToast('Job unassigned successfully.', 'info');\r\n                  onClose();\r\n                  // Force refresh or nav\r\n                  onNavigate('jobs-available'); \r\n              } else {\r\n                  showToast('Failed to unassign job. Please contact support.', 'error');\r\n              }\r\n          }, 800);\r\n      }\r\n  };\r\n\r\n  const handleFileSelect = () => {\r\n      const fakeFileName = `Completion_Proof_${job.id}_${Date.now()}.pdf`;\r\n      setCompletionFile(fakeFileName);\r\n  };\r\n\r\n  // Lock body scroll when modal is open\r\n  useEffect(() => {\r\n    document.body.style.overflow = 'hidden';\r\n    return () => {\r\n      document.body.style.overflow = 'unset';\r\n    };\r\n  }, []);\r\n\r\n  const modalContent = (\r\n    <div className=\"fixed inset-0 z-[9999] flex items-center justify-center md:p-4 animate-in fade-in duration-300 safe-area-inset-top\">\r\n      {/* Backdrop */}\r\n      <div \r\n        className=\"absolute inset-0 bg-jambo-950/60 backdrop-blur-sm transition-opacity\"\r\n        onClick={onClose}\r\n      ></div>\r\n\r\n      {/* Main Container */}\r\n      <div className=\"bg-white dark:bg-[#1a1625] w-full h-full md:h-auto md:max-h-[90vh] landscape:max-h-[100dvh] md:max-w-3xl md:rounded-2xl shadow-2xl relative z-10 flex flex-col animate-in zoom-in-95 duration-300 overflow-hidden safe-area-padding\">\r\n        \r\n        <ModalHeader \r\n          job={job}\r\n          viewMode={viewMode}\r\n          setViewMode={setViewMode}\r\n          onClose={onClose}\r\n          theme={theme}\r\n          currentStatus={currentStatus}\r\n        />\r\n\r\n        {/* Dynamic Body Content - Scrollable Area */}\r\n        <div className=\"flex-1 min-h-0 overflow-y-auto custom-scrollbar bg-white dark:bg-[#1a1625] pb-24 md:pb-0\">\r\n          {viewMode === 'details' ? (\r\n            <JobInfo \r\n              job={job} \r\n              isHistory={isHistory} \r\n              isAvailable={isAvailable} \r\n            />\r\n          ) : (\r\n            <CompletionForm \r\n              completionNotes={completionNotes}\r\n              setCompletionNotes={setCompletionNotes}\r\n              completionFile={completionFile}\r\n              handleFileSelect={handleFileSelect}\r\n            />\r\n          )}\r\n        </div>\r\n\r\n        <ModalFooter \r\n          currentStatus={currentStatus}\r\n          job={job}\r\n          viewMode={viewMode}\r\n          isAvailable={isAvailable}\r\n          isBooked={isBooked}\r\n          isHistory={isHistory}\r\n          uploading={uploading}\r\n          completionNotes={completionNotes}\r\n          onClose={onClose}\r\n          handleAccept={handleAccept}\r\n          handleSubmitCompletion={handleSubmitCompletion}\r\n          handleUnassign={handleUnassign}\r\n          setViewMode={setViewMode}\r\n        />\r\n\r\n        {/* Messaging Widget (Floats above content) */}\r\n        {currentUser && (\r\n            <JobChatWidget \r\n                jobId={job.id}\r\n                currentUserId={currentUser.id}\r\n                peerId={chatPeerId}\r\n            />\r\n        )}\r\n\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  // Use React Portal to render at document root, bypassing all other stacking contexts (headers, sidebars)\r\n  return createPortal(modalContent, document.body);\r\n};\r\n"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AAAA;AAAA;AACA;AAEA;AAEA,iBAAiB;AACjB;AACA;AACA;AACA;;;;;;;;;;;;AASO,MAAM,kBAAkB,CAAC,EAAE,GAAG,EAAE,OAAO,EAAE,UAAU,EAAE,SAAS,EAAwB;;IAC3F,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,yKAAQ,EAAC,IAAI,MAAM;IAC7D,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAA+B;IACvE,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,IAAA,yKAAQ,EAAC;IACvD,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,IAAA,yKAAQ,EAAgB;IACpE,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,yKAAQ,EAAC;IAE3C,aAAa;IACb,MAAM,cAAc,iJAAM,CAAC,IAAI,CAAC,cAAc;IAC9C,iGAAiG;IACjG,MAAM,aAAa,AAAC,IAAI,QAAQ,IAAI,IAAI,QAAQ,KAAK,aAAa,KAAM,IAAI,QAAQ,GAAG;IAEvF,iBAAiB;IACjB,MAAM,cAAc,kBAAkB;IACtC,MAAM,WAAW,kBAAkB,eAAe,kBAAkB;IACpE,MAAM,YAAY,kBAAkB,eAAe,kBAAkB;IAErE,eAAe;IACf,MAAM,WAAW;QACf,OAAQ,IAAI,QAAQ;YAClB,KAAK;gBAAe,OAAO;oBAAE,IAAI;oBAAkC,MAAM;oBAAoC,QAAQ;oBAAwC,MAAM,6NAAQ;gBAAC;YAC5K,KAAK;gBAAiB,OAAO;oBAAE,IAAI;oBAAsC,MAAM;oBAAwC,QAAQ;oBAA4C,MAAM,0MAAG;gBAAC;YACrL;gBAAS,OAAO;oBAAE,IAAI;oBAAsC,MAAM;oBAAuC,QAAQ;oBAA4C,MAAM,gNAAK;gBAAC;QAC3K;IACF;IAEA,MAAM,QAAQ;IAEd,WAAW;IACX,MAAM,eAAe;QACnB,aAAa;QACb,WAAW;YACP,iJAAM,CAAC,eAAe,CAAC,IAAI,EAAE,EAAE;YAC/B,iBAAiB;YACjB,aAAa;YACb,UAAU,6BAA6B;YACvC;YACA,WAAW;QACf,GAAG;IACL;IAEA,MAAM,yBAAyB;QAC3B,aAAa;QACb,WAAW;YACP,iJAAM,CAAC,eAAe,CAAC,IAAI,EAAE,EAAE,aAAa;gBACxC,OAAO;gBACP,MAAM,kBAAkB;YAC5B;YACA,aAAa;YACb,UAAU,8BAA8B;YACxC;YACA,WAAW;QACf,GAAG;IACP;IAEA,MAAM,iBAAiB;QACnB,IAAI,OAAO,OAAO,CAAC,sGAAsG;YACrH,aAAa;YACb,WAAW;gBACP,MAAM,UAAU,iJAAM,CAAC,WAAW,CAAC,IAAI,EAAE;gBACzC,aAAa;gBACb,IAAI,SAAS;oBACT,UAAU,gCAAgC;oBAC1C;oBACA,uBAAuB;oBACvB,WAAW;gBACf,OAAO;oBACH,UAAU,mDAAmD;gBACjE;YACJ,GAAG;QACP;IACJ;IAEA,MAAM,mBAAmB;QACrB,MAAM,eAAe,CAAC,iBAAiB,EAAE,IAAI,EAAE,CAAC,CAAC,EAAE,KAAK,GAAG,GAAG,IAAI,CAAC;QACnE,kBAAkB;IACtB;IAEA,sCAAsC;IACtC,IAAA,0KAAS;qCAAC;YACR,SAAS,IAAI,CAAC,KAAK,CAAC,QAAQ,GAAG;YAC/B;6CAAO;oBACL,SAAS,IAAI,CAAC,KAAK,CAAC,QAAQ,GAAG;gBACjC;;QACF;oCAAG,EAAE;IAEL,MAAM,6BACJ,6LAAC;QAAI,WAAU;;0BAEb,6LAAC;gBACC,WAAU;gBACV,SAAS;;;;;;0BAIX,6LAAC;gBAAI,WAAU;;kCAEb,6LAAC,oLAAW;wBACV,KAAK;wBACL,UAAU;wBACV,aAAa;wBACb,SAAS;wBACT,OAAO;wBACP,eAAe;;;;;;kCAIjB,6LAAC;wBAAI,WAAU;kCACZ,aAAa,0BACZ,6LAAC,4KAAO;4BACN,KAAK;4BACL,WAAW;4BACX,aAAa;;;;;qFAGf,6LAAC,0LAAc;4BACb,iBAAiB;4BACjB,oBAAoB;4BACpB,gBAAgB;4BAChB,kBAAkB;;;;;;;;;;;kCAKxB,6LAAC,oLAAW;wBACV,eAAe;wBACf,KAAK;wBACL,UAAU;wBACV,aAAa;wBACb,UAAU;wBACV,WAAW;wBACX,WAAW;wBACX,iBAAiB;wBACjB,SAAS;wBACT,cAAc;wBACd,wBAAwB;wBACxB,gBAAgB;wBAChB,aAAa;;;;;;oBAId,6BACG,6LAAC,6JAAa;wBACV,OAAO,IAAI,EAAE;wBACb,eAAe,YAAY,EAAE;wBAC7B,QAAQ;;;;;;;;;;;;;;;;;;IAQtB,yGAAyG;IACzG,qBAAO,IAAA,oLAAY,EAAC,cAAc,SAAS,IAAI;AACjD;GA3Ja;KAAA"}},
    {"offset": {"line": 3096, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Khesh/Desktop/Jambo-linguists/components/portal/dashboard/jobs/Pagination.tsx"],"sourcesContent":["\r\nimport React from 'react';\r\nimport { ChevronLeft, ChevronRight } from 'lucide-react';\r\n\r\ninterface PaginationProps {\r\n  currentPage: number;\r\n  totalPages: number;\r\n  onPageChange: (page: number) => void;\r\n}\r\n\r\nexport const Pagination = ({ currentPage, totalPages, onPageChange }: PaginationProps) => {\r\n  if (totalPages <= 1) return null;\r\n\r\n  return (\r\n    <div className=\"flex items-center justify-center gap-4 mt-8\">\r\n      <button\r\n        onClick={() => onPageChange(currentPage - 1)}\r\n        disabled={currentPage === 1}\r\n        className=\"w-10 h-10 flex items-center justify-center rounded-lg border border-gray-200 dark:border-white/10 bg-white dark:bg-white/5 hover:bg-gray-50 dark:hover:bg-white/10 disabled:opacity-50 disabled:cursor-not-allowed transition-colors shadow-sm text-gray-600 dark:text-gray-300\"\r\n      >\r\n        <ChevronLeft size={20} />\r\n      </button>\r\n\r\n      <span className=\"text-sm font-medium text-gray-600 dark:text-gray-300\">\r\n        Page <span className=\"text-jambo-600 dark:text-jambo-400 font-bold\">{currentPage}</span> of {totalPages}\r\n      </span>\r\n\r\n      <button\r\n        onClick={() => onPageChange(currentPage + 1)}\r\n        disabled={currentPage === totalPages}\r\n        className=\"w-10 h-10 flex items-center justify-center rounded-lg border border-gray-200 dark:border-white/10 bg-white dark:bg-white/5 hover:bg-gray-50 dark:hover:bg-white/10 disabled:opacity-50 disabled:cursor-not-allowed transition-colors shadow-sm text-gray-600 dark:text-gray-300\"\r\n      >\r\n        <ChevronRight size={20} />\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n"],"names":[],"mappings":";;;;;AAEA;AAAA;;;AAQO,MAAM,aAAa,CAAC,EAAE,WAAW,EAAE,UAAU,EAAE,YAAY,EAAmB;IACnF,IAAI,cAAc,GAAG,OAAO;IAE5B,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBACC,SAAS,IAAM,aAAa,cAAc;gBAC1C,UAAU,gBAAgB;gBAC1B,WAAU;0BAEV,cAAA,6LAAC,sOAAW;oBAAC,MAAM;;;;;;;;;;;0BAGrB,6LAAC;gBAAK,WAAU;;oBAAuD;kCAChE,6LAAC;wBAAK,WAAU;kCAAgD;;;;;;oBAAmB;oBAAK;;;;;;;0BAG/F,6LAAC;gBACC,SAAS,IAAM,aAAa,cAAc;gBAC1C,UAAU,gBAAgB;gBAC1B,WAAU;0BAEV,cAAA,6LAAC,yOAAY;oBAAC,MAAM;;;;;;;;;;;;;;;;;AAI5B;KA1Ba"}},
    {"offset": {"line": 3179, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Khesh/Desktop/Jambo-linguists/components/portal/dashboard/jobs/JobsAvailable.tsx"],"sourcesContent":["import React, { useState, useMemo, useEffect } from 'react';\r\nimport { JobFilters, FiltersState } from './JobFilters';\r\nimport { JobCard } from './JobCard';\r\nimport { JobListItem } from './JobListItem';\r\nimport { JobDetailsModal } from './JobDetailsModal';\r\nimport { Pagination } from './Pagination';\r\nimport { mockDb, Job } from '@/data/mockDatabase';\r\nimport { ToastType } from '../Toast';\r\n\r\nconst ITEMS_PER_PAGE = 6;\r\n\r\ninterface JobsAvailableProps {\r\n  navigateToSection: (section: string, jobId?: string) => void;\r\n  initialJobId?: string | null;\r\n  showToast: (msg: string, type: ToastType) => void;\r\n}\r\n\r\nexport const JobsAvailable = ({ navigateToSection, initialJobId, showToast }: JobsAvailableProps) => {\r\n  const [selectedJob, setSelectedJob] = useState<Job | null>(null);\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [viewMode, setViewMode] = useState<'grid' | 'list'>('grid');\r\n  const [showExpired, setShowExpired] = useState(false);\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  \r\n  const [filters, setFilters] = useState<FiltersState>({\r\n    category: 'All', \r\n    distance: 'Any',\r\n    sortBy: 'date' // Default: Newest first\r\n  });\r\n\r\n  // Fetch all available (Open) jobs\r\n  const allOpenJobs = mockDb.getAvailableJobs();\r\n  const currentUser = mockDb.auth.getCurrentUser();\r\n\r\n  // Handle deep linking\r\n  useEffect(() => {\r\n    if (initialJobId) {\r\n        const target = allOpenJobs.find(j => j.id === initialJobId);\r\n        if (target) setSelectedJob(target);\r\n    }\r\n  }, [initialJobId, allOpenJobs]);\r\n\r\n  const filteredJobs = useMemo(() => {\r\n    let result = [...allOpenJobs];\r\n\r\n    // 0. Language Pair Filter\r\n    if (currentUser && currentUser.role === 'linguist' && currentUser.languages) {\r\n        const userLangs = currentUser.languages.map(l => l.toLowerCase());\r\n        result = result.filter(job => {\r\n            const requiredLangs = job.languagePair.split(/[<>]+/).map(l => l.trim().toLowerCase()).filter(Boolean);\r\n            if (requiredLangs.length === 0) return true; // if no language specified, show it.\r\n            // Check if every language required for the job is present in the user's languages\r\n            return requiredLangs.every(lang => userLangs.includes(lang));\r\n        });\r\n    }\r\n\r\n    // 1. Search Filter\r\n    if (searchTerm.trim()) {\r\n        const lowerTerm = searchTerm.toLowerCase();\r\n        result = result.filter(job => \r\n            job.title.toLowerCase().includes(lowerTerm) ||\r\n            job.id.toLowerCase().includes(lowerTerm) ||\r\n            job.location.toLowerCase().includes(lowerTerm) ||\r\n            (job.description && job.description.toLowerCase().includes(lowerTerm))\r\n        );\r\n    }\r\n\r\n    // 2. Date Filter (Hide past unless showExpired is true)\r\n    if (!showExpired) {\r\n        const now = new Date();\r\n        const today = new Date(now.getFullYear(), now.getMonth(), now.getDate());\r\n        result = result.filter(job => {\r\n            const jobDate = new Date(job.date);\r\n            return jobDate >= today;\r\n        });\r\n    }\r\n\r\n    // 3. Category Filter\r\n    if (filters.category !== 'All') {\r\n       result = result.filter(j => j.category === filters.category);\r\n    }\r\n\r\n    // 4. Distance Filter\r\n    if (filters.distance !== 'Any') {\r\n      const maxDist = parseInt(filters.distance);\r\n      result = result.filter(j => {\r\n          if (j.distance === undefined || j.distance === null) return true; // Keep if unknown\r\n          return j.distance <= maxDist;\r\n      });\r\n    }\r\n\r\n    // 5. Sorting\r\n    result.sort((a, b) => {\r\n      if (filters.sortBy === 'rate') {\r\n        // Safe numeric parse for \"£30/hr\", \"£0.10/word\" etc.\r\n        const rateA = parseFloat(a.rate.replace(/[^0-9.]/g, '')) || 0;\r\n        const rateB = parseFloat(b.rate.replace(/[^0-9.]/g, '')) || 0;\r\n        return rateB - rateA; // Descending\r\n      }\r\n      \r\n      const dateA = new Date(a.date).getTime();\r\n      const dateB = new Date(b.date).getTime();\r\n\r\n      if (filters.sortBy === 'date_asc') {\r\n        return dateA - dateB; // Oldest to Newest\r\n      }\r\n      \r\n      // Default: date (Newest to Oldest)\r\n      return dateB - dateA; \r\n    });\r\n\r\n    return result;\r\n  }, [filters, allOpenJobs, showExpired, searchTerm, currentUser]);\r\n\r\n  // Pagination Logic\r\n  const totalPages = Math.ceil(filteredJobs.length / ITEMS_PER_PAGE);\r\n  const paginatedJobs = filteredJobs.slice(\r\n    (currentPage - 1) * ITEMS_PER_PAGE,\r\n    currentPage * ITEMS_PER_PAGE\r\n  );\r\n\r\n  const handlePageChange = (newPage: number) => {\r\n    if (newPage >= 1 && newPage <= totalPages) {\r\n      setCurrentPage(newPage);\r\n      window.scrollTo({ top: 0, behavior: 'smooth' }); \r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"animate-in fade-in duration-500 relative pb-12\">\r\n      <div className=\"mb-6\">\r\n         <h2 className=\"text-2xl sm:text-3xl font-serif font-bold text-jambo-950 dark:text-white mb-2\">Job Marketplace</h2>\r\n         <p className=\"text-gray-500 dark:text-gray-400 text-sm sm:text-base\">Browse available assignments across Interpreting, Translation, and Transcription.</p>\r\n      </div>\r\n\r\n      <JobFilters \r\n        filters={filters} \r\n        setFilters={(f) => { setFilters(f); setCurrentPage(1); }} \r\n        viewMode={viewMode}\r\n        setViewMode={setViewMode}\r\n        showDistance={true}\r\n        showExpired={showExpired}\r\n        setShowExpired={setShowExpired}\r\n        searchTerm={searchTerm}\r\n        onSearchChange={(term) => { setSearchTerm(term); setCurrentPage(1); }}\r\n      />\r\n\r\n      {filteredJobs.length === 0 ? (\r\n        <div className=\"text-center py-24 bg-white dark:bg-[#1a1625] rounded-2xl border border-dashed border-gray-300 dark:border-white/10\">\r\n           <div className=\"w-16 h-16 bg-gray-100 dark:bg-white/5 rounded-full flex items-center justify-center mx-auto mb-4 text-gray-400\">\r\n              <span className=\"text-2xl\">?</span>\r\n           </div>\r\n           <p className=\"text-gray-500 dark:text-gray-400 text-xl font-serif\">No jobs found matching your filters.</p>\r\n           <div className=\"flex gap-4 justify-center mt-4\">\r\n               {!showExpired && (\r\n                   <button onClick={() => setShowExpired(true)} className=\"text-sm font-bold text-gray-500 hover:text-jambo-600 underline\">\r\n                       Check expired jobs?\r\n                   </button>\r\n               )}\r\n               <button \r\n                 onClick={() => { setFilters({ category: 'All', distance: 'Any', sortBy: 'date' }); setSearchTerm(''); setCurrentPage(1); }}\r\n                 className=\"text-jambo-600 dark:text-jambo-400 font-bold hover:underline text-lg\"\r\n               >\r\n                 Clear Filters\r\n               </button>\r\n           </div>\r\n        </div>\r\n      ) : (\r\n        <>\r\n          <div className={viewMode === 'grid' ? \"grid md:grid-cols-2 xl:grid-cols-3 gap-6 mb-8\" : \"flex flex-col gap-3 mb-8\"}>\r\n            {paginatedJobs.map(job => (\r\n              viewMode === 'grid' \r\n                ? <JobCard key={job.id} job={job} onClick={() => setSelectedJob(job)} />\r\n                : <JobListItem key={job.id} job={job} onClick={() => setSelectedJob(job)} />\r\n            ))}\r\n          </div>\r\n\r\n          <Pagination \r\n            currentPage={currentPage}\r\n            totalPages={totalPages}\r\n            onPageChange={handlePageChange}\r\n          />\r\n        </>\r\n      )}\r\n\r\n      {/* Modal */}\r\n      {selectedJob && (\r\n        <JobDetailsModal \r\n            job={selectedJob} \r\n            onClose={() => setSelectedJob(null)}\r\n            onNavigate={navigateToSection} \r\n            showToast={showToast}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3504, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Khesh/Desktop/Jambo-linguists/components/portal/dashboard/jobs/JobsBookings.tsx"],"sourcesContent":["\r\nimport React, { useState, useMemo, useEffect } from 'react';\r\nimport { JobCard } from './JobCard';\r\nimport { JobListItem } from './JobListItem';\r\nimport { JobDetailsModal } from './JobDetailsModal';\r\nimport { JobFilters, FiltersState } from './JobFilters';\r\nimport { Pagination } from './Pagination';\r\nimport { CalendarCheck } from 'lucide-react';\r\nimport { mockDb, Job } from '@/data/mockDatabase';\r\nimport { ToastType } from '../Toast';\r\n\r\nconst ITEMS_PER_PAGE = 6;\r\n\r\ninterface JobsBookingsProps {\r\n    navigateToSection: (section: string, jobId?: string) => void;\r\n    initialJobId?: string | null;\r\n    showToast: (msg: string, type: ToastType) => void;\r\n}\r\n\r\nexport const JobsBookings = ({ navigateToSection, initialJobId, showToast }: JobsBookingsProps) => {\r\n  const [selectedJob, setSelectedJob] = useState<Job | null>(null);\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [viewMode, setViewMode] = useState<'grid' | 'list'>('grid');\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  \r\n  const [filters, setFilters] = useState<FiltersState>({\r\n    category: 'All', \r\n    distance: 'Any',\r\n    sortBy: 'date',\r\n    status: 'All'\r\n  });\r\n  \r\n  const allBookedJobs = mockDb.getBookedJobs();\r\n\r\n  // Handle deep linking to a job if initialJobId is provided\r\n  useEffect(() => {\r\n    if (initialJobId) {\r\n        const target = allBookedJobs.find(j => j.id === initialJobId);\r\n        if (target) setSelectedJob(target);\r\n    }\r\n  }, [initialJobId]);\r\n\r\n  const filteredJobs = useMemo(() => {\r\n    let result = [...allBookedJobs];\r\n\r\n    // 1. Search Filter\r\n    if (searchTerm.trim()) {\r\n        const lowerTerm = searchTerm.toLowerCase();\r\n        result = result.filter(job => \r\n            job.title.toLowerCase().includes(lowerTerm) ||\r\n            job.id.toLowerCase().includes(lowerTerm) ||\r\n            job.location.toLowerCase().includes(lowerTerm) ||\r\n            (job.description && job.description.toLowerCase().includes(lowerTerm))\r\n        );\r\n    }\r\n\r\n    // 2. Filters\r\n    if (filters.category !== 'All') {\r\n       result = result.filter(j => j.category === filters.category);\r\n    }\r\n\r\n    if (filters.distance !== 'Any') {\r\n      const maxDist = parseInt(filters.distance);\r\n      result = result.filter(j => {\r\n          if (j.distance === undefined || j.distance === 0) return true; \r\n          return j.distance <= maxDist;\r\n      });\r\n    }\r\n    \r\n    if (filters.status && filters.status !== 'All') {\r\n        result = result.filter(j => j.status === filters.status);\r\n    }\r\n\r\n    // 3. Sorting\r\n    result.sort((a, b) => {\r\n      if (filters.sortBy === 'rate') {\r\n        const rateA = parseFloat(a.rate.replace(/[^0-9.]/g, '')) || 0;\r\n        const rateB = parseFloat(b.rate.replace(/[^0-9.]/g, '')) || 0;\r\n        return rateB - rateA;\r\n      }\r\n      \r\n      const dateA = new Date(a.date).getTime();\r\n      const dateB = new Date(b.date).getTime();\r\n\r\n      if (filters.sortBy === 'date_asc') {\r\n        return dateA - dateB;\r\n      }\r\n      return dateB - dateA;\r\n    });\r\n\r\n    return result;\r\n  }, [filters, allBookedJobs, searchTerm]);\r\n\r\n  // Pagination Logic\r\n  const totalPages = Math.ceil(filteredJobs.length / ITEMS_PER_PAGE);\r\n  const paginatedJobs = filteredJobs.slice(\r\n    (currentPage - 1) * ITEMS_PER_PAGE,\r\n    currentPage * ITEMS_PER_PAGE\r\n  );\r\n\r\n  const handlePageChange = (newPage: number) => {\r\n    if (newPage >= 1 && newPage <= totalPages) {\r\n      setCurrentPage(newPage);\r\n      window.scrollTo({ top: 0, behavior: 'smooth' }); \r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"animate-in fade-in duration-500 pb-12\">\r\n      <div className=\"mb-6 md:mb-8\">\r\n         <h2 className=\"text-2xl md:text-4xl font-serif font-bold text-jambo-950 dark:text-white mb-2\">My Bookings</h2>\r\n         <p className=\"text-gray-500 dark:text-gray-400 text-sm md:text-lg\">Manage your upcoming assignments and active projects.</p>\r\n      </div>\r\n\r\n      <JobFilters \r\n        filters={filters} \r\n        setFilters={(f) => { setFilters(f); setCurrentPage(1); }} \r\n        viewMode={viewMode}\r\n        setViewMode={setViewMode}\r\n        showDistance={true}\r\n        showStatus={false} \r\n        searchTerm={searchTerm}\r\n        onSearchChange={(term) => { setSearchTerm(term); setCurrentPage(1); }}\r\n      />\r\n\r\n      {filteredJobs.length === 0 ? (\r\n         <div className=\"flex flex-col items-center justify-center py-20 bg-white dark:bg-[#1a1625] rounded-2xl border border-dashed border-gray-200 dark:border-white/10\">\r\n            <div className=\"w-20 h-20 bg-gray-50 dark:bg-white/5 rounded-full flex items-center justify-center mb-6\">\r\n                <CalendarCheck size={32} className=\"text-gray-300 dark:text-gray-500\" />\r\n            </div>\r\n            <h3 className=\"text-xl font-bold text-gray-400 dark:text-gray-500 font-serif\">No active bookings found</h3>\r\n            <p className=\"text-gray-400 dark:text-gray-600 mt-2\">Try adjusting filters or visit the Marketplace.</p>\r\n            <button \r\n                onClick={() => navigateToSection('jobs-available')}\r\n                className=\"mt-4 text-jambo-600 dark:text-jambo-400 font-bold hover:underline\"\r\n            >\r\n                Browse Marketplace\r\n            </button>\r\n         </div>\r\n      ) : (\r\n        <>\r\n            <div className={viewMode === 'grid' ? \"grid md:grid-cols-2 xl:grid-cols-3 gap-6 mb-8\" : \"flex flex-col gap-3 mb-8\"}>\r\n            {paginatedJobs.map(job => (\r\n                viewMode === 'grid'\r\n                ? <JobCard key={job.id} job={job} onClick={() => setSelectedJob(job)} />\r\n                : <JobListItem key={job.id} job={job} onClick={() => setSelectedJob(job)} />\r\n            ))}\r\n            </div>\r\n\r\n            <Pagination \r\n                currentPage={currentPage}\r\n                totalPages={totalPages}\r\n                onPageChange={handlePageChange}\r\n            />\r\n        </>\r\n      )}\r\n\r\n      {selectedJob && (\r\n        <JobDetailsModal \r\n          job={selectedJob} \r\n          onClose={() => setSelectedJob(null)} \r\n          onNavigate={navigateToSection}\r\n          showToast={showToast}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;AAGA,MAAM,iBAAiB;AAQhB,MAAM,eAAe,CAAC,EAAE,iBAAiB,EAAE,YAAY,EAAE,SAAS,EAAqB;;IAC5F,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,yKAAQ,EAAa;IAC3D,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,yKAAQ,EAAC;IAC/C,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAkB;IAC1D,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,yKAAQ,EAAC;IAE7C,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAe;QACnD,UAAU;QACV,UAAU;QACV,QAAQ;QACR,QAAQ;IACV;IAEA,MAAM,gBAAgB,iJAAM,CAAC,aAAa;IAE1C,2DAA2D;IAC3D,IAAA,0KAAS;kCAAC;YACR,IAAI,cAAc;gBACd,MAAM,SAAS,cAAc,IAAI;qDAAC,CAAA,IAAK,EAAE,EAAE,KAAK;;gBAChD,IAAI,QAAQ,eAAe;YAC/B;QACF;iCAAG;QAAC;KAAa;IAEjB,MAAM,eAAe,IAAA,wKAAO;8CAAC;YAC3B,IAAI,SAAS;mBAAI;aAAc;YAE/B,mBAAmB;YACnB,IAAI,WAAW,IAAI,IAAI;gBACnB,MAAM,YAAY,WAAW,WAAW;gBACxC,SAAS,OAAO,MAAM;0DAAC,CAAA,MACnB,IAAI,KAAK,CAAC,WAAW,GAAG,QAAQ,CAAC,cACjC,IAAI,EAAE,CAAC,WAAW,GAAG,QAAQ,CAAC,cAC9B,IAAI,QAAQ,CAAC,WAAW,GAAG,QAAQ,CAAC,cACnC,IAAI,WAAW,IAAI,IAAI,WAAW,CAAC,WAAW,GAAG,QAAQ,CAAC;;YAEnE;YAEA,aAAa;YACb,IAAI,QAAQ,QAAQ,KAAK,OAAO;gBAC7B,SAAS,OAAO,MAAM;0DAAC,CAAA,IAAK,EAAE,QAAQ,KAAK,QAAQ,QAAQ;;YAC9D;YAEA,IAAI,QAAQ,QAAQ,KAAK,OAAO;gBAC9B,MAAM,UAAU,SAAS,QAAQ,QAAQ;gBACzC,SAAS,OAAO,MAAM;0DAAC,CAAA;wBACnB,IAAI,EAAE,QAAQ,KAAK,aAAa,EAAE,QAAQ,KAAK,GAAG,OAAO;wBACzD,OAAO,EAAE,QAAQ,IAAI;oBACzB;;YACF;YAEA,IAAI,QAAQ,MAAM,IAAI,QAAQ,MAAM,KAAK,OAAO;gBAC5C,SAAS,OAAO,MAAM;0DAAC,CAAA,IAAK,EAAE,MAAM,KAAK,QAAQ,MAAM;;YAC3D;YAEA,aAAa;YACb,OAAO,IAAI;sDAAC,CAAC,GAAG;oBACd,IAAI,QAAQ,MAAM,KAAK,QAAQ;wBAC7B,MAAM,QAAQ,WAAW,EAAE,IAAI,CAAC,OAAO,CAAC,YAAY,QAAQ;wBAC5D,MAAM,QAAQ,WAAW,EAAE,IAAI,CAAC,OAAO,CAAC,YAAY,QAAQ;wBAC5D,OAAO,QAAQ;oBACjB;oBAEA,MAAM,QAAQ,IAAI,KAAK,EAAE,IAAI,EAAE,OAAO;oBACtC,MAAM,QAAQ,IAAI,KAAK,EAAE,IAAI,EAAE,OAAO;oBAEtC,IAAI,QAAQ,MAAM,KAAK,YAAY;wBACjC,OAAO,QAAQ;oBACjB;oBACA,OAAO,QAAQ;gBACjB;;YAEA,OAAO;QACT;6CAAG;QAAC;QAAS;QAAe;KAAW;IAEvC,mBAAmB;IACnB,MAAM,aAAa,KAAK,IAAI,CAAC,aAAa,MAAM,GAAG;IACnD,MAAM,gBAAgB,aAAa,KAAK,CACtC,CAAC,cAAc,CAAC,IAAI,gBACpB,cAAc;IAGhB,MAAM,mBAAmB,CAAC;QACxB,IAAI,WAAW,KAAK,WAAW,YAAY;YACzC,eAAe;YACf,OAAO,QAAQ,CAAC;gBAAE,KAAK;gBAAG,UAAU;YAAS;QAC/C;IACF;IAEA,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAI,WAAU;;kCACZ,6LAAC;wBAAG,WAAU;kCAAgF;;;;;;kCAC9F,6LAAC;wBAAE,WAAU;kCAAsD;;;;;;;;;;;;0BAGtE,6LAAC,yKAAU;gBACT,SAAS;gBACT,YAAY,CAAC;oBAAQ,WAAW;oBAAI,eAAe;gBAAI;gBACvD,UAAU;gBACV,aAAa;gBACb,cAAc;gBACd,YAAY;gBACZ,YAAY;gBACZ,gBAAgB,CAAC;oBAAW,cAAc;oBAAO,eAAe;gBAAI;;;;;;YAGrE,aAAa,MAAM,KAAK,kBACtB,6LAAC;gBAAI,WAAU;;kCACZ,6LAAC;wBAAI,WAAU;kCACX,cAAA,6LAAC,4OAAa;4BAAC,MAAM;4BAAI,WAAU;;;;;;;;;;;kCAEvC,6LAAC;wBAAG,WAAU;kCAAgE;;;;;;kCAC9E,6LAAC;wBAAE,WAAU;kCAAwC;;;;;;kCACrD,6LAAC;wBACG,SAAS,IAAM,kBAAkB;wBACjC,WAAU;kCACb;;;;;;;;;;;yEAKL;;kCACI,6LAAC;wBAAI,WAAW,aAAa,SAAS,kDAAkD;kCACvF,cAAc,GAAG,CAAC,CAAA,MACf,aAAa,uBACX,6LAAC,mKAAO;gCAAc,KAAK;gCAAK,SAAS,IAAM,eAAe;+BAAhD,IAAI,EAAE;;;;yFACpB,6LAAC,2KAAW;gCAAc,KAAK;gCAAK,SAAS,IAAM,eAAe;+BAAhD,IAAI,EAAE;;;;;;;;;;kCAI9B,6LAAC,yKAAU;wBACP,aAAa;wBACb,YAAY;wBACZ,cAAc;;;;;;;;YAKvB,6BACC,6LAAC,mLAAe;gBACd,KAAK;gBACL,SAAS,IAAM,eAAe;gBAC9B,YAAY;gBACZ,WAAW;;;;;;;;;;;;AAKrB;GApJa;KAAA"}},
    {"offset": {"line": 3780, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Khesh/Desktop/Jambo-linguists/components/portal/dashboard/jobs/JobsHistory.tsx"],"sourcesContent":["\r\nimport React, { useState, useMemo, useEffect } from 'react';\r\nimport { JobCard } from './JobCard';\r\nimport { JobListItem } from './JobListItem';\r\nimport { JobDetailsModal } from './JobDetailsModal';\r\nimport { JobFilters, FiltersState } from './JobFilters';\r\nimport { Pagination } from './Pagination';\r\nimport { History } from 'lucide-react';\r\nimport { mockDb, Job } from '@/data/mockDatabase';\r\nimport { ToastType } from '../Toast';\r\n\r\nconst ITEMS_PER_PAGE = 6;\r\n\r\ninterface JobsHistoryProps {\r\n    navigateToSection: (section: string, jobId?: string) => void;\r\n    initialJobId?: string | null;\r\n    showToast: (msg: string, type: ToastType) => void;\r\n}\r\n\r\nexport const JobsHistory = ({ navigateToSection, initialJobId, showToast }: JobsHistoryProps) => {\r\n  const [selectedJob, setSelectedJob] = useState<Job | null>(null);\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [viewMode, setViewMode] = useState<'grid' | 'list'>('grid');\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  \r\n  const [filters, setFilters] = useState<FiltersState>({\r\n    category: 'All', \r\n    distance: 'Any',\r\n    sortBy: 'date', \r\n    status: 'All'\r\n  });\r\n\r\n  const historyJobs = mockDb.getJobHistory();\r\n\r\n  // Handle deep linking to a job if initialJobId is provided\r\n  useEffect(() => {\r\n    if (initialJobId) {\r\n        const target = historyJobs.find(j => j.id === initialJobId);\r\n        if (target) setSelectedJob(target);\r\n    }\r\n  }, [initialJobId]);\r\n\r\n  const filteredJobs = useMemo(() => {\r\n    let result = [...historyJobs];\r\n\r\n    // 1. Search Filter\r\n    if (searchTerm.trim()) {\r\n        const lowerTerm = searchTerm.toLowerCase();\r\n        result = result.filter(job => \r\n            job.title.toLowerCase().includes(lowerTerm) ||\r\n            job.id.toLowerCase().includes(lowerTerm) ||\r\n            job.location.toLowerCase().includes(lowerTerm) ||\r\n            (job.description && job.description.toLowerCase().includes(lowerTerm))\r\n        );\r\n    }\r\n\r\n    // 2. Filters\r\n    if (filters.category !== 'All') {\r\n       result = result.filter(j => j.category === filters.category);\r\n    }\r\n    \r\n    if (filters.status && filters.status !== 'All') {\r\n        result = result.filter(j => j.status === filters.status);\r\n    }\r\n\r\n    // 3. Sorting\r\n    result.sort((a, b) => {\r\n      if (filters.sortBy === 'rate') {\r\n        const rateA = parseFloat(a.rate.replace(/[^0-9.]/g, '')) || 0;\r\n        const rateB = parseFloat(b.rate.replace(/[^0-9.]/g, '')) || 0;\r\n        return rateB - rateA;\r\n      }\r\n      \r\n      const dateA = new Date(a.date).getTime();\r\n      const dateB = new Date(b.date).getTime();\r\n\r\n      if (filters.sortBy === 'date_asc') return dateA - dateB;\r\n      return dateB - dateA; // Newest first default\r\n    });\r\n\r\n    return result;\r\n  }, [filters, historyJobs, searchTerm]);\r\n\r\n  // Pagination Logic\r\n  const totalPages = Math.ceil(filteredJobs.length / ITEMS_PER_PAGE);\r\n  const paginatedJobs = filteredJobs.slice(\r\n    (currentPage - 1) * ITEMS_PER_PAGE,\r\n    currentPage * ITEMS_PER_PAGE\r\n  );\r\n\r\n  const handlePageChange = (newPage: number) => {\r\n    if (newPage >= 1 && newPage <= totalPages) {\r\n      setCurrentPage(newPage);\r\n      window.scrollTo({ top: 0, behavior: 'smooth' }); \r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"animate-in fade-in duration-500 pb-12\">\r\n      <div className=\"mb-6 md:mb-8\">\r\n         <h2 className=\"text-2xl md:text-4xl font-serif font-bold text-jambo-950 dark:text-white mb-2\">Work History</h2>\r\n         <p className=\"text-gray-500 dark:text-gray-400 text-sm md:text-lg\">View your completed assignments and past cancellations.</p>\r\n      </div>\r\n\r\n      <JobFilters \r\n        filters={filters} \r\n        setFilters={(f) => { setFilters(f); setCurrentPage(1); }} \r\n        viewMode={viewMode}\r\n        setViewMode={setViewMode}\r\n        showDistance={false} \r\n        showStatus={true}\r\n        searchTerm={searchTerm}\r\n        onSearchChange={(term) => { setSearchTerm(term); setCurrentPage(1); }}\r\n      />\r\n\r\n      {filteredJobs.length === 0 ? (\r\n         <div className=\"flex flex-col items-center justify-center py-20 bg-white dark:bg-[#1a1625] rounded-2xl border border-dashed border-gray-200 dark:border-white/10\">\r\n            <div className=\"w-20 h-20 bg-gray-50 dark:bg-white/5 rounded-full flex items-center justify-center mb-6\">\r\n                <History size={32} className=\"text-gray-300 dark:text-gray-500\" />\r\n            </div>\r\n            <h3 className=\"text-xl font-bold text-gray-400 dark:text-gray-500 font-serif\">No work history found</h3>\r\n            <p className=\"text-gray-400 dark:text-gray-600 mt-2\">Try adjusting your filters.</p>\r\n         </div>\r\n      ) : (\r\n        <>\r\n            <div className={viewMode === 'grid' ? \"grid md:grid-cols-2 xl:grid-cols-3 gap-6 mb-8\" : \"flex flex-col gap-3 mb-8\"}>\r\n            {paginatedJobs.map(job => (\r\n                viewMode === 'grid'\r\n                ? <JobCard key={job.id} job={job} onClick={() => setSelectedJob(job)} />\r\n                : <JobListItem key={job.id} job={job} onClick={() => setSelectedJob(job)} />\r\n            ))}\r\n            </div>\r\n\r\n            <Pagination \r\n                currentPage={currentPage}\r\n                totalPages={totalPages}\r\n                onPageChange={handlePageChange}\r\n            />\r\n        </>\r\n      )}\r\n\r\n      {selectedJob && (\r\n        <JobDetailsModal \r\n          job={selectedJob} \r\n          onClose={() => setSelectedJob(null)} \r\n          onNavigate={navigateToSection}\r\n          showToast={showToast}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 4036, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Khesh/Desktop/Jambo-linguists/components/portal/dashboard/jobs/JobsCalendar.tsx"],"sourcesContent":["\r\nimport React, { useState, useMemo } from 'react';\r\nimport { ChevronLeft, ChevronRight, Clock, MapPin, Calendar as CalendarIcon, Briefcase } from 'lucide-react';\r\nimport { mockDb, Job } from '@/data/mockDatabase';\r\nimport { JobDetailsModal } from './JobDetailsModal';\r\nimport { ToastType } from '../Toast';\r\n\r\ninterface JobsCalendarProps {\r\n  navigateToSection: (section: string, jobId?: string) => void;\r\n  showToast: (msg: string, type: ToastType) => void;\r\n}\r\n\r\nexport const JobsCalendar = ({ navigateToSection, showToast }: JobsCalendarProps) => {\r\n  const [currentDate, setCurrentDate] = useState(new Date());\r\n  const [selectedJob, setSelectedJob] = useState<Job | null>(null);\r\n  const [selectedDay, setSelectedDay] = useState<Date | null>(null);\r\n\r\n  // Fetch all jobs relevant to the user (Booked + History)\r\n  const allUserJobs = useMemo(() => {\r\n    return [...mockDb.getBookedJobs(), ...mockDb.getJobHistory()];\r\n  }, []);\r\n\r\n  // Calendar Logic\r\n  const getDaysInMonth = (year: number, month: number) => new Date(year, month + 1, 0).getDate();\r\n  const getFirstDayOfMonth = (year: number, month: number) => new Date(year, month, 1).getDay(); // 0 = Sun\r\n\r\n  const year = currentDate.getFullYear();\r\n  const month = currentDate.getMonth();\r\n  const daysInMonth = getDaysInMonth(year, month);\r\n  const firstDay = getFirstDayOfMonth(year, month);\r\n  \r\n  // Adjust for Monday start (0=Sun -> 6, 1=Mon -> 0)\r\n  const startOffset = firstDay === 0 ? 6 : firstDay - 1;\r\n\r\n  const days = [];\r\n  // Previous month padding\r\n  for (let i = 0; i < startOffset; i++) {\r\n    days.push(null);\r\n  }\r\n  // Current month days\r\n  for (let i = 1; i <= daysInMonth; i++) {\r\n    days.push(new Date(year, month, i));\r\n  }\r\n\r\n  const prevMonth = () => setCurrentDate(new Date(year, month - 1, 1));\r\n  const nextMonth = () => setCurrentDate(new Date(year, month + 1, 1));\r\n  const goToday = () => {\r\n      const now = new Date();\r\n      setCurrentDate(now);\r\n      setSelectedDay(new Date(now.getFullYear(), now.getMonth(), now.getDate()));\r\n  };\r\n\r\n  // Get jobs for a specific date\r\n  const getJobsForDate = (date: Date) => {\r\n    return allUserJobs.filter(job => {\r\n      const jobDate = new Date(job.date);\r\n      return (\r\n        jobDate.getDate() === date.getDate() &&\r\n        jobDate.getMonth() === date.getMonth() &&\r\n        jobDate.getFullYear() === date.getFullYear()\r\n      );\r\n    });\r\n  };\r\n\r\n  const selectedDayJobs = selectedDay ? getJobsForDate(selectedDay) : [];\r\n\r\n  return (\r\n    <div className=\"animate-in fade-in duration-500 pb-12\">\r\n      <div className=\"flex flex-col md:flex-row md:items-center justify-between mb-6 md:mb-8 gap-4\">\r\n        <div>\r\n            <h2 className=\"text-2xl md:text-4xl font-serif font-bold text-jambo-950 dark:text-white mb-2\">Schedule</h2>\r\n            <p className=\"text-gray-500 dark:text-gray-400 text-sm md:text-lg\">Plan your upcoming assignments.</p>\r\n        </div>\r\n        \r\n        <div className=\"flex items-center gap-4 bg-white dark:bg-[#1a1625] p-2 rounded-xl shadow-sm border border-gray-200 dark:border-white/10\">\r\n            <button onClick={prevMonth} className=\"p-2 hover:bg-gray-100 dark:hover:bg-white/10 rounded-lg transition-colors\">\r\n                <ChevronLeft size={20} className=\"text-gray-600 dark:text-gray-300\"/>\r\n            </button>\r\n            <div className=\"text-center min-w-[140px]\">\r\n                <h3 className=\"font-bold text-gray-900 dark:text-white text-lg\">\r\n                    {currentDate.toLocaleString('default', { month: 'long', year: 'numeric' })}\r\n                </h3>\r\n            </div>\r\n            <button onClick={nextMonth} className=\"p-2 hover:bg-gray-100 dark:hover:bg-white/10 rounded-lg transition-colors\">\r\n                <ChevronRight size={20} className=\"text-gray-600 dark:text-gray-300\"/>\r\n            </button>\r\n            <div className=\"w-px h-6 bg-gray-200 dark:bg-white/10 mx-2\"></div>\r\n            <button onClick={goToday} className=\"text-sm font-bold text-jambo-600 dark:text-jambo-400 hover:underline px-2\">\r\n                Today\r\n            </button>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"grid lg:grid-cols-3 gap-8 h-full\">\r\n         \r\n         {/* Calendar Grid */}\r\n         <div className=\"lg:col-span-2 bg-white dark:bg-[#1a1625] rounded-2xl shadow-lg border border-gray-200 dark:border-white/5 p-6\">\r\n            {/* Weekday Headers */}\r\n            <div className=\"grid grid-cols-7 mb-4\">\r\n                {['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'].map(day => (\r\n                    <div key={day} className=\"text-center text-xs font-bold text-gray-400 uppercase tracking-widest py-2\">\r\n                        {day}\r\n                    </div>\r\n                ))}\r\n            </div>\r\n            \r\n            {/* Days Grid */}\r\n            <div className=\"grid grid-cols-7 gap-2\">\r\n                {days.map((date, i) => {\r\n                    if (!date) return <div key={`empty-${i}`} className=\"aspect-square bg-transparent\"></div>;\r\n                    \r\n                    const dayJobs = getJobsForDate(date);\r\n                    const isToday = new Date().toDateString() === date.toDateString();\r\n                    const isSelected = selectedDay?.toDateString() === date.toDateString();\r\n                    \r\n                    return (\r\n                        <div \r\n                            key={i}\r\n                            onClick={() => setSelectedDay(date)}\r\n                            className={`aspect-square rounded-xl border p-2 relative cursor-pointer transition-all hover:shadow-md flex flex-col justify-between group\r\n                                ${isSelected \r\n                                    ? 'border-jambo-600 bg-jambo-50 dark:bg-jambo-900/20 dark:border-jambo-500 ring-1 ring-jambo-600' \r\n                                    : 'border-gray-100 dark:border-white/5 bg-gray-50/50 dark:bg-white/5 hover:border-gray-300 dark:hover:border-white/20'\r\n                                }\r\n                            `}\r\n                        >\r\n                            <span className={`text-sm font-bold ${isToday ? 'bg-brand-orange text-white w-6 h-6 rounded-full flex items-center justify-center' : 'text-gray-700 dark:text-gray-300'}`}>\r\n                                {date.getDate()}\r\n                            </span>\r\n                            \r\n                            {/* Job Indicators */}\r\n                            <div className=\"space-y-1 mt-1 overflow-hidden\">\r\n                                {dayJobs.slice(0, 3).map(job => (\r\n                                    <div \r\n                                        key={job.id} \r\n                                        className={`h-1.5 rounded-full w-full ${\r\n                                            job.status === 'Completed' ? 'bg-green-500' :\r\n                                            job.status === 'Cancelled' ? 'bg-gray-400' :\r\n                                            job.category === 'Translation' ? 'bg-brand-teal' : 'bg-jambo-500'\r\n                                        }`} \r\n                                    ></div>\r\n                                ))}\r\n                                {dayJobs.length > 3 && (\r\n                                    <div className=\"text-[9px] text-gray-400 text-right leading-none\">+ {dayJobs.length - 3} more</div>\r\n                                )}\r\n                            </div>\r\n\r\n                            {/* HOVER TOOLTIP */}\r\n                            {dayJobs.length > 0 && (\r\n                                <div className=\"absolute bottom-full left-1/2 -translate-x-1/2 pb-2 w-56 hidden group-hover:block z-50 animate-in fade-in slide-in-from-bottom-2 duration-200\">\r\n                                    <div className=\"bg-gray-900 dark:bg-black text-white text-xs rounded-xl p-2 shadow-xl border border-white/10 relative\">\r\n                                        <div className=\"font-bold mb-2 pb-2 border-b border-white/10 text-gray-300 px-2 pt-1\">\r\n                                            {date.toLocaleDateString(undefined, { weekday: 'short', day: 'numeric', month: 'short' })}\r\n                                        </div>\r\n                                        <div className=\"space-y-1\">\r\n                                            {dayJobs.map(j => (\r\n                                                <div \r\n                                                    key={j.id} \r\n                                                    onClick={(e) => {\r\n                                                        e.stopPropagation();\r\n                                                        setSelectedJob(j);\r\n                                                    }}\r\n                                                    className=\"flex gap-2 items-center p-2 rounded-lg hover:bg-white/10 cursor-pointer transition-colors text-left group/item\"\r\n                                                >\r\n                                                    <div className={`w-2 h-2 rounded-full shrink-0 ${\r\n                                                        j.category === 'Translation' ? 'bg-brand-teal' : 'bg-jambo-500'\r\n                                                    }`}></div>\r\n                                                    <div className=\"min-w-0 flex-1\">\r\n                                                        <span className=\"block font-bold truncate group-hover/item:text-brand-orange transition-colors\">{j.title}</span>\r\n                                                        <span className=\"text-gray-400 text-[10px] block\">{j.time || 'All Day'}</span>\r\n                                                    </div>\r\n                                                </div>\r\n                                            ))}\r\n                                        </div>\r\n                                        {/* Arrow */}\r\n                                        <div className=\"absolute top-full left-1/2 -translate-x-1/2 -mt-[1px] border-4 border-transparent border-t-gray-900 dark:border-t-black\"></div>\r\n                                    </div>\r\n                                </div>\r\n                            )}\r\n                        </div>\r\n                    );\r\n                })}\r\n            </div>\r\n         </div>\r\n\r\n         {/* Side Panel: Day Details */}\r\n         <div className=\"lg:col-span-1 flex flex-col h-full\">\r\n            <div className=\"bg-white dark:bg-[#1a1625] rounded-2xl shadow-lg border border-gray-200 dark:border-white/5 p-6 flex-grow\">\r\n                <div className=\"border-b border-gray-100 dark:border-white/5 pb-4 mb-4\">\r\n                    <h3 className=\"text-xl font-bold text-gray-900 dark:text-white font-serif\">\r\n                        {selectedDay ? selectedDay.toLocaleDateString('en-GB', { weekday: 'long', day: 'numeric', month: 'long' }) : 'Select a date'}\r\n                    </h3>\r\n                    <p className=\"text-sm text-gray-500 dark:text-gray-400 mt-1\">\r\n                        {selectedDayJobs.length} Assignment{selectedDayJobs.length !== 1 ? 's' : ''}\r\n                    </p>\r\n                </div>\r\n\r\n                <div className=\"space-y-4 overflow-y-auto max-h-[500px] custom-scrollbar pr-2\">\r\n                    {selectedDayJobs.length === 0 ? (\r\n                        <div className=\"text-center py-10 text-gray-400\">\r\n                            <CalendarIcon size={32} className=\"mx-auto mb-3 opacity-50\" />\r\n                            <p className=\"text-sm\">No jobs scheduled for this date.</p>\r\n                        </div>\r\n                    ) : (\r\n                        selectedDayJobs.map(job => (\r\n                            <div \r\n                                key={job.id} \r\n                                onClick={() => setSelectedJob(job)}\r\n                                className=\"group p-4 rounded-xl border border-gray-100 dark:border-white/5 hover:border-jambo-200 dark:hover:border-jambo-600 bg-gray-50 dark:bg-white/5 hover:bg-white dark:hover:bg-white/10 transition-all cursor-pointer shadow-sm hover:shadow-md\"\r\n                            >\r\n                                <div className=\"flex justify-between items-start mb-2\">\r\n                                    <span className={`text-[10px] font-bold uppercase tracking-wider px-2 py-0.5 rounded border \r\n                                        ${job.status === 'Completed' ? 'bg-green-100 text-green-700 border-green-200 dark:bg-green-900/30 dark:text-green-400' : \r\n                                          job.status === 'Cancelled' ? 'bg-gray-100 text-gray-500 border-gray-200 dark:bg-gray-800 dark:text-gray-400' :\r\n                                          'bg-blue-100 text-blue-700 border-blue-200 dark:bg-blue-900/30 dark:text-blue-300'}\r\n                                    `}>\r\n                                        {job.status}\r\n                                    </span>\r\n                                    <span className=\"text-xs font-bold text-gray-500\">{job.time || 'Deadline'}</span>\r\n                                </div>\r\n                                <h4 className=\"font-bold text-gray-900 dark:text-white mb-1 group-hover:text-jambo-600 dark:group-hover:text-jambo-400 transition-colors\">{job.title}</h4>\r\n                                <div className=\"flex items-center gap-2 text-xs text-gray-500 dark:text-gray-400\">\r\n                                    <Briefcase size={12} /> {job.category}\r\n                                    <span className=\"w-1 h-1 bg-gray-300 rounded-full\"></span>\r\n                                    <MapPin size={12} /> {job.location.split(',')[0]}\r\n                                </div>\r\n                            </div>\r\n                        ))\r\n                    )}\r\n                </div>\r\n            </div>\r\n         </div>\r\n      </div>\r\n\r\n      {selectedJob && (\r\n        <JobDetailsModal \r\n            job={selectedJob} \r\n            onClose={() => setSelectedJob(null)}\r\n            onNavigate={navigateToSection}\r\n            showToast={showToast}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 4595, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Khesh/Desktop/Jambo-linguists/components/portal/dashboard/jobs/JobsLayout.tsx"],"sourcesContent":["\r\nimport React from 'react';\r\nimport { JobsAvailable } from './JobsAvailable';\r\nimport { JobsBookings } from './JobsBookings';\r\nimport { JobsHistory } from './JobsHistory';\r\nimport { JobsCalendar } from './JobsCalendar';\r\nimport { Briefcase, CalendarCheck, History, Calendar } from 'lucide-react';\r\nimport { ToastType } from '../Toast';\r\n\r\ninterface JobsLayoutProps {\r\n  activeSection: string;\r\n  navigateToSection: (section: string, jobId?: string) => void;\r\n  targetJobId: string | null;\r\n  showToast: (msg: string, type: ToastType) => void;\r\n}\r\n\r\nexport const JobsLayout = ({ activeSection, navigateToSection, targetJobId, showToast }: JobsLayoutProps) => {\r\n  \r\n  // If user navigated to \"Jobs\" root via bottom nav, default to \"Available\"\r\n  const currentTab = activeSection === 'jobs' ? 'jobs-available' : activeSection;\r\n\r\n  const tabs = [\r\n    { id: 'jobs-available', label: 'Marketplace', icon: Briefcase },\r\n    { id: 'jobs-bookings', label: 'My Bookings', icon: CalendarCheck },\r\n    { id: 'jobs-history', label: 'History', icon: History },\r\n    { id: 'jobs-calendar', label: 'Calendar', icon: Calendar },\r\n  ];\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Tab Navigation - Sticky on Mobile for easy access */}\r\n      <div className=\"sticky top-0 z-30 bg-gray-50/95 dark:bg-[#0f0a15]/95 backdrop-blur-sm pt-2 pb-4 -mx-4 px-4 sm:mx-0 sm:px-0\">\r\n        <div className=\"bg-white dark:bg-[#1a1625] rounded-xl p-1 shadow-sm border border-gray-200 dark:border-white/5 flex overflow-x-auto no-scrollbar snap-x touch-pan-x\">\r\n            {tabs.map((tab) => {\r\n            const isActive = currentTab === tab.id;\r\n            return (\r\n                <button\r\n                key={tab.id}\r\n                onClick={() => navigateToSection(tab.id)}\r\n                className={`\r\n                    flex-1 min-w-[100px] flex items-center justify-center gap-2 py-2.5 px-4 rounded-lg text-xs font-bold uppercase tracking-wide transition-all snap-center\r\n                    ${isActive \r\n                    ? 'bg-jambo-600 text-white shadow-md' \r\n                    : 'text-gray-500 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-white/5'\r\n                    }\r\n                `}\r\n                >\r\n                <tab.icon size={16} />\r\n                <span className=\"whitespace-nowrap\">{tab.label}</span>\r\n                </button>\r\n            );\r\n            })}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Content Area */}\r\n      <div className=\"animate-in fade-in slide-in-from-bottom-2 duration-300\">\r\n        {currentTab === 'jobs-available' && (\r\n          <JobsAvailable navigateToSection={navigateToSection} initialJobId={targetJobId} showToast={showToast} />\r\n        )}\r\n        {currentTab === 'jobs-bookings' && (\r\n          <JobsBookings navigateToSection={navigateToSection} initialJobId={targetJobId} showToast={showToast} />\r\n        )}\r\n        {currentTab === 'jobs-history' && (\r\n          <JobsHistory navigateToSection={navigateToSection} initialJobId={targetJobId} showToast={showToast} />\r\n        )}\r\n        {currentTab === 'jobs-calendar' && (\r\n          <JobsCalendar navigateToSection={navigateToSection} showToast={showToast} />\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;;;;;;;AAUO,MAAM,aAAa,CAAC,EAAE,aAAa,EAAE,iBAAiB,EAAE,WAAW,EAAE,SAAS,EAAmB;IAEtG,0EAA0E;IAC1E,MAAM,aAAa,kBAAkB,SAAS,mBAAmB;IAEjE,MAAM,OAAO;QACX;YAAE,IAAI;YAAkB,OAAO;YAAe,MAAM,4NAAS;QAAC;QAC9D;YAAE,IAAI;YAAiB,OAAO;YAAe,MAAM,4OAAa;QAAC;QACjE;YAAE,IAAI;YAAgB,OAAO;YAAW,MAAM,sNAAO;QAAC;QACtD;YAAE,IAAI;YAAiB,OAAO;YAAY,MAAM,yNAAQ;QAAC;KAC1D;IAED,qBACE,6LAAC;QAAI,WAAU;;0BAEb,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC;oBAAI,WAAU;8BACV,KAAK,GAAG,CAAC,CAAC;wBACX,MAAM,WAAW,eAAe,IAAI,EAAE;wBACtC,qBACI,6LAAC;4BAED,SAAS,IAAM,kBAAkB,IAAI,EAAE;4BACvC,WAAW,CAAC;;oBAER,EAAE,WACA,sCACA,0EACD;gBACL,CAAC;;8CAED,6LAAC,IAAI,IAAI;oCAAC,MAAM;;;;;;8CAChB,6LAAC;oCAAK,WAAU;8CAAqB,IAAI,KAAK;;;;;;;2BAXzC,IAAI,EAAE;;;;;oBAcf;;;;;;;;;;;0BAKN,6LAAC;gBAAI,WAAU;;oBACZ,eAAe,kCACd,6LAAC,+KAAa;wBAAC,mBAAmB;wBAAmB,cAAc;wBAAa,WAAW;;;;;;oBAE5F,eAAe,iCACd,6LAAC,6KAAY;wBAAC,mBAAmB;wBAAmB,cAAc;wBAAa,WAAW;;;;;;oBAE3F,eAAe,gCACd,6LAAC,2KAAW;wBAAC,mBAAmB;wBAAmB,cAAc;wBAAa,WAAW;;;;;;oBAE1F,eAAe,iCACd,6LAAC,6KAAY;wBAAC,mBAAmB;wBAAmB,WAAW;;;;;;;;;;;;;;;;;;AAKzE;KAxDa"}}]
}