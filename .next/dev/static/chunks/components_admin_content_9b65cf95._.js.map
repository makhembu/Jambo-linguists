{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Khesh/Desktop/Jambo-linguists/components/admin/content/CourseList.tsx"],"sourcesContent":["\r\nimport React, { useState, useEffect } from 'react';\r\nimport { mockDb } from '@/data/mockDatabase';\r\nimport { Course } from '@/data/types';\r\nimport { Plus, Trash2, BookOpen, Clock, Users, Eye } from 'lucide-react';\r\nimport { Card } from '../../ui/Card';\r\nimport { Button } from '../../ui/Button';\r\nimport { Badge } from '../../ui/Badge';\r\n\r\ninterface CourseListProps {\r\n  onCreate: () => void;\r\n  onView: (id: string) => void;\r\n  onDelete: (id: string) => void;\r\n}\r\n\r\nexport const CourseList = ({ onCreate, onView, onDelete }: CourseListProps) => {\r\n  const [courses, setCourses] = useState<Course[]>([]);\r\n\r\n  useEffect(() => {\r\n    setCourses(mockDb.getCourses());\r\n  }, []);\r\n\r\n  const handleDeleteClick = (e: React.MouseEvent, courseId: string) => {\r\n      e.stopPropagation(); // Prevent card click\r\n      if (confirm(\"Are you sure you want to delete this course? This action cannot be undone and will remove all student progress.\")) {\r\n          onDelete(courseId);\r\n      }\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-6 animate-in fade-in duration-500\">\r\n      <div className=\"flex flex-col sm:flex-row justify-between items-start sm:items-end gap-4\">\r\n        <div>\r\n          <h2 className=\"text-2xl font-bold text-gray-900 dark:text-white\">Training Library</h2>\r\n          <p className=\"text-sm text-gray-500 dark:text-gray-400\">Manage courses, lessons, and quizzes for linguists.</p>\r\n        </div>\r\n        <Button onClick={onCreate} leftIcon={<Plus size={18} />}>\r\n          Create New Course\r\n        </Button>\r\n      </div>\r\n\r\n      <div className=\"grid md:grid-cols-2 xl:grid-cols-3 gap-6\">\r\n        {courses.map((course) => (\r\n          <Card \r\n            key={course.id} \r\n            className=\"group overflow-hidden flex flex-col h-full hover:border-jambo-400 dark:hover:border-jambo-600 transition-colors cursor-pointer\"\r\n            onClick={() => onView(course.id)}\r\n          >\r\n            <div className=\"relative h-48 overflow-hidden bg-gray-100 dark:bg-white/5\">\r\n              <img \r\n                src={course.thumbnailUrl} \r\n                alt={course.title} \r\n                className=\"w-full h-full object-cover transition-transform duration-700 group-hover:scale-105\"\r\n              />\r\n              <div className=\"absolute top-3 right-3\">\r\n                 <Badge variant=\"brand\">{course.category}</Badge>\r\n              </div>\r\n              \r\n              {/* Overlay on hover */}\r\n              <div className=\"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center\">\r\n                  <span className=\"bg-white/20 backdrop-blur-md text-white px-4 py-2 rounded-full font-bold text-sm flex items-center gap-2 border border-white/30\">\r\n                      <Eye size={16} /> View Admin Details\r\n                  </span>\r\n              </div>\r\n            </div>\r\n            \r\n            <div className=\"p-5 flex-1 flex flex-col\">\r\n              <h3 className=\"text-lg font-bold text-gray-900 dark:text-white mb-2 line-clamp-1\">{course.title}</h3>\r\n              <p className=\"text-sm text-gray-500 dark:text-gray-400 line-clamp-2 mb-4 flex-grow\">{course.description}</p>\r\n              \r\n              <div className=\"flex items-center gap-4 text-xs text-gray-400 font-medium mb-6\">\r\n                 <span className=\"flex items-center gap-1\"><BookOpen size={14} /> {course.lessonsCount} Lessons</span>\r\n                 <span className=\"flex items-center gap-1\"><Clock size={14} /> {course.duration}</span>\r\n              </div>\r\n\r\n              <div className=\"flex items-center gap-2 pt-4 border-t border-gray-100 dark:border-white/5\">\r\n                 <button \r\n                    onClick={(e) => { e.stopPropagation(); onView(course.id); }}\r\n                    className=\"flex-1 py-2 text-sm font-bold text-gray-700 dark:text-gray-200 bg-gray-100 dark:bg-white/5 hover:bg-gray-200 dark:hover:bg-white/10 rounded-lg flex items-center justify-center gap-2 transition-colors\"\r\n                 >\r\n                    <Users size={16} /> Manage\r\n                 </button>\r\n                 <button \r\n                    onClick={(e) => handleDeleteClick(e, course.id)}\r\n                    className=\"p-2 text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors\"\r\n                    title=\"Delete Course\"\r\n                 >\r\n                    <Trash2 size={18} />\r\n                 </button>\r\n              </div>\r\n            </div>\r\n          </Card>\r\n        ))}\r\n      </div>\r\n      \r\n      {courses.length === 0 && (\r\n          <div className=\"text-center py-20 border border-dashed border-gray-200 dark:border-white/10 rounded-xl bg-gray-50/50 dark:bg-white/5\">\r\n              <p className=\"text-gray-400 font-medium\">No courses available. Create your first module to get started.</p>\r\n          </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n"],"names":[],"mappings":";;;;;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;;;;;;;;;AAQO,MAAM,aAAa,CAAC,EAAE,QAAQ,EAAE,MAAM,EAAE,QAAQ,EAAmB;;IACxE,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAW,EAAE;IAEnD,IAAA,0KAAS;gCAAC;YACR,WAAW,iJAAM,CAAC,UAAU;QAC9B;+BAAG,EAAE;IAEL,MAAM,oBAAoB,CAAC,GAAqB;QAC5C,EAAE,eAAe,IAAI,qBAAqB;QAC1C,IAAI,QAAQ,oHAAoH;YAC5H,SAAS;QACb;IACJ;IAEA,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;;0CACC,6LAAC;gCAAG,WAAU;0CAAmD;;;;;;0CACjE,6LAAC;gCAAE,WAAU;0CAA2C;;;;;;;;;;;;kCAE1D,6LAAC,wIAAM;wBAAC,SAAS;wBAAU,wBAAU,6LAAC,6MAAI;4BAAC,MAAM;;;;;;kCAAQ;;;;;;;;;;;;0BAK3D,6LAAC;gBAAI,WAAU;0BACZ,QAAQ,GAAG,CAAC,CAAC,uBACZ,6LAAC,oIAAI;wBAEH,WAAU;wBACV,SAAS,IAAM,OAAO,OAAO,EAAE;;0CAE/B,6LAAC;gCAAI,WAAU;;kDACb,6LAAC;wCACC,KAAK,OAAO,YAAY;wCACxB,KAAK,OAAO,KAAK;wCACjB,WAAU;;;;;;kDAEZ,6LAAC;wCAAI,WAAU;kDACZ,cAAA,6LAAC,sIAAK;4CAAC,SAAQ;sDAAS,OAAO,QAAQ;;;;;;;;;;;kDAI1C,6LAAC;wCAAI,WAAU;kDACX,cAAA,6LAAC;4CAAK,WAAU;;8DACZ,6LAAC,0MAAG;oDAAC,MAAM;;;;;;gDAAM;;;;;;;;;;;;;;;;;;0CAK3B,6LAAC;gCAAI,WAAU;;kDACb,6LAAC;wCAAG,WAAU;kDAAqE,OAAO,KAAK;;;;;;kDAC/F,6LAAC;wCAAE,WAAU;kDAAwE,OAAO,WAAW;;;;;;kDAEvG,6LAAC;wCAAI,WAAU;;0DACZ,6LAAC;gDAAK,WAAU;;kEAA0B,6LAAC,6NAAQ;wDAAC,MAAM;;;;;;oDAAM;oDAAE,OAAO,YAAY;oDAAC;;;;;;;0DACtF,6LAAC;gDAAK,WAAU;;kEAA0B,6LAAC,gNAAK;wDAAC,MAAM;;;;;;oDAAM;oDAAE,OAAO,QAAQ;;;;;;;;;;;;;kDAGjF,6LAAC;wCAAI,WAAU;;0DACZ,6LAAC;gDACE,SAAS,CAAC;oDAAQ,EAAE,eAAe;oDAAI,OAAO,OAAO,EAAE;gDAAG;gDAC1D,WAAU;;kEAEV,6LAAC,gNAAK;wDAAC,MAAM;;;;;;oDAAM;;;;;;;0DAEtB,6LAAC;gDACE,SAAS,CAAC,IAAM,kBAAkB,GAAG,OAAO,EAAE;gDAC9C,WAAU;gDACV,OAAM;0DAEN,cAAA,6LAAC,uNAAM;oDAAC,MAAM;;;;;;;;;;;;;;;;;;;;;;;;uBA3CjB,OAAO,EAAE;;;;;;;;;;YAmDnB,QAAQ,MAAM,KAAK,mBAChB,6LAAC;gBAAI,WAAU;0BACX,cAAA,6LAAC;oBAAE,WAAU;8BAA4B;;;;;;;;;;;;;;;;;AAKvD;GAvFa;KAAA"}},
    {"offset": {"line": 317, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Khesh/Desktop/Jambo-linguists/components/admin/content/editor/EditorSidebar.tsx"],"sourcesContent":["\r\nimport React from 'react';\r\nimport { Info, List, Settings } from 'lucide-react';\r\n\r\ninterface EditorSidebarProps {\r\n  activeStep: 'info' | 'curriculum' | 'settings';\r\n  onChangeStep: (step: 'info' | 'curriculum' | 'settings') => void;\r\n}\r\n\r\nexport const EditorSidebar = ({ activeStep, onChangeStep }: EditorSidebarProps) => {\r\n  const steps = [\r\n      { id: 'info', label: 'Basic Information', icon: Info },\r\n      { id: 'curriculum', label: 'Curriculum & Content', icon: List },\r\n      { id: 'settings', label: 'Course Settings', icon: Settings },\r\n  ];\r\n\r\n  return (\r\n    <div className=\"flex lg:flex-col overflow-x-auto lg:overflow-visible p-2 lg:p-4 gap-2 lg:space-y-1 no-scrollbar\">\r\n        {steps.map(step => (\r\n            <button\r\n                key={step.id}\r\n                onClick={() => onChangeStep(step.id as any)}\r\n                className={`flex-1 lg:flex-none flex items-center justify-center lg:justify-start gap-3 px-4 py-3 rounded-lg text-sm font-bold transition-all whitespace-nowrap ${\r\n                    activeStep === step.id \r\n                    ? 'bg-jambo-600 text-white shadow-md' \r\n                    : 'text-gray-500 hover:bg-gray-200 dark:hover:bg-white/10 dark:text-gray-400 bg-white lg:bg-transparent border lg:border-none border-gray-200 dark:border-white/5 dark:bg-white/5'\r\n                }`}\r\n            >\r\n                <step.icon size={18} />\r\n                {step.label}\r\n            </button>\r\n        ))}\r\n    </div>\r\n  );\r\n};"],"names":[],"mappings":";;;;;AAEA;AAAA;AAAA;;;AAOO,MAAM,gBAAgB,CAAC,EAAE,UAAU,EAAE,YAAY,EAAsB;IAC5E,MAAM,QAAQ;QACV;YAAE,IAAI;YAAQ,OAAO;YAAqB,MAAM,6MAAI;QAAC;QACrD;YAAE,IAAI;YAAc,OAAO;YAAwB,MAAM,6MAAI;QAAC;QAC9D;YAAE,IAAI;YAAY,OAAO;YAAmB,MAAM,yNAAQ;QAAC;KAC9D;IAED,qBACE,6LAAC;QAAI,WAAU;kBACV,MAAM,GAAG,CAAC,CAAA,qBACP,6LAAC;gBAEG,SAAS,IAAM,aAAa,KAAK,EAAE;gBACnC,WAAW,CAAC,oJAAoJ,EAC5J,eAAe,KAAK,EAAE,GACpB,sCACA,kLACJ;;kCAEF,6LAAC,KAAK,IAAI;wBAAC,MAAM;;;;;;oBAChB,KAAK,KAAK;;eATN,KAAK,EAAE;;;;;;;;;;AAc5B;KAzBa"}},
    {"offset": {"line": 381, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Khesh/Desktop/Jambo-linguists/components/admin/content/editor/BasicInfoStep.tsx"],"sourcesContent":["\r\n\r\n\r\n\r\nimport React from 'react';\r\nimport { Course } from '@/data/types';\r\nimport { mockDb } from '@/data/mockDatabase';\r\nimport { ImageUploadField } from '../../users/add-user/ImageUploadField';\r\nimport { Image as ImageIcon, Info, Lock } from 'lucide-react';\r\nimport { Switch } from '../../../ui/Switch';\r\n\r\ninterface BasicInfoStepProps {\r\n  data: Partial<Course>;\r\n  onChange: (data: Partial<Course>) => void;\r\n}\r\n\r\nexport const BasicInfoStep = ({ data, onChange }: BasicInfoStepProps) => {\r\n  const globalSettings = mockDb.getSettings();\r\n  const globalEnrollEnabled = globalSettings.globalSelfEnrollment;\r\n\r\n  const handleInputChange = (e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement | HTMLSelectElement>) => {\r\n      const { name, value } = e.target;\r\n      onChange({ [name]: value });\r\n  };\r\n\r\n  const handleGoalsChange = (e: React.ChangeEvent<HTMLTextAreaElement>) => {\r\n      // Split by newlines to create array\r\n      const goals = e.target.value.split('\\n').filter(s => s.trim() !== '');\r\n      onChange({ learningGoals: goals });\r\n  };\r\n\r\n  const handleImageChange = (file: File) => {\r\n      const url = URL.createObjectURL(file);\r\n      onChange({ thumbnailUrl: url });\r\n  };\r\n\r\n  return (\r\n    <div className=\"max-w-3xl mx-auto space-y-8 animate-in fade-in duration-300\">\r\n        <div>\r\n            <h3 className=\"text-xl font-bold text-gray-900 dark:text-white mb-1\">Course Details</h3>\r\n            <p className=\"text-sm text-gray-500 dark:text-gray-400\">The basic information displayed on the course card.</p>\r\n        </div>\r\n\r\n        <div className=\"space-y-6\">\r\n            <div>\r\n                <label className=\"block text-xs font-bold uppercase text-gray-500 mb-2\">Course Title</label>\r\n                <input \r\n                    name=\"title\"\r\n                    value={data.title}\r\n                    onChange={handleInputChange}\r\n                    className=\"w-full bg-gray-50 dark:bg-white/5 border border-gray-200 dark:border-white/10 rounded-xl px-4 py-3 font-bold text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-jambo-600 transition-all\"\r\n                    placeholder=\"e.g. Advanced Medical Interpreting\"\r\n                />\r\n            </div>\r\n\r\n            {/* Self Enrollment Toggle */}\r\n            <div className={`p-4 rounded-xl border flex items-center justify-between gap-4 ${!globalEnrollEnabled ? 'bg-gray-100 dark:bg-white/5 border-gray-200 dark:border-white/5 opacity-75' : 'bg-blue-50 dark:bg-blue-900/10 border-blue-100 dark:border-blue-800'}`}>\r\n                <div className=\"flex-1\">\r\n                    <div className=\"flex items-center gap-2 mb-1\">\r\n                        <p className=\"font-bold text-sm text-gray-900 dark:text-white\">Allow Self-Enrollment</p>\r\n                        {!globalEnrollEnabled && <Lock size={14} className=\"text-gray-400\" />}\r\n                    </div>\r\n                    <p className=\"text-xs text-gray-500 dark:text-gray-400\">\r\n                        {globalEnrollEnabled \r\n                            ? \"Linguists can join this course from their dashboard without approval.\" \r\n                            : \"Globally disabled in System Settings. Admins must manually enroll users.\"}\r\n                    </p>\r\n                </div>\r\n                <Switch \r\n                    checked={data.allowSelfEnrollment || false} \r\n                    onChange={(v) => onChange({ allowSelfEnrollment: v })} \r\n                    disabled={!globalEnrollEnabled}\r\n                />\r\n            </div>\r\n\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                <div>\r\n                    <label className=\"block text-xs font-bold uppercase text-gray-500 mb-2\">Category</label>\r\n                    <select \r\n                        name=\"category\"\r\n                        value={data.category}\r\n                        onChange={handleInputChange}\r\n                        className=\"w-full bg-gray-50 dark:bg-white/5 border border-gray-200 dark:border-white/10 rounded-xl px-4 py-3 text-sm text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-jambo-600 transition-all\"\r\n                    >\r\n                        <option value=\"General\">General</option>\r\n                        <option value=\"Technical\">Technical</option>\r\n                        <option value=\"Language\">Language</option>\r\n                        <option value=\"Soft Skills\">Soft Skills</option>\r\n                        <option value=\"Compliance\">Compliance</option>\r\n                    </select>\r\n                </div>\r\n                <div>\r\n                    <label className=\"block text-xs font-bold uppercase text-gray-500 mb-2\">Estimated Duration</label>\r\n                    <input \r\n                        name=\"duration\"\r\n                        value={data.duration}\r\n                        onChange={handleInputChange}\r\n                        className=\"w-full bg-gray-50 dark:bg-white/5 border border-gray-200 dark:border-white/10 rounded-xl px-4 py-3 text-sm text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-jambo-600 transition-all\"\r\n                        placeholder=\"e.g. 2h 30m\"\r\n                    />\r\n                </div>\r\n            </div>\r\n\r\n            <div>\r\n                <label className=\"block text-xs font-bold uppercase text-gray-500 mb-2\">Description</label>\r\n                <textarea \r\n                    name=\"description\"\r\n                    value={data.description}\r\n                    onChange={handleInputChange}\r\n                    rows={4}\r\n                    className=\"w-full bg-gray-50 dark:bg-white/5 border border-gray-200 dark:border-white/10 rounded-xl px-4 py-3 text-sm text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-jambo-600 transition-all resize-none\"\r\n                    placeholder=\"A brief overview of what this course covers...\"\r\n                />\r\n            </div>\r\n\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                <div>\r\n                    <label className=\"block text-xs font-bold uppercase text-gray-500 mb-2\">Instructor Name</label>\r\n                    <input \r\n                        name=\"instructor\"\r\n                        value={data.instructor}\r\n                        onChange={handleInputChange}\r\n                        className=\"w-full bg-gray-50 dark:bg-white/5 border border-gray-200 dark:border-white/10 rounded-xl px-4 py-3 text-sm text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-jambo-600 transition-all\"\r\n                    />\r\n                </div>\r\n                <div>\r\n                    <label className=\"block text-xs font-bold uppercase text-gray-500 mb-2\">Instructor Role</label>\r\n                    <input \r\n                        name=\"instructorRole\"\r\n                        value={data.instructorRole}\r\n                        onChange={handleInputChange}\r\n                        className=\"w-full bg-gray-50 dark:bg-white/5 border border-gray-200 dark:border-white/10 rounded-xl px-4 py-3 text-sm text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-jambo-600 transition-all\"\r\n                    />\r\n                </div>\r\n            </div>\r\n\r\n            <div>\r\n                <label className=\"block text-xs font-bold uppercase text-gray-500 mb-2\">Learning Goals (One per line)</label>\r\n                <textarea \r\n                    defaultValue={data.learningGoals?.join('\\n')}\r\n                    onBlur={handleGoalsChange}\r\n                    rows={4}\r\n                    className=\"w-full bg-gray-50 dark:bg-white/5 border border-gray-200 dark:border-white/10 rounded-xl px-4 py-3 text-sm text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-jambo-600 transition-all resize-none\"\r\n                    placeholder=\"Understand the basics of...&#10;Identify key terms...\"\r\n                />\r\n            </div>\r\n\r\n            <div className=\"pt-6 border-t border-gray-100 dark:border-white/5\">\r\n                <ImageUploadField \r\n                    label=\"Course Thumbnail\" \r\n                    icon={<ImageIcon size={32} />} \r\n                    previewUrl={data.thumbnailUrl || null} \r\n                    onFileChange={handleImageChange} \r\n                />\r\n            </div>\r\n        </div>\r\n    </div>\r\n  );\r\n};"],"names":[],"mappings":"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"}},
    {"offset": {"line": 803, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Khesh/Desktop/Jambo-linguists/components/admin/content/editor/QuizBuilder.tsx"],"sourcesContent":["\r\nimport React, { useState } from 'react';\r\nimport { QuizQuestion } from '@/data/types';\r\nimport { Plus, Trash2, CheckCircle, Circle } from 'lucide-react';\r\n\r\ninterface QuizBuilderProps {\r\n  questions: QuizQuestion[];\r\n  onChange: (questions: QuizQuestion[]) => void;\r\n}\r\n\r\nexport const QuizBuilder = ({ questions, onChange }: QuizBuilderProps) => {\r\n  const [activeQIndex, setActiveQIndex] = useState<number | null>(null);\r\n\r\n  const addQuestion = () => {\r\n      const newQ: QuizQuestion = {\r\n          question: '',\r\n          options: ['', '', '', ''],\r\n          correctAnswer: 0,\r\n          explanation: ''\r\n      };\r\n      onChange([...questions, newQ]);\r\n      setActiveQIndex(questions.length);\r\n  };\r\n\r\n  const updateQuestion = (index: number, field: keyof QuizQuestion, value: any) => {\r\n      const updated = [...questions];\r\n      updated[index] = { ...updated[index], [field]: value };\r\n      onChange(updated);\r\n  };\r\n\r\n  const updateOption = (qIndex: number, optIndex: number, text: string) => {\r\n      const updated = [...questions];\r\n      updated[qIndex].options[optIndex] = text;\r\n      onChange(updated);\r\n  };\r\n\r\n  const removeQuestion = (index: number) => {\r\n      const updated = questions.filter((_, i) => i !== index);\r\n      onChange(updated);\r\n      if (activeQIndex === index) setActiveQIndex(null);\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-6 bg-gray-50 dark:bg-white/5 p-4 md:p-6 rounded-xl border border-gray-200 dark:border-white/10\">\r\n        <div className=\"flex justify-between items-center\">\r\n            <h4 className=\"font-bold text-gray-900 dark:text-white\">Quiz Questions</h4>\r\n            <button onClick={addQuestion} className=\"text-xs font-bold text-jambo-600 hover:text-jambo-700 flex items-center gap-1 bg-white dark:bg-white/10 border border-gray-200 dark:border-white/10 px-3 py-1.5 rounded-lg shadow-sm transition-colors\">\r\n                <Plus size={14} /> Add Question\r\n            </button>\r\n        </div>\r\n\r\n        {questions.length === 0 ? (\r\n            <p className=\"text-sm text-gray-400 italic text-center py-4\">No questions added yet.</p>\r\n        ) : (\r\n            <div className=\"space-y-4\">\r\n                {questions.map((q, idx) => (\r\n                    <div key={idx} className=\"bg-white dark:bg-[#1a1625] border border-gray-200 dark:border-white/10 rounded-lg p-4\">\r\n                        <div className=\"flex justify-between items-start mb-4\">\r\n                            <h5 className=\"text-sm font-bold text-gray-500 uppercase\">Question {idx + 1}</h5>\r\n                            <button onClick={() => removeQuestion(idx)} className=\"text-gray-400 hover:text-red-500 transition-colors\"><Trash2 size={16}/></button>\r\n                        </div>\r\n                        \r\n                        <div className=\"space-y-4\">\r\n                            <input \r\n                                className=\"w-full bg-gray-50 dark:bg-white/5 border border-gray-200 dark:border-white/10 rounded-lg px-4 py-2 text-sm dark:text-white focus:outline-none focus:ring-2 focus:ring-jambo-600 font-bold\"\r\n                                placeholder=\"Enter question text...\"\r\n                                value={q.question}\r\n                                onChange={(e) => updateQuestion(idx, 'question', e.target.value)}\r\n                            />\r\n\r\n                            <div className=\"space-y-2 pl-2 md:pl-4 border-l-2 border-gray-100 dark:border-white/5\">\r\n                                {q.options.map((opt, optIdx) => (\r\n                                    <div key={optIdx} className=\"flex items-center gap-3\">\r\n                                        <button \r\n                                            onClick={() => updateQuestion(idx, 'correctAnswer', optIdx)}\r\n                                            className={`shrink-0 ${q.correctAnswer === optIdx ? 'text-green-500' : 'text-gray-300 hover:text-gray-400'}`}\r\n                                            title={q.correctAnswer === optIdx ? \"Correct Answer\" : \"Mark as Correct\"}\r\n                                        >\r\n                                            {q.correctAnswer === optIdx ? <CheckCircle size={20} /> : <Circle size={20} />}\r\n                                        </button>\r\n                                        <input \r\n                                            className=\"w-full bg-transparent border-b border-gray-200 dark:border-white/10 py-1 text-sm dark:text-white focus:outline-none focus:border-jambo-600\"\r\n                                            placeholder={`Option ${optIdx + 1}`}\r\n                                            value={opt}\r\n                                            onChange={(e) => updateOption(idx, optIdx, e.target.value)}\r\n                                        />\r\n                                    </div>\r\n                                ))}\r\n                            </div>\r\n\r\n                            <div>\r\n                                <label className=\"text-xs font-bold text-gray-400 uppercase mb-1 block\">Explanation (shown after answer)</label>\r\n                                <textarea \r\n                                    className=\"w-full bg-gray-50 dark:bg-white/5 border border-gray-200 dark:border-white/10 rounded-lg px-3 py-2 text-xs dark:text-white focus:outline-none focus:ring-2 focus:ring-jambo-600\"\r\n                                    rows={2}\r\n                                    value={q.explanation}\r\n                                    onChange={(e) => updateQuestion(idx, 'explanation', e.target.value)}\r\n                                    placeholder=\"Explain why this is correct...\"\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                ))}\r\n            </div>\r\n        )}\r\n    </div>\r\n  );\r\n};\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1068, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Khesh/Desktop/Jambo-linguists/components/admin/content/editor/LessonModal.tsx"],"sourcesContent":["\r\nimport React, { useState, useEffect } from 'react';\r\nimport { Lesson, LessonType } from '@/data/types';\r\nimport { Modal } from '../../../ui/Modal';\r\nimport { Button } from '../../../ui/Button';\r\nimport { PlayCircle, FileText, LayoutTemplate, HelpCircle, X, CheckCircle, Lock } from 'lucide-react';\r\nimport { QuizBuilder } from './QuizBuilder';\r\n\r\ninterface LessonModalProps {\r\n  isOpen: boolean;\r\n  onClose: () => void;\r\n  onSave: (lesson: Lesson) => void;\r\n  initialData: Lesson | null;\r\n  defaultModule: string;\r\n}\r\n\r\nexport const LessonModal = ({ isOpen, onClose, onSave, initialData, defaultModule }: LessonModalProps) => {\r\n  const [lessonData, setLessonData] = useState<Partial<Lesson>>({\r\n      title: '',\r\n      module: defaultModule,\r\n      type: 'Video',\r\n      duration: '',\r\n      contentUrl: '',\r\n      description: '',\r\n      transcript: '',\r\n      quizData: []\r\n  });\r\n\r\n  useEffect(() => {\r\n      if (initialData) {\r\n          setLessonData(initialData);\r\n      } else {\r\n          // Generate a temp ID for key purposes and ensure module is set\r\n          setLessonData(prev => ({ \r\n              ...prev, \r\n              id: `temp-${Date.now()}`,\r\n              module: defaultModule // Enforce parent module\r\n          }));\r\n      }\r\n  }, [initialData, defaultModule]);\r\n\r\n  const handleChange = (field: keyof Lesson, value: any) => {\r\n      setLessonData(prev => ({ ...prev, [field]: value }));\r\n  };\r\n\r\n  const handleSave = () => {\r\n      if (!lessonData.title) {\r\n          alert(\"Title is required\");\r\n          return;\r\n      }\r\n      onSave(lessonData as Lesson);\r\n  };\r\n\r\n  const types: { id: LessonType, icon: any, label: string }[] = [\r\n      { id: 'Video', icon: PlayCircle, label: 'Video Lesson' },\r\n      { id: 'Document', icon: FileText, label: 'PDF Document' },\r\n      { id: 'Slide', icon: LayoutTemplate, label: 'Slide Deck' },\r\n      { id: 'Quiz', icon: HelpCircle, label: 'Quiz' },\r\n  ];\r\n\r\n  return (\r\n    <Modal isOpen={isOpen} onClose={onClose} size=\"4xl\" showCloseButton>\r\n        <div className=\"flex flex-col h-[85vh] bg-white dark:bg-[#1a1625]\">\r\n            <div className=\"p-4 md:p-6 border-b border-gray-100 dark:border-white/5 bg-gray-50/50 dark:bg-white/5 flex justify-between items-center shrink-0\">\r\n                <div>\r\n                    <h2 className=\"text-lg md:text-xl font-bold text-gray-900 dark:text-white\">\r\n                        {initialData ? 'Edit Lesson' : 'Add New Lesson'}\r\n                    </h2>\r\n                    <p className=\"text-xs text-gray-500 flex items-center gap-1 mt-1\">\r\n                        Adding to: <span className=\"font-bold text-jambo-600 dark:text-jambo-400 bg-jambo-50 dark:bg-white/10 px-1.5 py-0.5 rounded truncate max-w-[200px]\">{defaultModule}</span>\r\n                    </p>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"flex-1 overflow-y-auto custom-scrollbar p-4 md:p-6 space-y-6\">\r\n                \r\n                {/* Type Selection */}\r\n                <div className=\"grid grid-cols-2 md:grid-cols-4 gap-3 md:gap-4\">\r\n                    {types.map(t => (\r\n                        <button\r\n                            key={t.id}\r\n                            onClick={() => handleChange('type', t.id)}\r\n                            className={`p-3 md:p-4 rounded-xl border flex flex-col items-center gap-2 md:gap-3 transition-all relative overflow-hidden ${\r\n                                lessonData.type === t.id \r\n                                ? 'bg-jambo-50 border-jambo-600 text-jambo-700 dark:bg-jambo-900/30 dark:text-jambo-300 dark:border-jambo-500 shadow-sm' \r\n                                : 'bg-white dark:bg-white/5 border-gray-200 dark:border-white/10 text-gray-500 hover:bg-gray-50 dark:hover:bg-white/10'\r\n                            }`}\r\n                        >\r\n                            <t.icon size={20} className=\"md:w-6 md:h-6\" />\r\n                            <span className=\"text-[10px] md:text-xs font-bold uppercase tracking-wide text-center\">{t.label}</span>\r\n                            {lessonData.type === t.id && (\r\n                                <div className=\"absolute top-2 right-2 text-jambo-600 dark:text-jambo-400\">\r\n                                    <CheckCircle size={14} className=\"fill-current text-white dark:text-black\" />\r\n                                </div>\r\n                            )}\r\n                        </button>\r\n                    ))}\r\n                </div>\r\n\r\n                {/* Common Fields */}\r\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6\">\r\n                    <div>\r\n                        <label className=\"text-xs font-bold text-gray-500 uppercase mb-2 block\">Lesson Title</label>\r\n                        <input \r\n                            className=\"w-full bg-gray-50 dark:bg-white/5 border border-gray-200 dark:border-white/10 rounded-lg px-4 py-2.5 text-sm dark:text-white focus:outline-none focus:ring-2 focus:ring-jambo-600\"\r\n                            value={lessonData.title}\r\n                            onChange={(e) => handleChange('title', e.target.value)}\r\n                            placeholder=\"e.g. Introduction to Key Concepts\"\r\n                            autoFocus\r\n                        />\r\n                    </div>\r\n                    <div>\r\n                        <label className=\"text-xs font-bold text-gray-500 uppercase mb-2 block flex items-center gap-1\">\r\n                            Module <Lock size={12} className=\"text-gray-400\" />\r\n                        </label>\r\n                        <input \r\n                            className=\"w-full bg-gray-100 dark:bg-black/20 border border-transparent rounded-lg px-4 py-2.5 text-sm text-gray-500 dark:text-gray-400 cursor-not-allowed\"\r\n                            value={defaultModule}\r\n                            readOnly\r\n                            title=\"Module is managed in the curriculum view\"\r\n                        />\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6\">\r\n                    <div>\r\n                        <label className=\"text-xs font-bold text-gray-500 uppercase mb-2 block\">Duration</label>\r\n                        <input \r\n                            className=\"w-full bg-gray-50 dark:bg-white/5 border border-gray-200 dark:border-white/10 rounded-lg px-4 py-2.5 text-sm dark:text-white focus:outline-none focus:ring-2 focus:ring-jambo-600\"\r\n                            value={lessonData.duration}\r\n                            onChange={(e) => handleChange('duration', e.target.value)}\r\n                            placeholder=\"e.g. 15 min\"\r\n                        />\r\n                    </div>\r\n                    <div>\r\n                        {lessonData.type !== 'Quiz' && (\r\n                            <>\r\n                                <label className=\"text-xs font-bold text-gray-500 uppercase mb-2 block\">Content URL</label>\r\n                                <input \r\n                                    className=\"w-full bg-gray-50 dark:bg-white/5 border border-gray-200 dark:border-white/10 rounded-lg px-4 py-2.5 text-sm dark:text-white focus:outline-none focus:ring-2 focus:ring-jambo-600\"\r\n                                    value={lessonData.contentUrl || ''}\r\n                                    onChange={(e) => handleChange('contentUrl', e.target.value)}\r\n                                    placeholder={lessonData.type === 'Video' ? \"https://example.com/video.mp4\" : \"https://example.com/doc.pdf\"}\r\n                                />\r\n                            </>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n\r\n                <div>\r\n                    <label className=\"text-xs font-bold text-gray-500 uppercase mb-2 block\">Description / Instructions</label>\r\n                    <textarea \r\n                        className=\"w-full bg-gray-50 dark:bg-white/5 border border-gray-200 dark:border-white/10 rounded-lg px-4 py-2.5 text-sm dark:text-white focus:outline-none focus:ring-2 focus:ring-jambo-600\"\r\n                        rows={3}\r\n                        value={lessonData.description || ''}\r\n                        onChange={(e) => handleChange('description', e.target.value)}\r\n                    />\r\n                </div>\r\n\r\n                {/* Specific Fields */}\r\n                {lessonData.type === 'Video' && (\r\n                    <div>\r\n                        <label className=\"text-xs font-bold text-gray-500 uppercase mb-2 block\">Transcript</label>\r\n                        <textarea \r\n                            className=\"w-full bg-gray-50 dark:bg-white/5 border border-gray-200 dark:border-white/10 rounded-lg px-4 py-2.5 text-sm dark:text-white focus:outline-none focus:ring-2 focus:ring-jambo-600\"\r\n                            rows={6}\r\n                            value={lessonData.transcript || ''}\r\n                            onChange={(e) => handleChange('transcript', e.target.value)}\r\n                            placeholder=\"Paste video transcript here...\"\r\n                        />\r\n                    </div>\r\n                )}\r\n\r\n                {lessonData.type === 'Quiz' && (\r\n                    <QuizBuilder \r\n                        questions={lessonData.quizData || []}\r\n                        onChange={(qs) => handleChange('quizData', qs)}\r\n                    />\r\n                )}\r\n\r\n            </div>\r\n\r\n            <div className=\"p-4 md:p-6 border-t border-gray-100 dark:border-white/5 bg-gray-50 dark:bg-white/5 flex justify-end gap-3 shrink-0\">\r\n                <Button variant=\"secondary\" onClick={onClose}>Cancel</Button>\r\n                <Button variant=\"primary\" onClick={handleSave}>Save Lesson</Button>\r\n            </div>\r\n        </div>\r\n    </Modal>\r\n  );\r\n};\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1508, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Khesh/Desktop/Jambo-linguists/components/admin/content/editor/CurriculumStep.tsx"],"sourcesContent":["\r\nimport React, { useState, useEffect } from 'react';\r\nimport { Lesson } from '@/data/types';\r\nimport { \r\n  Plus, Trash2, Edit2, PlayCircle, FileText, HelpCircle, \r\n  LayoutTemplate, ChevronUp, ChevronDown, FolderPlus\r\n} from 'lucide-react';\r\nimport { LessonModal } from './LessonModal';\r\n\r\ninterface CurriculumStepProps {\r\n  lessons: Lesson[];\r\n  setLessons: React.Dispatch<React.SetStateAction<Lesson[]>>;\r\n}\r\n\r\ninterface ModuleStructure {\r\n  id: string; // Temporary ID for UI tracking\r\n  title: string;\r\n  lessons: Lesson[];\r\n  isEditingTitle: boolean;\r\n}\r\n\r\nexport const CurriculumStep = ({ lessons, setLessons }: CurriculumStepProps) => {\r\n  const [structure, setStructure] = useState<ModuleStructure[]>([]);\r\n  const [editingLesson, setEditingLesson] = useState<Lesson | null>(null);\r\n  const [isModalOpen, setIsModalOpen] = useState(false);\r\n  const [targetModuleId, setTargetModuleId] = useState<string | null>(null);\r\n\r\n  // Initialize Structure on Mount\r\n  useEffect(() => {\r\n    // Group existing lessons by module string\r\n    const groups: Record<string, Lesson[]> = {};\r\n    const moduleNames: string[] = [];\r\n\r\n    // Preserving order based on the first appearance of a module name\r\n    lessons.sort((a, b) => a.orderIndex - b.orderIndex).forEach(l => {\r\n        const modName = l.module || 'General';\r\n        if (!groups[modName]) {\r\n            groups[modName] = [];\r\n            moduleNames.push(modName);\r\n        }\r\n        groups[modName].push(l);\r\n    });\r\n\r\n    // If no lessons, start with an initial empty module\r\n    if (moduleNames.length === 0) {\r\n        setStructure([{ id: `mod-${Date.now()}`, title: 'Introduction', lessons: [], isEditingTitle: false }]);\r\n    } else {\r\n        const builtStructure = moduleNames.map((name, index) => ({\r\n            id: `mod-${index}`,\r\n            title: name,\r\n            lessons: groups[name],\r\n            isEditingTitle: false\r\n        }));\r\n        setStructure(builtStructure);\r\n    }\r\n  }, []); // Only run once on mount to parse initial data\r\n\r\n  // Sync changes back to parent whenever structure changes\r\n  useEffect(() => {\r\n      const flatList: Lesson[] = [];\r\n      let globalOrder = 0;\r\n\r\n      structure.forEach(mod => {\r\n          mod.lessons.forEach(lesson => {\r\n              flatList.push({\r\n                  ...lesson,\r\n                  module: mod.title,\r\n                  orderIndex: globalOrder++\r\n              });\r\n          });\r\n      });\r\n      \r\n      // Update parent state\r\n      if (flatList.length > 0 || structure.length > 0) {\r\n         setLessons(flatList);\r\n      }\r\n  }, [structure]);\r\n\r\n  // --- Module Operations ---\r\n\r\n  const addModule = () => {\r\n      const newModule: ModuleStructure = {\r\n          id: `mod-${Date.now()}`,\r\n          title: `New Section ${structure.length + 1}`,\r\n          lessons: [],\r\n          isEditingTitle: true\r\n      };\r\n      setStructure([...structure, newModule]);\r\n  };\r\n\r\n  const deleteModule = (modId: string) => {\r\n      if (confirm('Delete this section and all its lessons? This cannot be undone.')) {\r\n          setStructure(prev => prev.filter(m => m.id !== modId));\r\n      }\r\n  };\r\n\r\n  const moveModule = (index: number, direction: 'up' | 'down') => {\r\n      if (direction === 'up' && index === 0) return;\r\n      if (direction === 'down' && index === structure.length - 1) return;\r\n      \r\n      const newStructure = [...structure];\r\n      const targetIndex = direction === 'up' ? index - 1 : index + 1;\r\n      [newStructure[index], newStructure[targetIndex]] = [newStructure[targetIndex], newStructure[index]];\r\n      setStructure(newStructure);\r\n  };\r\n\r\n  const updateModuleTitle = (modId: string, newTitle: string) => {\r\n      setStructure(prev => prev.map(m => m.id === modId ? { ...m, title: newTitle } : m));\r\n  };\r\n\r\n  const toggleModuleEdit = (modId: string, isEditing: boolean) => {\r\n      setStructure(prev => prev.map(m => m.id === modId ? { ...m, isEditingTitle: isEditing } : m));\r\n  };\r\n\r\n  // --- Lesson Operations ---\r\n\r\n  const openAddLessonModal = (modId: string) => {\r\n      setTargetModuleId(modId);\r\n      setEditingLesson(null);\r\n      setIsModalOpen(true);\r\n  };\r\n\r\n  const openEditLessonModal = (lesson: Lesson, modId: string) => {\r\n      setTargetModuleId(modId);\r\n      setEditingLesson(lesson);\r\n      setIsModalOpen(true);\r\n  };\r\n\r\n  const handleSaveLesson = (lesson: Lesson) => {\r\n      setStructure(prev => prev.map(mod => {\r\n          if (mod.id !== targetModuleId) return mod;\r\n\r\n          if (editingLesson) {\r\n              // Edit existing in this module\r\n              return {\r\n                  ...mod,\r\n                  lessons: mod.lessons.map(l => l.id === lesson.id ? lesson : l)\r\n              };\r\n          } else {\r\n              // Add new to this module\r\n              return {\r\n                  ...mod,\r\n                  lessons: [...mod.lessons, lesson]\r\n              };\r\n          }\r\n      }));\r\n      setIsModalOpen(false);\r\n  };\r\n\r\n  const deleteLesson = (modId: string, lessonId: string) => {\r\n      if (confirm('Remove this lesson?')) {\r\n          setStructure(prev => prev.map(mod => {\r\n              if (mod.id !== modId) return mod;\r\n              return {\r\n                  ...mod,\r\n                  lessons: mod.lessons.filter(l => l.id !== lessonId)\r\n              };\r\n          }));\r\n      }\r\n  };\r\n\r\n  const moveLesson = (modId: string, lessonIndex: number, direction: 'up' | 'down') => {\r\n      setStructure(prev => prev.map(mod => {\r\n          if (mod.id !== modId) return mod;\r\n          if (direction === 'up' && lessonIndex === 0) return mod;\r\n          if (direction === 'down' && lessonIndex === mod.lessons.length - 1) return mod;\r\n\r\n          const newLessons = [...mod.lessons];\r\n          const targetIndex = direction === 'up' ? lessonIndex - 1 : lessonIndex + 1;\r\n          [newLessons[lessonIndex], newLessons[targetIndex]] = [newLessons[targetIndex], newLessons[lessonIndex]];\r\n          \r\n          return { ...mod, lessons: newLessons };\r\n      }));\r\n  };\r\n\r\n  const getIcon = (type: string) => {\r\n      switch(type) {\r\n          case 'Video': return PlayCircle;\r\n          case 'Quiz': return HelpCircle;\r\n          case 'Slide': return LayoutTemplate;\r\n          default: return FileText;\r\n      }\r\n  };\r\n\r\n  // Helper to find title for modal\r\n  const targetModuleTitle = structure.find(m => m.id === targetModuleId)?.title || 'General';\r\n\r\n  return (\r\n    <div className=\"max-w-5xl mx-auto space-y-8 animate-in fade-in duration-300 pb-20\">\r\n        <div>\r\n            <h3 className=\"text-xl font-bold text-gray-900 dark:text-white mb-1\">Course Curriculum</h3>\r\n            <p className=\"text-sm text-gray-500 dark:text-gray-400\">Structure your course into modules and lessons.</p>\r\n        </div>\r\n\r\n        <div className=\"space-y-6\">\r\n            {structure.map((mod, index) => (\r\n                <div key={mod.id} className=\"bg-white dark:bg-[#13111c] border border-gray-200 dark:border-white/10 rounded-xl overflow-hidden shadow-sm transition-all hover:shadow-md\">\r\n                    \r\n                    {/* Module Header */}\r\n                    <div className=\"bg-gray-50 dark:bg-white/5 px-4 py-3 border-b border-gray-100 dark:border-white/5\">\r\n                        <div className=\"flex flex-col md:flex-row md:items-center justify-between gap-3\">\r\n                            <div className=\"flex items-start md:items-center gap-3 flex-1 min-w-0\">\r\n                                {/* Drag Handles / Sort */}\r\n                                <div className=\"flex flex-col gap-0.5 mt-1 md:mt-0\">\r\n                                    <button onClick={() => moveModule(index, 'up')} disabled={index === 0} className=\"text-gray-400 hover:text-jambo-600 disabled:opacity-30 p-0.5\"><ChevronUp size={14} /></button>\r\n                                    <button onClick={() => moveModule(index, 'down')} disabled={index === structure.length - 1} className=\"text-gray-400 hover:text-jambo-600 disabled:opacity-30 p-0.5\"><ChevronDown size={14} /></button>\r\n                                </div>\r\n                                \r\n                                <div className=\"flex-1 min-w-0\">\r\n                                    <div className=\"flex items-center gap-2 mb-1\">\r\n                                        <span className=\"text-[10px] font-bold text-gray-400 uppercase tracking-wider\">Module {index + 1}</span>\r\n                                    </div>\r\n                                    {mod.isEditingTitle ? (\r\n                                        <input \r\n                                            autoFocus\r\n                                            value={mod.title}\r\n                                            onChange={(e) => updateModuleTitle(mod.id, e.target.value)}\r\n                                            onBlur={() => toggleModuleEdit(mod.id, false)}\r\n                                            onKeyDown={(e) => e.key === 'Enter' && toggleModuleEdit(mod.id, false)}\r\n                                            className=\"font-bold text-lg text-gray-900 dark:text-white bg-white dark:bg-black/20 border border-jambo-500 rounded px-2 py-1 w-full\"\r\n                                        />\r\n                                    ) : (\r\n                                        <div className=\"flex items-center gap-2 group cursor-pointer\" onClick={() => toggleModuleEdit(mod.id, true)}>\r\n                                            <h4 className=\"font-bold text-lg text-gray-900 dark:text-white truncate\">{mod.title}</h4>\r\n                                            <Edit2 size={12} className=\"text-gray-400 opacity-100 md:opacity-0 md:group-hover:opacity-100 transition-opacity\" />\r\n                                        </div>\r\n                                    )}\r\n                                </div>\r\n                            </div>\r\n\r\n                            {/* Module Actions */}\r\n                            <div className=\"flex items-center gap-2 pt-2 md:pt-0 border-t md:border-t-0 border-gray-100 dark:border-white/5 md:ml-4 justify-end\">\r\n                                <button \r\n                                    onClick={() => openAddLessonModal(mod.id)}\r\n                                    className=\"text-xs font-bold bg-jambo-600 hover:bg-jambo-700 text-white px-3 py-1.5 rounded-lg flex items-center gap-2 shadow-sm transition-colors\"\r\n                                >\r\n                                    <Plus size={14} /> <span className=\"hidden sm:inline\">Add Lesson</span><span className=\"sm:hidden\">Add</span>\r\n                                </button>\r\n                                <button \r\n                                    onClick={() => deleteModule(mod.id)}\r\n                                    className=\"p-1.5 text-gray-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors\"\r\n                                    title=\"Delete Module\"\r\n                                >\r\n                                    <Trash2 size={16} />\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Lessons List */}\r\n                    <div className=\"divide-y divide-gray-100 dark:divide-white/5 bg-white dark:bg-[#1a1625]\">\r\n                        {mod.lessons.length === 0 ? (\r\n                            <div className=\"p-6 md:p-8 text-center border-dashed border-gray-200 dark:border-white/5 m-3 md:m-4 rounded-lg bg-gray-50/50 dark:bg-white/5\">\r\n                                <p className=\"text-sm text-gray-400 font-medium mb-2\">This module is empty.</p>\r\n                                <button onClick={() => openAddLessonModal(mod.id)} className=\"text-sm font-bold text-jambo-600 hover:underline\">Add the first lesson</button>\r\n                            </div>\r\n                        ) : (\r\n                            mod.lessons.map((lesson, lIndex) => {\r\n                                const Icon = getIcon(lesson.type);\r\n                                return (\r\n                                    <div key={lesson.id} className=\"p-3 sm:p-4 flex flex-wrap sm:flex-nowrap items-center gap-3 hover:bg-gray-50 dark:hover:bg-white/5 transition-colors group\">\r\n                                        <div className=\"flex flex-col gap-0.5 shrink-0\">\r\n                                            <button onClick={() => moveLesson(mod.id, lIndex, 'up')} disabled={lIndex === 0} className=\"text-gray-300 hover:text-jambo-600 disabled:opacity-0 p-0.5\"><ChevronUp size={12} /></button>\r\n                                            <button onClick={() => moveLesson(mod.id, lIndex, 'down')} disabled={lIndex === mod.lessons.length - 1} className=\"text-gray-300 hover:text-jambo-600 disabled:opacity-0 p-0.5\"><ChevronDown size={12} /></button>\r\n                                        </div>\r\n                                        \r\n                                        <div className={`p-2 rounded-lg shrink-0 ${\r\n                                            lesson.type === 'Quiz' ? 'bg-orange-50 text-orange-600' : \r\n                                            lesson.type === 'Video' ? 'bg-blue-50 text-blue-600' : 'bg-gray-100 text-gray-600'\r\n                                        }`}>\r\n                                            <Icon size={18} />\r\n                                        </div>\r\n\r\n                                        <div className=\"flex-1 min-w-[150px]\">\r\n                                            <p className=\"text-sm font-bold text-gray-900 dark:text-white truncate max-w-full\">{lesson.title}</p>\r\n                                            <div className=\"flex items-center gap-2 text-xs text-gray-500 mt-0.5\">\r\n                                                <span className=\"uppercase tracking-wider\">{lesson.type}</span>\r\n                                                {lesson.duration && <span> {lesson.duration}</span>}\r\n                                            </div>\r\n                                        </div>\r\n\r\n                                        <div className=\"flex items-center gap-1 ml-auto shrink-0 opacity-100 sm:opacity-0 sm:group-hover:opacity-100 transition-opacity\">\r\n                                            <button \r\n                                                onClick={() => openEditLessonModal(lesson, mod.id)}\r\n                                                className=\"p-2 text-gray-400 hover:text-jambo-600 hover:bg-jambo-50 dark:hover:bg-white/10 rounded transition-colors\"\r\n                                                title=\"Edit Lesson\"\r\n                                            >\r\n                                                <Edit2 size={16} />\r\n                                            </button>\r\n                                            <button \r\n                                                onClick={() => deleteLesson(mod.id, lesson.id)}\r\n                                                className=\"p-2 text-gray-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded transition-colors\"\r\n                                                title=\"Delete Lesson\"\r\n                                            >\r\n                                                <Trash2 size={16} />\r\n                                            </button>\r\n                                        </div>\r\n                                    </div>\r\n                                );\r\n                            })\r\n                        )}\r\n                    </div>\r\n                </div>\r\n            ))}\r\n        </div>\r\n\r\n        <button \r\n            onClick={addModule}\r\n            className=\"w-full py-4 border-2 border-dashed border-gray-200 dark:border-white/10 rounded-xl text-gray-500 font-bold hover:text-jambo-600 hover:border-jambo-300 dark:hover:border-jambo-700 hover:bg-jambo-50/50 dark:hover:bg-jambo-900/10 transition-all flex items-center justify-center gap-2\"\r\n        >\r\n            <FolderPlus size={20} /> Add New Module\r\n        </button>\r\n\r\n        {isModalOpen && (\r\n            <LessonModal \r\n                isOpen={isModalOpen}\r\n                onClose={() => setIsModalOpen(false)}\r\n                onSave={handleSaveLesson}\r\n                initialData={editingLesson}\r\n                defaultModule={targetModuleTitle}\r\n            />\r\n        )}\r\n    </div>\r\n  );\r\n};\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2187, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Khesh/Desktop/Jambo-linguists/components/admin/content/editor/SettingsStep.tsx"],"sourcesContent":["\r\nimport React, { useState, useEffect } from 'react';\r\nimport { Course } from '@/data/types';\r\nimport { mockDb } from '@/data/mockDatabase';\r\nimport { Switch } from '../../../ui/Switch';\r\nimport { Settings, Lock, Bell, Award, BookOpen, GraduationCap } from 'lucide-react';\r\nimport { Fieldset } from '../../jobs/add-job/Fieldset';\r\n\r\ninterface SettingsStepProps {\r\n  data: Partial<Course>;\r\n  onChange: (data: Partial<Course>) => void;\r\n}\r\n\r\nexport const SettingsStep = ({ data, onChange }: SettingsStepProps) => {\r\n  const [allCourses, setAllCourses] = useState<Course[]>([]);\r\n  const settings = data.settings || {\r\n      visibility: 'Hidden',\r\n      allowReenrollment: false,\r\n      requirePrerequisites: false,\r\n      prerequisites: [],\r\n      passingScore: 80,\r\n      autoIssueCertificate: true,\r\n      notifications: {}\r\n  };\r\n\r\n  useEffect(() => {\r\n      // Fetch courses for prerequisites, excluding self if exists\r\n      setAllCourses(mockDb.getCourses().filter(c => c.id !== data.id));\r\n  }, [data.id]);\r\n\r\n  const updateSetting = (key: string, value: any) => {\r\n      onChange({\r\n          settings: {\r\n              ...settings,\r\n              [key]: value\r\n          }\r\n      });\r\n  };\r\n\r\n  const updateNotification = (key: string, value: boolean) => {\r\n      onChange({\r\n          settings: {\r\n              ...settings,\r\n              notifications: {\r\n                  ...settings.notifications,\r\n                  [key]: value\r\n              }\r\n          }\r\n      });\r\n  };\r\n\r\n  const togglePrerequisite = (courseId: string) => {\r\n      const current = settings.prerequisites || [];\r\n      const updated = current.includes(courseId)\r\n          ? current.filter(id => id !== courseId)\r\n          : [...current, courseId];\r\n      updateSetting('prerequisites', updated);\r\n  };\r\n\r\n  return (\r\n    <div className=\"max-w-3xl mx-auto space-y-6 animate-in fade-in duration-300 pb-12\">\r\n        <div>\r\n            <h3 className=\"text-xl font-bold text-gray-900 dark:text-white mb-1\">Local Configuration</h3>\r\n            <p className=\"text-sm text-gray-500 dark:text-gray-400\">Settings specific to this course module.</p>\r\n        </div>\r\n\r\n        <Fieldset title=\"Access & Enrollment\" icon={Lock}>\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                <div>\r\n                    <label className=\"block text-xs font-bold uppercase text-gray-500 mb-2\">Visibility</label>\r\n                    <select \r\n                        value={settings.visibility}\r\n                        onChange={(e) => updateSetting('visibility', e.target.value)}\r\n                        className=\"w-full bg-gray-50 dark:bg-white/5 border border-gray-200 dark:border-white/10 rounded-xl px-4 py-2.5 text-sm text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-jambo-600 transition-all\"\r\n                    >\r\n                        <option value=\"Public\">Public</option>\r\n                        <option value=\"Invite-Only\">Invite-Only</option>\r\n                        <option value=\"Hidden\">Hidden (Draft)</option>\r\n                    </select>\r\n                </div>\r\n                <div>\r\n                    <label className=\"block text-xs font-bold uppercase text-gray-500 mb-2\">Max Enrollments</label>\r\n                    <input \r\n                        type=\"number\"\r\n                        value={settings.maxEnrollment || ''}\r\n                        onChange={(e) => updateSetting('maxEnrollment', e.target.value ? parseInt(e.target.value) : undefined)}\r\n                        placeholder=\"Unlimited\"\r\n                        className=\"w-full bg-gray-50 dark:bg-white/5 border border-gray-200 dark:border-white/10 rounded-xl px-4 py-2.5 text-sm text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-jambo-600 transition-all\"\r\n                    />\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"flex items-center justify-between gap-4 p-3 rounded-lg border border-gray-100 dark:border-white/5 bg-gray-50/50 dark:bg-white/5\">\r\n                <div>\r\n                    <p className=\"font-bold text-sm text-gray-800 dark:text-gray-200\">Allow Re-enrollment</p>\r\n                    <p className=\"text-xs text-gray-500 dark:text-gray-400\">User can retake course after completion.</p>\r\n                </div>\r\n                <Switch checked={settings.allowReenrollment} onChange={(v) => updateSetting('allowReenrollment', v)} />\r\n            </div>\r\n        </Fieldset>\r\n\r\n        <Fieldset title=\"Prerequisites\" icon={BookOpen}>\r\n            <div className=\"flex items-center justify-between gap-4 mb-4\">\r\n                <div>\r\n                    <p className=\"font-bold text-sm text-gray-800 dark:text-gray-200\">Require Prerequisites</p>\r\n                    <p className=\"text-xs text-gray-500 dark:text-gray-400\">User must complete specific courses before enrolling.</p>\r\n                </div>\r\n                <Switch checked={!!settings.requirePrerequisites} onChange={(v) => updateSetting('requirePrerequisites', v)} />\r\n            </div>\r\n\r\n            {settings.requirePrerequisites && (\r\n                <div className=\"bg-gray-50 dark:bg-white/5 rounded-xl border border-gray-200 dark:border-white/10 p-4 max-h-60 overflow-y-auto custom-scrollbar\">\r\n                    {allCourses.length === 0 ? (\r\n                        <p className=\"text-sm text-gray-400 italic\">No other courses available.</p>\r\n                    ) : (\r\n                        allCourses.map(c => (\r\n                            <label key={c.id} className=\"flex items-center gap-3 p-2 hover:bg-gray-100 dark:hover:bg-white/5 rounded-lg cursor-pointer transition-colors\">\r\n                                <input \r\n                                    type=\"checkbox\"\r\n                                    checked={settings.prerequisites?.includes(c.id) || false}\r\n                                    onChange={() => togglePrerequisite(c.id)}\r\n                                    className=\"rounded text-jambo-600 focus:ring-jambo-500 w-4 h-4\"\r\n                                />\r\n                                <span className=\"text-sm font-medium text-gray-700 dark:text-gray-300\">{c.title}</span>\r\n                            </label>\r\n                        ))\r\n                    )}\r\n                </div>\r\n            )}\r\n        </Fieldset>\r\n\r\n        <Fieldset title=\"Assessment Rules\" icon={GraduationCap}>\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6 items-end\">\r\n                <div>\r\n                    <label className=\"block text-xs font-bold uppercase text-gray-500 mb-2\">Passing Score (%)</label>\r\n                    <input \r\n                        type=\"number\"\r\n                        min=\"0\"\r\n                        max=\"100\"\r\n                        value={settings.passingScore}\r\n                        onChange={(e) => updateSetting('passingScore', parseInt(e.target.value))}\r\n                        className=\"w-full bg-gray-50 dark:bg-white/5 border border-gray-200 dark:border-white/10 rounded-xl px-4 py-2.5 text-sm text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-jambo-600 transition-all font-mono\"\r\n                    />\r\n                </div>\r\n                <div className=\"flex items-center justify-between gap-4 p-3 rounded-lg border border-gray-100 dark:border-white/5 bg-gray-50/50 dark:bg-white/5 h-fit\">\r\n                    <div>\r\n                        <p className=\"font-bold text-sm text-gray-800 dark:text-gray-200\">Auto-issue Certificate</p>\r\n                        <p className=\"text-xs text-gray-500 dark:text-gray-400\">Generate PDF upon passing.</p>\r\n                    </div>\r\n                    <Switch checked={settings.autoIssueCertificate} onChange={(v) => updateSetting('autoIssueCertificate', v)} />\r\n                </div>\r\n            </div>\r\n        </Fieldset>\r\n\r\n        <Fieldset title=\"Notifications\" icon={Bell}>\r\n            <div className=\"space-y-3\">\r\n                {[\r\n                    { key: 'onLessonPublish', label: 'New Lesson Published', desc: 'Notify enrolled users when new content is added.' },\r\n                    { key: 'onAssignmentGraded', label: 'Assignment Graded', desc: 'Notify user when instructor grades a submission.' },\r\n                    { key: 'onComplete', label: 'Completion Achieved', desc: 'Notify user and admins upon course completion.' },\r\n                    { key: 'onEnroll', label: 'New Enrollment', desc: 'Notify instructor when a user enrolls.' },\r\n                ].map(item => (\r\n                    <div key={item.key} className=\"flex items-center justify-between gap-4 p-2\">\r\n                        <div>\r\n                            <p className=\"font-bold text-sm text-gray-800 dark:text-gray-200\">{item.label}</p>\r\n                            <p className=\"text-xs text-gray-500 dark:text-gray-400\">{item.desc}</p>\r\n                        </div>\r\n                        <Switch \r\n                            checked={!!settings.notifications?.[item.key as keyof typeof settings.notifications]} \r\n                            onChange={(v) => updateNotification(item.key, v)} \r\n                        />\r\n                    </div>\r\n                ))}\r\n            </div>\r\n        </Fieldset>\r\n    </div>\r\n  );\r\n};\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2694, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Khesh/Desktop/Jambo-linguists/components/admin/content/CourseEditor.tsx"],"sourcesContent":["\r\nimport React, { useState, useEffect } from 'react';\r\nimport { mockDb } from '@/data/mockDatabase';\r\nimport { Course, Lesson } from '@/data/types';\r\nimport { EditorSidebar } from './editor/EditorSidebar';\r\nimport { BasicInfoStep } from './editor/BasicInfoStep';\r\nimport { CurriculumStep } from './editor/CurriculumStep';\r\nimport { SettingsStep } from './editor/SettingsStep';\r\nimport { Save, X, Eye } from 'lucide-react';\r\nimport { Button } from '../../ui/Button';\r\n\r\ninterface CourseEditorProps {\r\n  courseId: string | null;\r\n  onSave: () => void;\r\n  onCancel: () => void;\r\n}\r\n\r\nexport const CourseEditor = ({ courseId, onSave, onCancel }: CourseEditorProps) => {\r\n  const [activeStep, setActiveStep] = useState<'info' | 'curriculum' | 'settings'>('info');\r\n  const [isSaving, setIsSaving] = useState(false);\r\n\r\n  // --- COURSE STATE ---\r\n  const [courseData, setCourseData] = useState<Partial<Course>>({\r\n      title: '',\r\n      description: '',\r\n      category: 'General',\r\n      duration: '0m',\r\n      instructor: 'Jambo Training',\r\n      learningGoals: [],\r\n      thumbnailUrl: 'https://images.unsplash.com/photo-1516321318423-f06f85e504b3?auto=format&fit=crop&q=80&w=600',\r\n      settings: {\r\n          visibility: 'Hidden',\r\n          allowReenrollment: true,\r\n          passingScore: 80,\r\n          autoIssueCertificate: true,\r\n          notifications: { onEnroll: true, onComplete: true }\r\n      }\r\n  });\r\n\r\n  // --- LESSONS STATE ---\r\n  const [lessons, setLessons] = useState<Lesson[]>([]);\r\n\r\n  // Load existing data if editing\r\n  useEffect(() => {\r\n      if (courseId) {\r\n          const course = mockDb.getCourse(courseId);\r\n          const courseLessons = mockDb.getLessons(courseId);\r\n          if (course) setCourseData(course);\r\n          if (courseLessons) setLessons(courseLessons);\r\n      }\r\n  }, [courseId]);\r\n\r\n  const handleSaveCourse = () => {\r\n      // Basic Validation\r\n      if (!courseData.title) {\r\n          alert('Course title is required.');\r\n          return;\r\n      }\r\n      \r\n      setIsSaving(true);\r\n      setTimeout(() => {\r\n          mockDb.adminSaveCourse(courseData, lessons);\r\n          setIsSaving(false);\r\n          onSave();\r\n      }, 1000);\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex flex-col h-full bg-white dark:bg-[#1a1625] rounded-xl shadow-xl overflow-hidden border border-gray-200 dark:border-white/5 animate-in fade-in slide-in-from-bottom-4 duration-300\">\r\n        \r\n        {/* HEADER */}\r\n        <div className=\"h-16 border-b border-gray-100 dark:border-white/5 flex items-center justify-between px-4 md:px-6 bg-gray-50/50 dark:bg-white/5 shrink-0\">\r\n            <h2 className=\"text-base md:text-lg font-bold text-gray-900 dark:text-white truncate pr-2\">\r\n                {courseId ? `Editing: ${courseData.title}` : 'Create New Course'}\r\n            </h2>\r\n            <div className=\"flex items-center gap-2 shrink-0\">\r\n                <Button variant=\"ghost\" size=\"sm\" onClick={(e) => { e.preventDefault(); onCancel(); }} className=\"hidden sm:flex\">\r\n                    <X size={16} /> Cancel\r\n                </Button>\r\n                <button onClick={(e) => { e.preventDefault(); onCancel(); }} className=\"sm:hidden p-2 text-gray-500 hover:bg-gray-100 rounded-lg\">\r\n                    <X size={20} />\r\n                </button>\r\n                <Button variant=\"primary\" size=\"sm\" onClick={handleSaveCourse} isLoading={isSaving}>\r\n                    <Save size={16} /> <span className=\"hidden sm:inline\">Save Course</span><span className=\"sm:hidden\">Save</span>\r\n                </Button>\r\n            </div>\r\n        </div>\r\n\r\n        {/* MAIN BODY */}\r\n        <div className=\"flex flex-col lg:flex-row flex-1 overflow-hidden\">\r\n            {/* Sidebar / Top Navigation */}\r\n            <div className=\"w-full lg:w-64 border-b lg:border-b-0 lg:border-r border-gray-100 dark:border-white/5 bg-gray-50 dark:bg-[#13111c] shrink-0\">\r\n                <EditorSidebar activeStep={activeStep} onChangeStep={setActiveStep} />\r\n            </div>\r\n\r\n            {/* Content Area */}\r\n            <div className=\"flex-1 overflow-y-auto custom-scrollbar p-4 md:p-8 bg-white dark:bg-[#1a1625]\">\r\n                {activeStep === 'info' && (\r\n                    <BasicInfoStep \r\n                        data={courseData} \r\n                        onChange={(d) => setCourseData(prev => ({...prev, ...d}))} \r\n                    />\r\n                )}\r\n                {activeStep === 'curriculum' && (\r\n                    <CurriculumStep \r\n                        lessons={lessons} \r\n                        setLessons={setLessons} \r\n                    />\r\n                )}\r\n                {activeStep === 'settings' && (\r\n                    <SettingsStep \r\n                        data={courseData}\r\n                        onChange={(d) => setCourseData(prev => ({...prev, ...d}))}\r\n                    />\r\n                )}\r\n            </div>\r\n        </div>\r\n    </div>\r\n  );\r\n};"],"names":[],"mappings":";;;;;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAAA;AACA;;;;;;;;;;;AAQO,MAAM,eAAe,CAAC,EAAE,QAAQ,EAAE,MAAM,EAAE,QAAQ,EAAqB;;IAC5E,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,yKAAQ,EAAqC;IACjF,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAC;IAEzC,uBAAuB;IACvB,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,yKAAQ,EAAkB;QAC1D,OAAO;QACP,aAAa;QACb,UAAU;QACV,UAAU;QACV,YAAY;QACZ,eAAe,EAAE;QACjB,cAAc;QACd,UAAU;YACN,YAAY;YACZ,mBAAmB;YACnB,cAAc;YACd,sBAAsB;YACtB,eAAe;gBAAE,UAAU;gBAAM,YAAY;YAAK;QACtD;IACJ;IAEA,wBAAwB;IACxB,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAW,EAAE;IAEnD,gCAAgC;IAChC,IAAA,0KAAS;kCAAC;YACN,IAAI,UAAU;gBACV,MAAM,SAAS,iJAAM,CAAC,SAAS,CAAC;gBAChC,MAAM,gBAAgB,iJAAM,CAAC,UAAU,CAAC;gBACxC,IAAI,QAAQ,cAAc;gBAC1B,IAAI,eAAe,WAAW;YAClC;QACJ;iCAAG;QAAC;KAAS;IAEb,MAAM,mBAAmB;QACrB,mBAAmB;QACnB,IAAI,CAAC,WAAW,KAAK,EAAE;YACnB,MAAM;YACN;QACJ;QAEA,YAAY;QACZ,WAAW;YACP,iJAAM,CAAC,eAAe,CAAC,YAAY;YACnC,YAAY;YACZ;QACJ,GAAG;IACP;IAEA,qBACE,6LAAC;QAAI,WAAU;;0BAGX,6LAAC;gBAAI,WAAU;;kCACX,6LAAC;wBAAG,WAAU;kCACT,WAAW,CAAC,SAAS,EAAE,WAAW,KAAK,EAAE,GAAG;;;;;;kCAEjD,6LAAC;wBAAI,WAAU;;0CACX,6LAAC,wIAAM;gCAAC,SAAQ;gCAAQ,MAAK;gCAAK,SAAS,CAAC;oCAAQ,EAAE,cAAc;oCAAI;gCAAY;gCAAG,WAAU;;kDAC7F,6LAAC,oMAAC;wCAAC,MAAM;;;;;;oCAAM;;;;;;;0CAEnB,6LAAC;gCAAO,SAAS,CAAC;oCAAQ,EAAE,cAAc;oCAAI;gCAAY;gCAAG,WAAU;0CACnE,cAAA,6LAAC,oMAAC;oCAAC,MAAM;;;;;;;;;;;0CAEb,6LAAC,wIAAM;gCAAC,SAAQ;gCAAU,MAAK;gCAAK,SAAS;gCAAkB,WAAW;;kDACtE,6LAAC,6MAAI;wCAAC,MAAM;;;;;;oCAAM;kDAAC,6LAAC;wCAAK,WAAU;kDAAmB;;;;;;kDAAkB,6LAAC;wCAAK,WAAU;kDAAY;;;;;;;;;;;;;;;;;;;;;;;;0BAMhH,6LAAC;gBAAI,WAAU;;kCAEX,6LAAC;wBAAI,WAAU;kCACX,cAAA,6LAAC,8KAAa;4BAAC,YAAY;4BAAY,cAAc;;;;;;;;;;;kCAIzD,6LAAC;wBAAI,WAAU;;4BACV,eAAe,wBACZ,6LAAC,8KAAa;gCACV,MAAM;gCACN,UAAU,CAAC,IAAM,cAAc,CAAA,OAAQ,CAAC;4CAAC,GAAG,IAAI;4CAAE,GAAG,CAAC;wCAAA,CAAC;;;;;;4BAG9D,eAAe,8BACZ,6LAAC,gLAAc;gCACX,SAAS;gCACT,YAAY;;;;;;4BAGnB,eAAe,4BACZ,6LAAC,4KAAY;gCACT,MAAM;gCACN,UAAU,CAAC,IAAM,cAAc,CAAA,OAAQ,CAAC;4CAAC,GAAG,IAAI;4CAAE,GAAG,CAAC;wCAAA,CAAC;;;;;;;;;;;;;;;;;;;;;;;;AAO/E;GAtGa;KAAA"}},
    {"offset": {"line": 2957, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Khesh/Desktop/Jambo-linguists/components/admin/content/LearnerDetailModal.tsx"],"sourcesContent":["\r\nimport React, { useState } from 'react';\r\nimport { Modal } from '../../ui/Modal';\r\nimport { User, CourseProgress, Course, QuizResult, EnrichedCourse } from '@/data/types';\r\nimport { mockDb } from '@/data/mockDatabase';\r\nimport { X, Calendar, Clock, CheckCircle, Award, Ban, FileText, BarChart2, Download, Loader2 } from 'lucide-react';\r\nimport { Badge } from '../../ui/Badge';\r\nimport { Button } from '../../ui/Button';\r\nimport { generateCertificatePDF } from '../../portal/dashboard/training/pdf/CertificateGenerator';\r\n\r\ninterface LearnerDetailModalProps {\r\n    learner: { progress: CourseProgress; user: Partial<User> };\r\n    course: Course;\r\n    onClose: () => void;\r\n    onUpdate: () => void;\r\n}\r\n\r\nexport const LearnerDetailModal = ({ learner, course, onClose, onUpdate }: LearnerDetailModalProps) => {\r\n    const [activeTab, setActiveTab] = useState<'timeline' | 'quizzes' | 'certificate'>('timeline');\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const [isGenerating, setIsGenerating] = useState(false);\r\n\r\n    const { progress, user } = learner;\r\n    const certificate = progress.certificateId ? mockDb.getCertificate(progress.certificateId) : null;\r\n\r\n    const handleIssueCertificate = () => {\r\n        if (!user.id) return;\r\n        setIsLoading(true);\r\n        setTimeout(() => {\r\n            mockDb.adminIssueCertificate(user.id!, course.id);\r\n            setIsLoading(false);\r\n            onUpdate();\r\n        }, 800);\r\n    };\r\n\r\n    const handleRevokeCertificate = () => {\r\n        if (!certificate) return;\r\n        if (!confirm(\"Are you sure you want to revoke this certificate?\")) return;\r\n        setIsLoading(true);\r\n        setTimeout(() => {\r\n            mockDb.adminRevokeCertificate(certificate.id);\r\n            setIsLoading(false);\r\n            onUpdate();\r\n        }, 800);\r\n    };\r\n\r\n    const handleDownloadCertificate = async () => {\r\n        if (isGenerating || !user.firstName || !user.lastName) return;\r\n        setIsGenerating(true);\r\n        try {\r\n            // Construct enriched course object expected by generator\r\n            const enrichedCourse: EnrichedCourse = {\r\n                ...course,\r\n                progress: progress\r\n            };\r\n            // Ensure full User object or sufficient partial\r\n            const targetUser = user as User; \r\n            await generateCertificatePDF(enrichedCourse, targetUser);\r\n        } catch (e) {\r\n            console.error(\"Failed to download\", e);\r\n        } finally {\r\n            setIsGenerating(false);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <Modal isOpen={true} onClose={onClose} size=\"3xl\">\r\n            <div className=\"flex flex-col h-[80vh] bg-white dark:bg-[#1a1625]\">\r\n                {/* Header */}\r\n                <div className=\"p-6 border-b border-gray-100 dark:border-white/5 bg-gray-50/50 dark:bg-white/5 flex justify-between items-start\">\r\n                    <div className=\"flex items-center gap-4\">\r\n                        <div className=\"w-16 h-16 rounded-full bg-jambo-100 dark:bg-jambo-900/30 text-jambo-700 flex items-center justify-center text-2xl font-bold border-2 border-white dark:border-white/10 shadow-sm overflow-hidden\">\r\n                            {user.avatarUrl ? <img src={user.avatarUrl} className=\"w-full h-full object-cover\"/> : user.firstName?.[0]}\r\n                        </div>\r\n                        <div>\r\n                            <h2 className=\"text-xl font-bold text-gray-900 dark:text-white\">{user.firstName} {user.lastName}</h2>\r\n                            <p className=\"text-sm text-gray-500\">{user.email}</p>\r\n                            <div className=\"flex items-center gap-2 mt-2\">\r\n                                <Badge variant={progress.status === 'Completed' ? 'success' : 'info'}>{progress.status}</Badge>\r\n                                <span className=\"text-xs text-gray-400\"></span>\r\n                                <span className=\"text-xs text-gray-500 font-medium\">{progress.progressPercent}% Complete</span>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <button onClick={onClose} className=\"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-white rounded-full hover:bg-gray-100 dark:hover:bg-white/10 transition-colors\">\r\n                        <X size={20} />\r\n                    </button>\r\n                </div>\r\n\r\n                {/* Tabs */}\r\n                <div className=\"flex border-b border-gray-200 dark:border-white/5 px-6\">\r\n                    <button \r\n                        onClick={() => setActiveTab('timeline')}\r\n                        className={`px-4 py-3 text-sm font-bold border-b-2 transition-colors flex items-center gap-2 ${activeTab === 'timeline' ? 'border-jambo-600 text-jambo-600 dark:text-white' : 'border-transparent text-gray-500 hover:text-gray-700 dark:text-gray-400'}`}\r\n                    >\r\n                        <Clock size={16} /> Timeline\r\n                    </button>\r\n                    <button \r\n                        onClick={() => setActiveTab('quizzes')}\r\n                        className={`px-4 py-3 text-sm font-bold border-b-2 transition-colors flex items-center gap-2 ${activeTab === 'quizzes' ? 'border-jambo-600 text-jambo-600 dark:text-white' : 'border-transparent text-gray-500 hover:text-gray-700 dark:text-gray-400'}`}\r\n                    >\r\n                        <BarChart2 size={16} /> Quiz Results\r\n                    </button>\r\n                    <button \r\n                        onClick={() => setActiveTab('certificate')}\r\n                        className={`px-4 py-3 text-sm font-bold border-b-2 transition-colors flex items-center gap-2 ${activeTab === 'certificate' ? 'border-jambo-600 text-jambo-600 dark:text-white' : 'border-transparent text-gray-500 hover:text-gray-700 dark:text-gray-400'}`}\r\n                    >\r\n                        <Award size={16} /> Certificate\r\n                    </button>\r\n                </div>\r\n\r\n                {/* Body */}\r\n                <div className=\"flex-1 overflow-y-auto custom-scrollbar p-6 bg-gray-50 dark:bg-black/10\">\r\n                    \r\n                    {activeTab === 'timeline' && (\r\n                        <div className=\"space-y-6\">\r\n                            <div className=\"grid grid-cols-2 gap-4 mb-4\">\r\n                                <div className=\"bg-white dark:bg-white/5 p-4 rounded-xl border border-gray-200 dark:border-white/10\">\r\n                                    <p className=\"text-xs font-bold text-gray-400 uppercase mb-1\">Enrolled</p>\r\n                                    <p className=\"font-medium text-gray-900 dark:text-white flex items-center gap-2\">\r\n                                        <Calendar size={14} className=\"text-jambo-600\" />\r\n                                        {new Date(progress.enrollmentDate).toLocaleString()}\r\n                                    </p>\r\n                                </div>\r\n                                <div className=\"bg-white dark:bg-white/5 p-4 rounded-xl border border-gray-200 dark:border-white/10\">\r\n                                    <p className=\"text-xs font-bold text-gray-400 uppercase mb-1\">Last Active</p>\r\n                                    <p className=\"font-medium text-gray-900 dark:text-white flex items-center gap-2\">\r\n                                        <Clock size={14} className=\"text-orange-500\" />\r\n                                        {progress.lastAccessedAt ? new Date(progress.lastAccessedAt).toLocaleString() : 'Never'}\r\n                                    </p>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div className=\"bg-white dark:bg-white/5 rounded-xl border border-gray-200 dark:border-white/10 p-6\">\r\n                                <h4 className=\"font-bold text-gray-900 dark:text-white mb-4\">Activity Log</h4>\r\n                                <div className=\"relative border-l-2 border-gray-100 dark:border-white/5 ml-3 space-y-6\">\r\n                                    {progress.history?.map((h, i) => (\r\n                                        <div key={i} className=\"relative pl-6\">\r\n                                            <div className=\"absolute -left-[5px] top-1.5 w-2.5 h-2.5 rounded-full bg-gray-300 dark:bg-gray-600 border-2 border-white dark:border-[#1a1625]\"></div>\r\n                                            <p className=\"text-sm font-medium text-gray-800 dark:text-gray-200\">{h.action}</p>\r\n                                            <p className=\"text-xs text-gray-400 mt-0.5\">{new Date(h.date).toLocaleString()}</p>\r\n                                        </div>\r\n                                    ))}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n\r\n                    {activeTab === 'quizzes' && (\r\n                        <div className=\"space-y-4\">\r\n                            {progress.quizResults && progress.quizResults.length > 0 ? (\r\n                                progress.quizResults.map((res, i) => (\r\n                                    <div key={i} className=\"bg-white dark:bg-white/5 p-4 rounded-xl border border-gray-200 dark:border-white/10 flex justify-between items-center\">\r\n                                        <div>\r\n                                            <h4 className=\"font-bold text-gray-900 dark:text-white text-sm\">Lesson Assessment</h4>\r\n                                            <p className=\"text-xs text-gray-500\">{new Date(res.date).toLocaleDateString()}</p>\r\n                                        </div>\r\n                                        <div className=\"text-right\">\r\n                                            <span className={`inline-block px-2 py-1 rounded text-xs font-bold mb-1 ${res.passed ? 'bg-green-100 text-green-700' : 'bg-red-100 text-red-700'}`}>\r\n                                                {res.passed ? 'Passed' : 'Failed'}\r\n                                            </span>\r\n                                            <p className=\"text-sm font-mono text-gray-700 dark:text-gray-300\">\r\n                                                {res.score} / {res.totalQuestions}\r\n                                            </p>\r\n                                        </div>\r\n                                    </div>\r\n                                ))\r\n                            ) : (\r\n                                <div className=\"text-center py-12 text-gray-400 bg-white dark:bg-white/5 rounded-xl border border-dashed border-gray-200 dark:border-white/10\">\r\n                                    No quiz data recorded.\r\n                                </div>\r\n                            )}\r\n                        </div>\r\n                    )}\r\n\r\n                    {activeTab === 'certificate' && (\r\n                        <div className=\"space-y-6\">\r\n                            {certificate ? (\r\n                                <div className=\"bg-white dark:bg-white/5 p-6 rounded-xl border border-gray-200 dark:border-white/10\">\r\n                                    <div className=\"flex items-center gap-4 mb-6\">\r\n                                        <div className={`p-3 rounded-full ${certificate.status === 'Active' ? 'bg-green-100 text-green-600' : 'bg-red-100 text-red-600'}`}>\r\n                                            <Award size={32} />\r\n                                        </div>\r\n                                        <div>\r\n                                            <h3 className=\"font-bold text-lg text-gray-900 dark:text-white\">\r\n                                                {certificate.status === 'Active' ? 'Certificate Issued' : 'Certificate Revoked'}\r\n                                            </h3>\r\n                                            <p className=\"text-sm text-gray-500 font-mono\">ID: {certificate.id}</p>\r\n                                        </div>\r\n                                        <div className=\"ml-auto\">\r\n                                            <Badge variant={certificate.status === 'Active' ? 'success' : 'danger'}>{certificate.status}</Badge>\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    <div className=\"grid grid-cols-2 gap-4 mb-6 text-sm\">\r\n                                        <div>\r\n                                            <span className=\"text-gray-400 block text-xs uppercase font-bold\">Issue Date</span>\r\n                                            <span className=\"font-medium dark:text-gray-200\">{new Date(certificate.issueDate).toLocaleDateString()}</span>\r\n                                        </div>\r\n                                        <div>\r\n                                            <span className=\"text-gray-400 block text-xs uppercase font-bold\">Verification Code</span>\r\n                                            <span className=\"font-mono text-xs dark:text-gray-200\">{certificate.verificationCode}</span>\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    {certificate.status === 'Active' && (\r\n                                        <div className=\"flex gap-3\">\r\n                                            <Button \r\n                                                variant=\"secondary\" \r\n                                                onClick={handleDownloadCertificate} \r\n                                                isLoading={isGenerating} \r\n                                                className=\"flex-1\"\r\n                                                leftIcon={<Download size={16} />}\r\n                                            >\r\n                                                Download PDF\r\n                                            </Button>\r\n                                            <Button \r\n                                                variant=\"danger\" \r\n                                                onClick={handleRevokeCertificate} \r\n                                                isLoading={isLoading} \r\n                                                className=\"flex-1\"\r\n                                                leftIcon={<Ban size={16} />}\r\n                                            >\r\n                                                Revoke\r\n                                            </Button>\r\n                                        </div>\r\n                                    )}\r\n                                </div>\r\n                            ) : (\r\n                                <div className=\"text-center py-12 bg-white dark:bg-white/5 rounded-xl border border-dashed border-gray-200 dark:border-white/10\">\r\n                                    <Award size={48} className=\"mx-auto text-gray-300 mb-4\" />\r\n                                    <h3 className=\"font-bold text-gray-900 dark:text-white mb-2\">No Certificate Issued</h3>\r\n                                    <p className=\"text-sm text-gray-500 mb-6\">The learner has not yet received a certificate for this course.</p>\r\n                                    \r\n                                    <Button onClick={handleIssueCertificate} isLoading={isLoading} disabled={progress.status !== 'Completed'}>\r\n                                        <CheckCircle size={16} /> Issue Certificate Manually\r\n                                    </Button>\r\n                                    {progress.status !== 'Completed' && (\r\n                                        <p className=\"text-xs text-orange-500 mt-2\">User must complete the course first.</p>\r\n                                    )}\r\n                                </div>\r\n                            )}\r\n                        </div>\r\n                    )}\r\n\r\n                </div>\r\n            </div>\r\n        </Modal>\r\n    );\r\n};\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3705, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Khesh/Desktop/Jambo-linguists/components/admin/content/CourseAdminView.tsx"],"sourcesContent":["\r\n\r\n\r\n\r\n\r\n\r\nimport React, { useState, useMemo } from 'react';\r\nimport { mockDb, User, CourseProgress } from '@/data/mockDatabase';\r\nimport { ChevronLeft, Edit2, Users, CheckCircle, Clock, BarChart3, Search, PlayCircle, FileText, HelpCircle, LayoutTemplate, X, Calendar } from 'lucide-react';\r\nimport { Button } from '../../ui/Button';\r\nimport { StatCard } from '../../ui/StatCard';\r\nimport { Table, TableHeader, TableBody, TableRow, TableHead, TableCell } from '../../ui/Table';\r\nimport { Badge } from '../../ui/Badge';\r\nimport { Input } from '../../ui/Input';\r\nimport { LearnerDetailModal } from './LearnerDetailModal';\r\n\r\ninterface CourseAdminViewProps {\r\n  courseId: string;\r\n  onBack: () => void;\r\n  onEdit: () => void;\r\n}\r\n\r\nexport const CourseAdminView = ({ courseId, onBack, onEdit }: CourseAdminViewProps) => {\r\n  const [activeTab, setActiveTab] = useState<'learners' | 'curriculum'>('learners');\r\n  const [learnerSearch, setLearnerSearch] = useState('');\r\n  const [selectedLearner, setSelectedLearner] = useState<{ progress: CourseProgress, user: Partial<User> } | null>(null);\r\n  \r\n  // Use state to force re-render on data updates\r\n  const [refreshKey, setRefreshKey] = useState(0);\r\n\r\n  const course = mockDb.getCourse(courseId);\r\n  const lessons = mockDb.getLessons(courseId);\r\n  const allUsers = mockDb.getAllUsers();\r\n  \r\n  // Get real progress data from DB\r\n  const courseProgress = useMemo(() => mockDb.getCourseProgress(courseId), [courseId, refreshKey]);\r\n\r\n  // Calculate Stats\r\n  const totalEnrolled = courseProgress.length;\r\n  const activeLearners = courseProgress.filter(p => p.status === 'In Progress').length;\r\n  const completedLearners = courseProgress.filter(p => p.status === 'Completed').length;\r\n  const completionRate = totalEnrolled > 0 ? Math.round((completedLearners / totalEnrolled) * 100) : 0;\r\n\r\n  // Enrich progress with User details\r\n  const learners = useMemo(() => {\r\n      return courseProgress.map(p => {\r\n          const user = allUsers.find(u => u.id === p.userId);\r\n          return {\r\n              progress: p,\r\n              user: user || { id: p.userId, firstName: 'Unknown', lastName: 'User', email: 'N/A', avatarUrl: null } as Partial<User>\r\n          };\r\n      }).filter(l => \r\n          `${l.user.firstName} ${l.user.lastName}`.toLowerCase().includes(learnerSearch.toLowerCase()) ||\r\n          (l.user.email && l.user.email.toLowerCase().includes(learnerSearch.toLowerCase()))\r\n      );\r\n  }, [courseProgress, allUsers, learnerSearch]);\r\n\r\n  const getLessonIcon = (type: string) => {\r\n      switch(type) {\r\n          case 'Video': return PlayCircle;\r\n          case 'Document': return FileText;\r\n          case 'Slide': return LayoutTemplate;\r\n          case 'Quiz': return HelpCircle;\r\n          default: return FileText;\r\n      }\r\n  };\r\n\r\n  const refreshData = () => {\r\n      setRefreshKey(prev => prev + 1);\r\n      // If modal is open, refresh selected learner data\r\n      if (selectedLearner) {\r\n          const updatedProgress = mockDb.getCourseProgress(courseId).find(p => p.userId === selectedLearner.user.id);\r\n          if (updatedProgress) {\r\n              setSelectedLearner({ ...selectedLearner, progress: updatedProgress });\r\n          }\r\n      }\r\n  };\r\n\r\n  if (!course) return <div>Course not found</div>;\r\n\r\n  return (\r\n    <div className=\"space-y-6 animate-in fade-in slide-in-from-right-4 duration-300\">\r\n        \r\n        {/* Header */}\r\n        <div className=\"flex flex-col md:flex-row md:items-center justify-between gap-4 border-b border-gray-200 dark:border-white/10 pb-6\">\r\n            <div className=\"flex items-center gap-4\">\r\n                <button \r\n                    onClick={onBack}\r\n                    className=\"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-white/10 text-gray-500 dark:text-gray-400 transition-colors\"\r\n                >\r\n                    <ChevronLeft size={24} />\r\n                </button>\r\n                <div>\r\n                    <div className=\"flex items-center gap-3 mb-1\">\r\n                        <Badge variant=\"brand\">{course.category}</Badge>\r\n                        {totalEnrolled === 0 && <span className=\"text-xs text-gray-400 italic\">Draft / No Enrollments</span>}\r\n                    </div>\r\n                    <h2 className=\"text-2xl font-serif font-bold text-gray-900 dark:text-white\">{course.title}</h2>\r\n                </div>\r\n            </div>\r\n            <div className=\"flex items-center gap-3\">\r\n                <Button variant=\"secondary\" onClick={onEdit}>\r\n                    <Edit2 size={16} /> Edit Content\r\n                </Button>\r\n            </div>\r\n        </div>\r\n\r\n        {/* Stats Row */}\r\n        <div className=\"grid grid-cols-2 lg:grid-cols-4 gap-4\">\r\n            <StatCard \r\n                title=\"Total Enrolled\"\r\n                value={totalEnrolled.toString()}\r\n                subtext=\"Linguists\"\r\n                icon={Users}\r\n                variant=\"brand\"\r\n            />\r\n            <StatCard \r\n                title=\"Active Learners\"\r\n                value={activeLearners.toString()}\r\n                subtext=\"In Progress\"\r\n                icon={Clock}\r\n                variant=\"info\"\r\n            />\r\n            <StatCard \r\n                title=\"Completion Rate\"\r\n                value={`${completionRate}%`}\r\n                subtext={`${completedLearners} certificates issued`}\r\n                icon={CheckCircle}\r\n                variant=\"success\"\r\n            />\r\n            <StatCard \r\n                title=\"Content Volume\"\r\n                value={lessons.length.toString()}\r\n                subtext={`Lessons (${course.duration})`}\r\n                icon={BarChart3}\r\n                variant=\"neutral\"\r\n            />\r\n        </div>\r\n\r\n        {/* Tabs */}\r\n        <div className=\"bg-white dark:bg-[#13111c] rounded-xl border border-gray-200 dark:border-white/5 shadow-sm overflow-hidden\">\r\n            <div className=\"border-b border-gray-200 dark:border-white/5 flex\">\r\n                <button \r\n                    onClick={() => setActiveTab('learners')}\r\n                    className={`px-6 py-4 text-sm font-bold border-b-2 transition-colors flex items-center gap-2 ${activeTab === 'learners' ? 'border-jambo-600 text-jambo-600 dark:text-white' : 'border-transparent text-gray-500 hover:text-gray-700 dark:text-gray-400'}`}\r\n                >\r\n                    <Users size={16} /> Learners\r\n                </button>\r\n                <button \r\n                    onClick={() => setActiveTab('curriculum')}\r\n                    className={`px-6 py-4 text-sm font-bold border-b-2 transition-colors flex items-center gap-2 ${activeTab === 'curriculum' ? 'border-jambo-600 text-jambo-600 dark:text-white' : 'border-transparent text-gray-500 hover:text-gray-700 dark:text-gray-400'}`}\r\n                >\r\n                    <FileText size={16} /> Curriculum Preview\r\n                </button>\r\n            </div>\r\n\r\n            <div className=\"p-6\">\r\n                {activeTab === 'learners' && (\r\n                    <div className=\"space-y-4 animate-in fade-in duration-300\">\r\n                        <div className=\"max-w-md\">\r\n                            <Input \r\n                                leftIcon={<Search size={16}/>} \r\n                                placeholder=\"Search learners...\" \r\n                                value={learnerSearch}\r\n                                onChange={(e) => setLearnerSearch(e.target.value)}\r\n                            />\r\n                        </div>\r\n\r\n                        <div className=\"rounded-lg border border-gray-200 dark:border-white/10 overflow-hidden\">\r\n                            <Table>\r\n                                <TableHeader>\r\n                                    <TableRow>\r\n                                        <TableHead>Linguist</TableHead>\r\n                                        <TableHead>Status</TableHead>\r\n                                        <TableHead>Progress</TableHead>\r\n                                        <TableHead>Last Accessed</TableHead>\r\n                                    </TableRow>\r\n                                </TableHeader>\r\n                                <TableBody>\r\n                                    {learners.length === 0 ? (\r\n                                        <TableRow>\r\n                                            <TableCell className=\"text-center py-8 text-gray-500\">No learners found.</TableCell>\r\n                                            <TableCell />\r\n                                            <TableCell />\r\n                                            <TableCell />\r\n                                        </TableRow>\r\n                                    ) : (\r\n                                        learners.map(l => (\r\n                                            <TableRow key={l.progress.userId} onClick={() => setSelectedLearner(l)} className=\"cursor-pointer\">\r\n                                                <TableCell>\r\n                                                    <div className=\"flex items-center gap-3\">\r\n                                                        <div className=\"w-8 h-8 rounded-full bg-gray-100 dark:bg-white/10 flex items-center justify-center text-xs font-bold text-gray-600 dark:text-gray-300 overflow-hidden\">\r\n                                                            {l.user.avatarUrl ? <img src={l.user.avatarUrl} className=\"w-full h-full object-cover\" /> : l.user.firstName?.[0]}\r\n                                                        </div>\r\n                                                        <div>\r\n                                                            <div className=\"font-bold text-gray-900 dark:text-white text-sm\">{l.user.firstName} {l.user.lastName}</div>\r\n                                                            <div className=\"text-xs text-gray-500\">{l.user.email}</div>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </TableCell>\r\n                                                <TableCell>\r\n                                                    <Badge variant={l.progress.status === 'Completed' ? 'success' : 'info'}>{l.progress.status}</Badge>\r\n                                                </TableCell>\r\n                                                <TableCell>\r\n                                                    <div className=\"w-32\">\r\n                                                        <div className=\"flex justify-between text-[10px] font-bold text-gray-500 mb-1\">\r\n                                                            <span>{l.progress.progressPercent}%</span>\r\n                                                        </div>\r\n                                                        <div className=\"h-1.5 w-full bg-gray-100 dark:bg-white/10 rounded-full overflow-hidden\">\r\n                                                            <div className=\"h-full bg-green-500 rounded-full\" style={{ width: `${l.progress.progressPercent}%` }}></div>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </TableCell>\r\n                                                <TableCell className=\"text-gray-500 text-sm\">\r\n                                                    {l.progress.lastAccessedAt ? new Date(l.progress.lastAccessedAt).toLocaleDateString() : 'Never'}\r\n                                                </TableCell>\r\n                                            </TableRow>\r\n                                        ))\r\n                                    )}\r\n                                </TableBody>\r\n                            </Table>\r\n                        </div>\r\n                    </div>\r\n                )}\r\n\r\n                {activeTab === 'curriculum' && (\r\n                    <div className=\"space-y-3 animate-in fade-in duration-300 max-w-3xl\">\r\n                        {lessons.length === 0 ? (\r\n                            <p className=\"text-gray-500 italic\">No lessons added to this course yet.</p>\r\n                        ) : (\r\n                            lessons.map((lesson, idx) => {\r\n                                const Icon = getLessonIcon(lesson.type);\r\n                                return (\r\n                                    <div key={lesson.id} className=\"flex items-center gap-4 p-4 rounded-lg bg-gray-50 dark:bg-white/5 border border-gray-100 dark:border-white/5\">\r\n                                        <div className=\"text-gray-400 font-mono text-sm w-6\">{idx + 1}</div>\r\n                                        <div className={`p-2 rounded-lg ${lesson.type === 'Quiz' ? 'bg-orange-100 text-orange-600' : 'bg-blue-100 text-blue-600'}`}>\r\n                                            <Icon size={18} />\r\n                                        </div>\r\n                                        <div className=\"flex-1\">\r\n                                            <h4 className=\"font-bold text-gray-900 dark:text-white text-sm\">{lesson.title}</h4>\r\n                                            <div className=\"flex items-center gap-3 text-xs text-gray-500 mt-0.5\">\r\n                                                <span className=\"uppercase tracking-wider\">{lesson.type}</span>\r\n                                                <span></span>\r\n                                                <span>{lesson.duration}</span>\r\n                                                {lesson.module && (\r\n                                                    <>\r\n                                                        <span></span>\r\n                                                        <span className=\"bg-gray-200 dark:bg-white/10 px-1.5 rounded text-[10px]\">{lesson.module}</span>\r\n                                                    </>\r\n                                                )}\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                );\r\n                            })\r\n                        )}\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </div>\r\n\r\n        {/* Detailed Learner Modal */}\r\n        {selectedLearner && (\r\n            <LearnerDetailModal \r\n                learner={selectedLearner}\r\n                course={course}\r\n                onClose={() => setSelectedLearner(null)}\r\n                onUpdate={refreshData}\r\n            />\r\n        )}\r\n    </div>\r\n  );\r\n};"],"names":[],"mappings":"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"}},
    {"offset": {"line": 4449, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Khesh/Desktop/Jambo-linguists/components/admin/content/AdminContent.tsx"],"sourcesContent":["\r\nimport React, { useState } from 'react';\r\nimport { CourseList } from './CourseList';\r\nimport { CourseEditor } from './CourseEditor';\r\nimport { CourseAdminView } from './CourseAdminView'; // New Component\r\nimport { mockDb } from '@/data/mockDatabase';\r\n\r\nexport const AdminContent = () => {\r\n  const [view, setView] = useState<'list' | 'editor' | 'details'>('list');\r\n  const [selectedCourseId, setSelectedCourseId] = useState<string | null>(null);\r\n  const [refreshTrigger, setRefreshTrigger] = useState(0);\r\n\r\n  const handleCreateNew = () => {\r\n    setSelectedCourseId(null);\r\n    setView('editor');\r\n  };\r\n\r\n  const handleViewDetails = (courseId: string) => {\r\n    setSelectedCourseId(courseId);\r\n    setView('details');\r\n  };\r\n\r\n  const handleEdit = (courseId: string) => {\r\n    setSelectedCourseId(courseId);\r\n    setView('editor');\r\n  };\r\n\r\n  const handleSave = () => {\r\n    // If we were creating new, we might want to go to list or details. \r\n    // For now, let's go to list if it was a new course, or keep it simple.\r\n    if (!selectedCourseId) {\r\n        setView('list');\r\n    } else {\r\n        setView('details');\r\n    }\r\n    setRefreshTrigger(prev => prev + 1);\r\n  };\r\n\r\n  const handleCancelEditor = () => {\r\n    // Directly close the editor without confirmation\r\n    // This satisfies the requirement to just \"close the modal\"\r\n    if (selectedCourseId) {\r\n        setView('details');\r\n    } else {\r\n        setView('list');\r\n    }\r\n  };\r\n\r\n  const handleDelete = (courseId: string) => {\r\n      mockDb.adminDeleteCourse(courseId);\r\n      setRefreshTrigger(prev => prev + 1); // Force re-render of list\r\n      setView('list'); \r\n  };\r\n\r\n  return (\r\n    <div className=\"h-full flex flex-col\" key={refreshTrigger}>\r\n        {view === 'list' && (\r\n            <CourseList \r\n                onCreate={handleCreateNew} \r\n                onView={handleViewDetails}\r\n                onDelete={handleDelete}\r\n            />\r\n        )}\r\n\r\n        {view === 'details' && selectedCourseId && (\r\n            <CourseAdminView\r\n                courseId={selectedCourseId}\r\n                onBack={() => setView('list')}\r\n                onEdit={() => handleEdit(selectedCourseId)}\r\n            />\r\n        )}\r\n\r\n        {view === 'editor' && (\r\n            <CourseEditor \r\n                courseId={selectedCourseId} \r\n                onSave={handleSave} \r\n                onCancel={handleCancelEditor} \r\n            />\r\n        )}\r\n    </div>\r\n  );\r\n};\r\n"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AACA,yQAAqD,gBAAgB;AACrE;;;;;;;;AAEO,MAAM,eAAe;;IAC1B,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,yKAAQ,EAAgC;IAChE,MAAM,CAAC,kBAAkB,oBAAoB,GAAG,IAAA,yKAAQ,EAAgB;IACxE,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,IAAA,yKAAQ,EAAC;IAErD,MAAM,kBAAkB;QACtB,oBAAoB;QACpB,QAAQ;IACV;IAEA,MAAM,oBAAoB,CAAC;QACzB,oBAAoB;QACpB,QAAQ;IACV;IAEA,MAAM,aAAa,CAAC;QAClB,oBAAoB;QACpB,QAAQ;IACV;IAEA,MAAM,aAAa;QACjB,oEAAoE;QACpE,uEAAuE;QACvE,IAAI,CAAC,kBAAkB;YACnB,QAAQ;QACZ,OAAO;YACH,QAAQ;QACZ;QACA,kBAAkB,CAAA,OAAQ,OAAO;IACnC;IAEA,MAAM,qBAAqB;QACzB,iDAAiD;QACjD,2DAA2D;QAC3D,IAAI,kBAAkB;YAClB,QAAQ;QACZ,OAAO;YACH,QAAQ;QACZ;IACF;IAEA,MAAM,eAAe,CAAC;QAClB,iJAAM,CAAC,iBAAiB,CAAC;QACzB,kBAAkB,CAAA,OAAQ,OAAO,IAAI,0BAA0B;QAC/D,QAAQ;IACZ;IAEA,qBACE,6LAAC;QAAI,WAAU;;YACV,SAAS,wBACN,6LAAC,8JAAU;gBACP,UAAU;gBACV,QAAQ;gBACR,UAAU;;;;;;YAIjB,SAAS,aAAa,kCACnB,6LAAC,wKAAe;gBACZ,UAAU;gBACV,QAAQ,IAAM,QAAQ;gBACtB,QAAQ,IAAM,WAAW;;;;;;YAIhC,SAAS,0BACN,6LAAC,kKAAY;gBACT,UAAU;gBACV,QAAQ;gBACR,UAAU;;;;;;;OArBqB;;;;;AA0B/C;GA1Ea;KAAA"}}]
}