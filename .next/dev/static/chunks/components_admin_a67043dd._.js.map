{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Khesh/Desktop/Jambo-linguists/components/admin/users/modal/StatusBanners.tsx"],"sourcesContent":["\r\nimport React from 'react';\r\nimport { Shield, Ban } from 'lucide-react';\r\nimport { User } from '@/data/types';\r\n\r\nexport const StatusBanners = ({ user }: { user: User }) => {\r\n  return (\r\n    <div className=\"space-y-4 mb-8\">\r\n        {!user.isVerified && !user.isSuspended && (\r\n            <div className=\"bg-orange-50 dark:bg-orange-900/20 border border-orange-200 dark:border-orange-800 p-4 rounded-xl flex gap-4 text-orange-800 dark:text-orange-200 animate-in slide-in-from-top-2\">\r\n                <div className=\"bg-orange-100 dark:bg-orange-900/40 p-2 rounded-lg h-fit\">\r\n                    <Shield size={20} className=\"shrink-0\" />\r\n                </div>\r\n                <div>\r\n                    <h4 className=\"font-bold text-sm\">Verification Pending</h4>\r\n                    <p className=\"text-xs opacity-90 mt-1 leading-relaxed\">This user needs admin approval before they can accept assignments. Review their documents and details below.</p>\r\n                </div>\r\n            </div>\r\n        )}\r\n\r\n        {user.isSuspended && (\r\n            <div className=\"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 p-4 rounded-xl flex gap-4 text-red-800 dark:text-red-200 animate-in slide-in-from-top-2\">\r\n                <div className=\"bg-red-100 dark:bg-red-900/40 p-2 rounded-lg h-fit\">\r\n                    <Ban size={20} className=\"shrink-0\" />\r\n                </div>\r\n                <div>\r\n                    <h4 className=\"font-bold text-sm\">Account Suspended</h4>\r\n                    <p className=\"text-xs opacity-90 mt-1 leading-relaxed\">Access to the portal has been revoked for this user. Reactivate to restore access.</p>\r\n                </div>\r\n            </div>\r\n        )}\r\n    </div>\r\n  );\r\n};\r\n"],"names":[],"mappings":";;;;;AAEA;AAAA;;;AAGO,MAAM,gBAAgB,CAAC,EAAE,IAAI,EAAkB;IACpD,qBACE,6LAAC;QAAI,WAAU;;YACV,CAAC,KAAK,UAAU,IAAI,CAAC,KAAK,WAAW,kBAClC,6LAAC;gBAAI,WAAU;;kCACX,6LAAC;wBAAI,WAAU;kCACX,cAAA,6LAAC,mNAAM;4BAAC,MAAM;4BAAI,WAAU;;;;;;;;;;;kCAEhC,6LAAC;;0CACG,6LAAC;gCAAG,WAAU;0CAAoB;;;;;;0CAClC,6LAAC;gCAAE,WAAU;0CAA0C;;;;;;;;;;;;;;;;;;YAKlE,KAAK,WAAW,kBACb,6LAAC;gBAAI,WAAU;;kCACX,6LAAC;wBAAI,WAAU;kCACX,cAAA,6LAAC,0MAAG;4BAAC,MAAM;4BAAI,WAAU;;;;;;;;;;;kCAE7B,6LAAC;;0CACG,6LAAC;gCAAG,WAAU;0CAAoB;;;;;;0CAClC,6LAAC;gCAAE,WAAU;0CAA0C;;;;;;;;;;;;;;;;;;;;;;;;AAM3E;KA5Ba"}},
    {"offset": {"line": 130, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Khesh/Desktop/Jambo-linguists/components/admin/users/modal/ModalHeader.tsx"],"sourcesContent":["\r\nimport React, { useMemo } from 'react';\r\nimport { Edit2, Save, Loader2 } from 'lucide-react';\r\nimport { User } from '@/data/types';\r\n\r\ninterface ModalHeaderProps {\r\n  user: User;\r\n  isEditing: boolean;\r\n  setIsEditing: (editing: boolean) => void;\r\n  onSave: () => void;\r\n  onCancel: () => void;\r\n  processing: boolean;\r\n}\r\n\r\nconst FALLBACK_COVERS = [\r\n    \"https://images.unsplash.com/photo-1497366216548-37526070297c?auto=format&fit=crop&q=80&w=1200\", // Corporate Office\r\n    \"https://images.unsplash.com/photo-1557683316-973673baf926?auto=format&fit=crop&q=80&w=1200\", // Abstract Gradient\r\n    \"https://images.unsplash.com/photo-1451187580459-43490279c0fa?auto=format&fit=crop&q=80&w=1200\", // Tech Globe\r\n    \"https://images.unsplash.com/photo-1522071820081-009f0129c71c?auto=format&fit=crop&q=80&w=1200\", // Team Collaboration\r\n];\r\n\r\nexport const ModalHeader = ({ user, isEditing, setIsEditing, onSave, onCancel, processing }: ModalHeaderProps) => {\r\n  \r\n  // Use user's specific header or pick a deterministic fallback based on ID\r\n  const coverImage = useMemo(() => {\r\n      if (user.headerUrl) return user.headerUrl;\r\n      const charCodeSum = user.id.split('').reduce((acc, char) => acc + char.charCodeAt(0), 0);\r\n      return FALLBACK_COVERS[charCodeSum % FALLBACK_COVERS.length];\r\n  }, [user.id, user.headerUrl]);\r\n\r\n  return (\r\n    <div className=\"h-40 relative shrink-0 overflow-hidden bg-gray-900\">\r\n        {/* Background Image */}\r\n        <img \r\n            src={coverImage} \r\n            alt=\"Profile Cover\" \r\n            className=\"w-full h-full object-cover opacity-80\"\r\n        />\r\n        <div className=\"absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-transparent\"></div>\r\n\r\n        {/* Edit Actions */}\r\n        <div className=\"absolute bottom-4 right-4 flex gap-2 z-20\">\r\n            {!isEditing ? (\r\n                <button \r\n                    onClick={() => setIsEditing(true)}\r\n                    className=\"bg-white/20 hover:bg-white/30 backdrop-blur-md text-white px-4 py-2 rounded-lg text-xs font-bold flex items-center gap-2 transition-colors border border-white/20 shadow-lg\"\r\n                >\r\n                    <Edit2 size={14} /> Edit Profile\r\n                </button>\r\n            ) : (\r\n                <div className=\"flex gap-2\">\r\n                    <button \r\n                        onClick={onCancel}\r\n                        className=\"bg-black/40 hover:bg-black/50 backdrop-blur-md text-white px-4 py-2 rounded-lg text-xs font-bold transition-colors border border-white/10\"\r\n                    >\r\n                        Cancel\r\n                    </button>\r\n                    <button \r\n                        onClick={onSave}\r\n                        disabled={processing}\r\n                        className=\"bg-jambo-600 hover:bg-jambo-700 text-white px-5 py-2 rounded-lg text-xs font-bold flex items-center gap-2 transition-colors shadow-lg border border-transparent\"\r\n                    >\r\n                        {processing ? <Loader2 size={14} className=\"animate-spin\" /> : <Save size={14} />} Save Changes\r\n                    </button>\r\n                </div>\r\n            )}\r\n        </div>\r\n    </div>\r\n  );\r\n};\r\n"],"names":[],"mappings":";;;;;AACA;AACA;AAAA;AAAA;;;;;AAYA,MAAM,kBAAkB;IACpB;IACA;IACA;IACA;CACH;AAEM,MAAM,cAAc,CAAC,EAAE,IAAI,EAAE,SAAS,EAAE,YAAY,EAAE,MAAM,EAAE,QAAQ,EAAE,UAAU,EAAoB;;IAE3G,0EAA0E;IAC1E,MAAM,aAAa,IAAA,wKAAO;2CAAC;YACvB,IAAI,KAAK,SAAS,EAAE,OAAO,KAAK,SAAS;YACzC,MAAM,cAAc,KAAK,EAAE,CAAC,KAAK,CAAC,IAAI,MAAM;+DAAC,CAAC,KAAK,OAAS,MAAM,KAAK,UAAU,CAAC;8DAAI;YACtF,OAAO,eAAe,CAAC,cAAc,gBAAgB,MAAM,CAAC;QAChE;0CAAG;QAAC,KAAK,EAAE;QAAE,KAAK,SAAS;KAAC;IAE5B,qBACE,6LAAC;QAAI,WAAU;;0BAEX,6LAAC;gBACG,KAAK;gBACL,KAAI;gBACJ,WAAU;;;;;;0BAEd,6LAAC;gBAAI,WAAU;;;;;;0BAGf,6LAAC;gBAAI,WAAU;0BACV,CAAC,0BACE,6LAAC;oBACG,SAAS,IAAM,aAAa;oBAC5B,WAAU;;sCAEV,6LAAC,8MAAK;4BAAC,MAAM;;;;;;wBAAM;;;;;;6EAGvB,6LAAC;oBAAI,WAAU;;sCACX,6LAAC;4BACG,SAAS;4BACT,WAAU;sCACb;;;;;;sCAGD,6LAAC;4BACG,SAAS;4BACT,UAAU;4BACV,WAAU;;gCAET,2BAAa,6LAAC,+NAAO;oCAAC,MAAM;oCAAI,WAAU;;;;;6FAAoB,6LAAC,6MAAI;oCAAC,MAAM;;;;;;gCAAO;;;;;;;;;;;;;;;;;;;;;;;;AAO1G;GAhDa;KAAA"}},
    {"offset": {"line": 269, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Khesh/Desktop/Jambo-linguists/components/admin/users/modal/IdentitySection.tsx"],"sourcesContent":["\r\nimport React from 'react';\r\nimport { CheckCircle } from 'lucide-react';\r\nimport { User } from '@/data/types';\r\n\r\ninterface IdentitySectionProps {\r\n  user: User;\r\n  isEditing: boolean;\r\n  formData: any;\r\n  setFormData: (data: any) => void;\r\n}\r\n\r\nexport const IdentitySection = ({ user, isEditing, formData, setFormData }: IdentitySectionProps) => {\r\n  const roleColor = {\r\n      linguist: 'bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300 border-blue-200 dark:border-blue-800',\r\n      admin: 'bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-300 border-purple-200 dark:border-purple-800',\r\n      client: 'bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-300 border-green-200 dark:border-green-800'\r\n  }[user.role as keyof typeof roleColor] || 'bg-gray-100 text-gray-700 border-gray-200';\r\n\r\n  return (\r\n    <div className=\"flex flex-col sm:flex-row gap-6 items-start sm:items-end mb-8 relative z-10\">\r\n        {/* Avatar with heavy border to overlap header */}\r\n        <div className=\"-mt-12 sm:-mt-16 w-24 h-24 sm:w-32 sm:h-32 rounded-full border-[6px] border-white dark:border-[#1a1625] bg-gray-200 dark:bg-white/10 flex items-center justify-center text-3xl sm:text-4xl font-bold text-gray-500 overflow-hidden shadow-xl shrink-0\">\r\n            {user.avatarUrl ? <img src={user.avatarUrl} className=\"w-full h-full object-cover\" alt=\"Avatar\"/> : user.firstName[0]}\r\n        </div>\r\n        \r\n        <div className=\"flex-1 pb-1 w-full\">\r\n            {isEditing ? (\r\n                <div className=\"space-y-3 mb-2 animate-in fade-in slide-in-from-left-2 duration-300\">\r\n                    <div className=\"flex gap-3\">\r\n                        <div className=\"flex-1\">\r\n                            <label className=\"text-[10px] font-bold uppercase text-gray-400 mb-1 block\">First Name</label>\r\n                            <input \r\n                                className=\"w-full bg-gray-50 dark:bg-white/5 border border-gray-200 dark:border-white/10 rounded-lg px-3 py-2 text-sm font-bold text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-jambo-600 transition-all\"\r\n                                value={formData.firstName}\r\n                                onChange={e => setFormData({...formData, firstName: e.target.value})}\r\n                                placeholder=\"First Name\"\r\n                            />\r\n                        </div>\r\n                        <div className=\"flex-1\">\r\n                            <label className=\"text-[10px] font-bold uppercase text-gray-400 mb-1 block\">Last Name</label>\r\n                            <input \r\n                                className=\"w-full bg-gray-50 dark:bg-white/5 border border-gray-200 dark:border-white/10 rounded-lg px-3 py-2 text-sm font-bold text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-jambo-600 transition-all\"\r\n                                value={formData.lastName}\r\n                                onChange={e => setFormData({...formData, lastName: e.target.value})}\r\n                                placeholder=\"Last Name\"\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                    <div>\r\n                        <label className=\"text-[10px] font-bold uppercase text-gray-400 mb-1 block\">Headline</label>\r\n                        <input \r\n                            className=\"w-full bg-gray-50 dark:bg-white/5 border border-gray-200 dark:border-white/10 rounded-lg px-3 py-2 text-xs text-gray-700 dark:text-white focus:outline-none focus:ring-2 focus:ring-jambo-600 transition-all\"\r\n                            value={formData.headline}\r\n                            onChange={e => setFormData({...formData, headline: e.target.value})}\r\n                            placeholder=\"Professional Headline\"\r\n                        />\r\n                    </div>\r\n                </div>\r\n            ) : (\r\n                <>\r\n                    <div className=\"flex flex-wrap items-center gap-3 mb-1\">\r\n                        <h2 className=\"text-2xl sm:text-3xl font-bold text-gray-900 dark:text-white leading-tight\">{user.firstName} {user.lastName}</h2>\r\n                        <span className={`px-2.5 py-0.5 rounded-full text-[10px] sm:text-xs font-bold uppercase tracking-wider border ${roleColor}`}>\r\n                            {user.role}\r\n                        </span>\r\n                        {user.isVerified && (\r\n                            <div className=\"text-green-500 bg-green-50 dark:bg-green-900/20 rounded-full p-1\" title=\"Verified Account\">\r\n                                <CheckCircle size={16} className=\"fill-current\" />\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                    <p className=\"text-gray-500 dark:text-gray-400 text-sm font-medium\">{user.headline || 'No headline set'}</p>\r\n                </>\r\n            )}\r\n        </div>\r\n    </div>\r\n  );\r\n};\r\n"],"names":[],"mappings":";;;;;AAEA;;;AAUO,MAAM,kBAAkB,CAAC,EAAE,IAAI,EAAE,SAAS,EAAE,QAAQ,EAAE,WAAW,EAAwB;IAC9F,MAAM,YAAY;QACd,UAAU;QACV,OAAO;QACP,QAAQ;IACZ,CAAC,CAAC,KAAK,IAAI,CAA2B,IAAI;IAE1C,qBACE,6LAAC;QAAI,WAAU;;0BAEX,6LAAC;gBAAI,WAAU;0BACV,KAAK,SAAS,iBAAG,6LAAC;oBAAI,KAAK,KAAK,SAAS;oBAAE,WAAU;oBAA6B,KAAI;;;;;+DAAa,KAAK,SAAS,CAAC,EAAE;;;;;;0BAGzH,6LAAC;gBAAI,WAAU;0BACV,0BACG,6LAAC;oBAAI,WAAU;;sCACX,6LAAC;4BAAI,WAAU;;8CACX,6LAAC;oCAAI,WAAU;;sDACX,6LAAC;4CAAM,WAAU;sDAA2D;;;;;;sDAC5E,6LAAC;4CACG,WAAU;4CACV,OAAO,SAAS,SAAS;4CACzB,UAAU,CAAA,IAAK,YAAY;oDAAC,GAAG,QAAQ;oDAAE,WAAW,EAAE,MAAM,CAAC,KAAK;gDAAA;4CAClE,aAAY;;;;;;;;;;;;8CAGpB,6LAAC;oCAAI,WAAU;;sDACX,6LAAC;4CAAM,WAAU;sDAA2D;;;;;;sDAC5E,6LAAC;4CACG,WAAU;4CACV,OAAO,SAAS,QAAQ;4CACxB,UAAU,CAAA,IAAK,YAAY;oDAAC,GAAG,QAAQ;oDAAE,UAAU,EAAE,MAAM,CAAC,KAAK;gDAAA;4CACjE,aAAY;;;;;;;;;;;;;;;;;;sCAIxB,6LAAC;;8CACG,6LAAC;oCAAM,WAAU;8CAA2D;;;;;;8CAC5E,6LAAC;oCACG,WAAU;oCACV,OAAO,SAAS,QAAQ;oCACxB,UAAU,CAAA,IAAK,YAAY;4CAAC,GAAG,QAAQ;4CAAE,UAAU,EAAE,MAAM,CAAC,KAAK;wCAAA;oCACjE,aAAY;;;;;;;;;;;;;;;;;6EAKxB;;sCACI,6LAAC;4BAAI,WAAU;;8CACX,6LAAC;oCAAG,WAAU;;wCAA8E,KAAK,SAAS;wCAAC;wCAAE,KAAK,QAAQ;;;;;;;8CAC1H,6LAAC;oCAAK,WAAW,CAAC,4FAA4F,EAAE,WAAW;8CACtH,KAAK,IAAI;;;;;;gCAEb,KAAK,UAAU,kBACZ,6LAAC;oCAAI,WAAU;oCAAmE,OAAM;8CACpF,cAAA,6LAAC,6OAAW;wCAAC,MAAM;wCAAI,WAAU;;;;;;;;;;;;;;;;;sCAI7C,6LAAC;4BAAE,WAAU;sCAAwD,KAAK,QAAQ,IAAI;;;;;;;;;;;;;;;;;;;AAM1G;KAlEa"}},
    {"offset": {"line": 489, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Khesh/Desktop/Jambo-linguists/components/admin/users/modal/ActionButtons.tsx"],"sourcesContent":["\r\nimport React from 'react';\r\nimport { LogIn, CheckCircle, Ban } from 'lucide-react';\r\nimport { User } from '@/data/types';\r\n\r\ninterface ActionButtonsProps {\r\n  user: User;\r\n  onLoginAsUser: () => void;\r\n  onApprove: () => void;\r\n  onSuspend: () => void;\r\n  processing: boolean;\r\n}\r\n\r\nexport const ActionButtons = ({ user, onLoginAsUser, onApprove, onSuspend, processing }: ActionButtonsProps) => {\r\n  return (\r\n    <>\r\n      {/* Desktop Actions - Positioned absolutely in parent relative container */}\r\n      <div className=\"hidden lg:flex flex-col gap-3 items-end absolute top-0 right-0 -mt-20 lg:mt-0 lg:relative\">\r\n          <button\r\n              onClick={onLoginAsUser}\r\n              className=\"w-full px-4 py-2.5 rounded-xl text-xs font-bold bg-white dark:bg-white/5 border border-gray-200 dark:border-white/10 hover:bg-gray-50 dark:hover:bg-white/10 text-gray-700 dark:text-gray-200 transition-all flex items-center justify-center gap-2 shadow-sm hover:shadow-md\"\r\n          >\r\n              <LogIn size={14} /> Login as {user.firstName}\r\n          </button>\r\n          \r\n          <div className=\"flex gap-2 w-full justify-end\">\r\n              {!user.isVerified && (\r\n                  <button \r\n                      onClick={onApprove}\r\n                      disabled={processing}\r\n                      className=\"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-xl text-xs font-bold shadow-md transition-colors disabled:opacity-70 flex items-center gap-2\"\r\n                  >\r\n                      <CheckCircle size={14} /> Approve\r\n                  </button>\r\n              )}\r\n              <button \r\n                  onClick={onSuspend}\r\n                  disabled={processing}\r\n                  className={`px-4 py-2 rounded-xl text-xs font-bold border transition-colors flex items-center gap-2 ${user.isSuspended \r\n                      ? 'bg-blue-50 text-blue-600 border-blue-200 hover:bg-blue-100 dark:bg-blue-900/20 dark:text-blue-400 dark:border-blue-800' \r\n                      : 'bg-white text-red-600 border-red-200 hover:bg-red-50 dark:bg-transparent dark:text-red-400 dark:border-red-800 hover:shadow-sm'\r\n                  }`}\r\n              >\r\n                  <Ban size={14} /> {user.isSuspended ? 'Reactivate' : 'Suspend'}\r\n              </button>\r\n          </div>\r\n      </div>\r\n\r\n      {/* Mobile Actions Footer */}\r\n      <div className=\"lg:hidden pt-8 mt-8 border-t border-gray-100 dark:border-white/5 flex flex-col gap-3\">\r\n          <button \r\n              onClick={onLoginAsUser}\r\n              className=\"w-full py-3 rounded-xl font-bold border border-gray-200 dark:border-white/20 text-gray-700 dark:text-white flex items-center justify-center gap-2 bg-gray-50 dark:bg-white/5\"\r\n          >\r\n              <LogIn size={16} /> Login as {user.firstName}\r\n          </button>\r\n          <div className=\"grid grid-cols-2 gap-3\">\r\n              {!user.isVerified ? (\r\n                  <>\r\n                    <button \r\n                        onClick={onApprove}\r\n                        disabled={processing}\r\n                        className=\"bg-green-600 text-white py-3 rounded-xl font-bold shadow-lg disabled:opacity-70 flex items-center justify-center gap-2\"\r\n                    >\r\n                        <CheckCircle size={16} /> Approve\r\n                    </button>\r\n                    <button \r\n                        onClick={onSuspend}\r\n                        disabled={processing}\r\n                        className={`py-3 rounded-xl font-bold border flex items-center justify-center gap-2 ${user.isSuspended ? 'bg-blue-50 text-blue-600 border-blue-200' : 'bg-white text-red-600 border-red-200'}`}\r\n                    >\r\n                        <Ban size={16} /> {user.isSuspended ? 'Reactivate' : 'Suspend'}\r\n                    </button>\r\n                  </>\r\n              ) : (\r\n                 <button \r\n                    onClick={onSuspend}\r\n                    disabled={processing}\r\n                    className={`col-span-2 py-3 rounded-xl font-bold border flex items-center justify-center gap-2 ${user.isSuspended ? 'bg-blue-50 text-blue-600 border-blue-200' : 'bg-white text-red-600 border-red-200'}`}\r\n                >\r\n                    <Ban size={16} /> {user.isSuspended ? 'Reactivate User' : 'Suspend Account'}\r\n                </button>\r\n              )}\r\n          </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n"],"names":[],"mappings":";;;;;AAEA;AAAA;AAAA;;;AAWO,MAAM,gBAAgB,CAAC,EAAE,IAAI,EAAE,aAAa,EAAE,SAAS,EAAE,SAAS,EAAE,UAAU,EAAsB;IACzG,qBACE;;0BAEE,6LAAC;gBAAI,WAAU;;kCACX,6LAAC;wBACG,SAAS;wBACT,WAAU;;0CAEV,6LAAC,oNAAK;gCAAC,MAAM;;;;;;4BAAM;4BAAW,KAAK,SAAS;;;;;;;kCAGhD,6LAAC;wBAAI,WAAU;;4BACV,CAAC,KAAK,UAAU,kBACb,6LAAC;gCACG,SAAS;gCACT,UAAU;gCACV,WAAU;;kDAEV,6LAAC,6OAAW;wCAAC,MAAM;;;;;;oCAAM;;;;;;;0CAGjC,6LAAC;gCACG,SAAS;gCACT,UAAU;gCACV,WAAW,CAAC,wFAAwF,EAAE,KAAK,WAAW,GAChH,2HACA,kIACJ;;kDAEF,6LAAC,0MAAG;wCAAC,MAAM;;;;;;oCAAM;oCAAE,KAAK,WAAW,GAAG,eAAe;;;;;;;;;;;;;;;;;;;0BAMjE,6LAAC;gBAAI,WAAU;;kCACX,6LAAC;wBACG,SAAS;wBACT,WAAU;;0CAEV,6LAAC,oNAAK;gCAAC,MAAM;;;;;;4BAAM;4BAAW,KAAK,SAAS;;;;;;;kCAEhD,6LAAC;wBAAI,WAAU;kCACV,CAAC,KAAK,UAAU,iBACb;;8CACE,6LAAC;oCACG,SAAS;oCACT,UAAU;oCACV,WAAU;;sDAEV,6LAAC,6OAAW;4CAAC,MAAM;;;;;;wCAAM;;;;;;;8CAE7B,6LAAC;oCACG,SAAS;oCACT,UAAU;oCACV,WAAW,CAAC,wEAAwE,EAAE,KAAK,WAAW,GAAG,6CAA6C,wCAAwC;;sDAE9L,6LAAC,0MAAG;4CAAC,MAAM;;;;;;wCAAM;wCAAE,KAAK,WAAW,GAAG,eAAe;;;;;;;;yDAI5D,6LAAC;4BACE,SAAS;4BACT,UAAU;4BACV,WAAW,CAAC,mFAAmF,EAAE,KAAK,WAAW,GAAG,6CAA6C,wCAAwC;;8CAEzM,6LAAC,0MAAG;oCAAC,MAAM;;;;;;gCAAM;gCAAE,KAAK,WAAW,GAAG,oBAAoB;;;;;;;;;;;;;;;;;;;;AAO9E;KA1Ea"}},
    {"offset": {"line": 688, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Khesh/Desktop/Jambo-linguists/components/admin/users/modal/ContactDetails.tsx"],"sourcesContent":["\r\nimport React from 'react';\r\nimport { Mail, Phone, MapPin, Calendar, Clock } from 'lucide-react';\r\nimport { User } from '@/data/types';\r\n\r\ninterface ContactDetailsProps {\r\n  user: User;\r\n  isEditing: boolean;\r\n  formData: any;\r\n  setFormData: (data: any) => void;\r\n}\r\n\r\nexport const ContactDetails = ({ user, isEditing, formData, setFormData }: ContactDetailsProps) => {\r\n  return (\r\n    <div className=\"bg-gray-50 dark:bg-white/5 rounded-xl p-5 border border-gray-100 dark:border-white/5\">\r\n        <h3 className=\"text-xs font-bold text-gray-400 uppercase tracking-widest border-b border-gray-200 dark:border-white/10 pb-3 mb-4\">Contact Information</h3>\r\n        <div className=\"space-y-4\">\r\n            \r\n            {/* Email */}\r\n            <div className=\"group\">\r\n                <div className=\"flex items-center gap-2 mb-1.5\">\r\n                    <Mail size={14} className=\"text-jambo-600 dark:text-jambo-400\" />\r\n                    <label className=\"text-[10px] font-bold text-gray-500 uppercase\">Email Address</label>\r\n                </div>\r\n                {isEditing ? (\r\n                    <input \r\n                        className=\"w-full bg-white dark:bg-white/5 border border-gray-200 dark:border-white/10 rounded-lg px-3 py-2 text-sm text-gray-900 dark:text-white focus:outline-none focus:border-jambo-500 transition-colors\"\r\n                        value={formData.email}\r\n                        onChange={e => setFormData({...formData, email: e.target.value})}\r\n                    />\r\n                ) : (\r\n                    <div className=\"text-sm font-medium text-gray-800 dark:text-gray-200 break-all select-all\">{user.email}</div>\r\n                )}\r\n            </div>\r\n\r\n            {/* Phone */}\r\n            <div className=\"group\">\r\n                <div className=\"flex items-center gap-2 mb-1.5\">\r\n                    <Phone size={14} className=\"text-jambo-600 dark:text-jambo-400\" />\r\n                    <label className=\"text-[10px] font-bold text-gray-500 uppercase\">Phone Number</label>\r\n                </div>\r\n                {isEditing ? (\r\n                    <input \r\n                        className=\"w-full bg-white dark:bg-white/5 border border-gray-200 dark:border-white/10 rounded-lg px-3 py-2 text-sm text-gray-900 dark:text-white focus:outline-none focus:border-jambo-500 transition-colors\"\r\n                        value={formData.phone}\r\n                        onChange={e => setFormData({...formData, phone: e.target.value})}\r\n                        placeholder=\"+44...\"\r\n                    />\r\n                ) : (\r\n                    <div className=\"text-sm font-medium text-gray-800 dark:text-gray-200 select-all\">{user.phone || 'N/A'}</div>\r\n                )}\r\n            </div>\r\n\r\n            {/* Location */}\r\n            <div className=\"group\">\r\n                <div className=\"flex items-center gap-2 mb-1.5\">\r\n                    <MapPin size={14} className=\"text-jambo-600 dark:text-jambo-400\" />\r\n                    <label className=\"text-[10px] font-bold text-gray-500 uppercase\">Location</label>\r\n                </div>\r\n                {isEditing ? (\r\n                    <input \r\n                        className=\"w-full bg-white dark:bg-white/5 border border-gray-200 dark:border-white/10 rounded-lg px-3 py-2 text-sm text-gray-900 dark:text-white focus:outline-none focus:border-jambo-500 transition-colors\"\r\n                        value={formData.location}\r\n                        onChange={e => setFormData({...formData, location: e.target.value})}\r\n                        placeholder=\"City, Country\"\r\n                    />\r\n                ) : (\r\n                    <div className=\"text-sm font-medium text-gray-800 dark:text-gray-200\">{user.location || 'Unknown'}</div>\r\n                )}\r\n            </div>\r\n\r\n            {/* Meta Dates (Read Only) */}\r\n            <div className=\"pt-2 border-t border-gray-200 dark:border-white/10 mt-2 grid grid-cols-2 gap-4\">\r\n                <div>\r\n                    <div className=\"flex items-center gap-1.5 mb-1\">\r\n                        <Calendar size={12} className=\"text-gray-400\" />\r\n                        <span className=\"text-[10px] font-bold text-gray-400 uppercase\">Joined</span>\r\n                    </div>\r\n                    <span className=\"text-xs text-gray-600 dark:text-gray-300\">{new Date(user.createdAt).toLocaleDateString()}</span>\r\n                </div>\r\n                <div>\r\n                    <div className=\"flex items-center gap-1.5 mb-1\">\r\n                        <Clock size={12} className=\"text-gray-400\" />\r\n                        <span className=\"text-[10px] font-bold text-gray-400 uppercase\">Last Active</span>\r\n                    </div>\r\n                    <span className=\"text-xs text-gray-600 dark:text-gray-300\">Today</span>\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n    </div>\r\n  );\r\n};\r\n"],"names":[],"mappings":";;;;;AAEA;AAAA;AAAA;AAAA;AAAA;;;AAUO,MAAM,iBAAiB,CAAC,EAAE,IAAI,EAAE,SAAS,EAAE,QAAQ,EAAE,WAAW,EAAuB;IAC5F,qBACE,6LAAC;QAAI,WAAU;;0BACX,6LAAC;gBAAG,WAAU;0BAAoH;;;;;;0BAClI,6LAAC;gBAAI,WAAU;;kCAGX,6LAAC;wBAAI,WAAU;;0CACX,6LAAC;gCAAI,WAAU;;kDACX,6LAAC,6MAAI;wCAAC,MAAM;wCAAI,WAAU;;;;;;kDAC1B,6LAAC;wCAAM,WAAU;kDAAgD;;;;;;;;;;;;4BAEpE,0BACG,6LAAC;gCACG,WAAU;gCACV,OAAO,SAAS,KAAK;gCACrB,UAAU,CAAA,IAAK,YAAY;wCAAC,GAAG,QAAQ;wCAAE,OAAO,EAAE,MAAM,CAAC,KAAK;oCAAA;;;;;yFAGlE,6LAAC;gCAAI,WAAU;0CAA6E,KAAK,KAAK;;;;;;;;;;;;kCAK9G,6LAAC;wBAAI,WAAU;;0CACX,6LAAC;gCAAI,WAAU;;kDACX,6LAAC,gNAAK;wCAAC,MAAM;wCAAI,WAAU;;;;;;kDAC3B,6LAAC;wCAAM,WAAU;kDAAgD;;;;;;;;;;;;4BAEpE,0BACG,6LAAC;gCACG,WAAU;gCACV,OAAO,SAAS,KAAK;gCACrB,UAAU,CAAA,IAAK,YAAY;wCAAC,GAAG,QAAQ;wCAAE,OAAO,EAAE,MAAM,CAAC,KAAK;oCAAA;gCAC9D,aAAY;;;;;yFAGhB,6LAAC;gCAAI,WAAU;0CAAmE,KAAK,KAAK,IAAI;;;;;;;;;;;;kCAKxG,6LAAC;wBAAI,WAAU;;0CACX,6LAAC;gCAAI,WAAU;;kDACX,6LAAC,uNAAM;wCAAC,MAAM;wCAAI,WAAU;;;;;;kDAC5B,6LAAC;wCAAM,WAAU;kDAAgD;;;;;;;;;;;;4BAEpE,0BACG,6LAAC;gCACG,WAAU;gCACV,OAAO,SAAS,QAAQ;gCACxB,UAAU,CAAA,IAAK,YAAY;wCAAC,GAAG,QAAQ;wCAAE,UAAU,EAAE,MAAM,CAAC,KAAK;oCAAA;gCACjE,aAAY;;;;;yFAGhB,6LAAC;gCAAI,WAAU;0CAAwD,KAAK,QAAQ,IAAI;;;;;;;;;;;;kCAKhG,6LAAC;wBAAI,WAAU;;0CACX,6LAAC;;kDACG,6LAAC;wCAAI,WAAU;;0DACX,6LAAC,yNAAQ;gDAAC,MAAM;gDAAI,WAAU;;;;;;0DAC9B,6LAAC;gDAAK,WAAU;0DAAgD;;;;;;;;;;;;kDAEpE,6LAAC;wCAAK,WAAU;kDAA4C,IAAI,KAAK,KAAK,SAAS,EAAE,kBAAkB;;;;;;;;;;;;0CAE3G,6LAAC;;kDACG,6LAAC;wCAAI,WAAU;;0DACX,6LAAC,gNAAK;gDAAC,MAAM;gDAAI,WAAU;;;;;;0DAC3B,6LAAC;gDAAK,WAAU;0DAAgD;;;;;;;;;;;;kDAEpE,6LAAC;wCAAK,WAAU;kDAA2C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAO/E;KAhFa"}},
    {"offset": {"line": 990, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Khesh/Desktop/Jambo-linguists/components/admin/users/modal/ProfessionalDetails.tsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport { User as UserIcon, Globe, Briefcase, GraduationCap, Award, ChevronDown } from 'lucide-react';\r\nimport { User } from '@/data/types';\r\n\r\n// Using a local CustomSelect component to avoid large-scale refactoring\r\nconst CustomSelect: React.FC<{\r\n    options: { value: string; label: string }[];\r\n    value: string;\r\n    onChange: (value: string) => void;\r\n    placeholder?: string;\r\n}> = ({ options, value, onChange, placeholder = \"Select an option\" }) => {\r\n    const [isOpen, setIsOpen] = useState(false);\r\n    const dropdownRef = useRef<HTMLDivElement>(null);\r\n    const selectedLabel = options.find(opt => opt.value === value)?.label || placeholder;\r\n\r\n    useEffect(() => {\r\n        const handleClickOutside = (event: MouseEvent) => {\r\n            if (dropdownRef.current && !dropdownRef.current.contains(event.target as Node)) {\r\n                setIsOpen(false);\r\n            }\r\n        };\r\n        document.addEventListener(\"mousedown\", handleClickOutside);\r\n        return () => document.removeEventListener(\"mousedown\", handleClickOutside);\r\n    }, []);\r\n\r\n    const handleSelect = (newValue: string) => {\r\n        onChange(newValue);\r\n        setIsOpen(false);\r\n    };\r\n\r\n    return (\r\n        <div ref={dropdownRef} className=\"relative w-full\">\r\n            <button\r\n                type=\"button\"\r\n                onClick={() => setIsOpen(!isOpen)}\r\n                className=\"w-full bg-gray-50 dark:bg-white/5 border border-gray-200 dark:border-white/10 rounded-lg px-3 py-2 text-sm text-gray-900 dark:text-white focus:outline-none focus:border-brand-teal flex items-center justify-between\"\r\n            >\r\n                <span>{selectedLabel}</span>\r\n                <ChevronDown size={16} className={`text-gray-400 transition-transform ${isOpen ? 'rotate-180' : ''}`} />\r\n            </button>\r\n            {isOpen && (\r\n                <div className=\"absolute top-full mt-2 w-full bg-white dark:bg-[#2a2438] rounded-xl shadow-xl border border-gray-100 dark:border-white/10 z-20 overflow-hidden animate-in fade-in slide-in-from-top-2 duration-200\">\r\n                    <ul className=\"max-h-60 overflow-y-auto custom-scrollbar p-1\">\r\n                        {options.map(opt => (\r\n                            <li key={opt.value}>\r\n                                <button\r\n                                    onClick={() => handleSelect(opt.value)}\r\n                                    className={`w-full text-left px-3 py-2 rounded-md text-sm transition-colors ${\r\n                                        value === opt.value\r\n                                            ? 'font-bold bg-jambo-50 dark:bg-jambo-900/30 text-jambo-700 dark:text-jambo-300'\r\n                                            : 'text-gray-800 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-white/5'\r\n                                    }`}\r\n                                >\r\n                                    {opt.label}\r\n                                </button>\r\n                            </li>\r\n                        ))}\r\n                    </ul>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\ninterface ProfessionalDetailsProps {\r\n  user: User;\r\n  isEditing: boolean;\r\n  formData: any;\r\n  setFormData: (data: any) => void;\r\n}\r\n\r\nexport const ProfessionalDetails = ({ user, isEditing, formData, setFormData }: ProfessionalDetailsProps) => {\r\n  const roleOptions = [\r\n      { value: 'linguist', label: 'Linguist' },\r\n      { value: 'admin', label: 'Admin' },\r\n      { value: 'client', label: 'Client' },\r\n  ];\r\n  \r\n  return (\r\n    <div className=\"bg-white dark:bg-[#1a1625] rounded-xl p-5 border border-gray-200 dark:border-white/10 shadow-sm\">\r\n        <h3 className=\"text-xs font-bold text-gray-400 uppercase tracking-widest border-b border-gray-100 dark:border-white/5 pb-3 mb-4\">Professional Profile</h3>\r\n        \r\n        <div className=\"space-y-6\">\r\n            {/* System Role */}\r\n            <div className=\"group\">\r\n                <div className=\"flex items-center gap-2 mb-1.5\">\r\n                    <UserIcon size={14} className=\"text-brand-teal\" />\r\n                    <label className=\"text-[10px] font-bold text-gray-500 uppercase\">System Role</label>\r\n                </div>\r\n                {isEditing ? (\r\n                    <CustomSelect\r\n                        options={roleOptions}\r\n                        value={formData.role}\r\n                        onChange={(val) => setFormData({...formData, role: val})}\r\n                    />\r\n                ) : (\r\n                    <div className=\"text-sm font-medium text-gray-800 dark:text-gray-200 capitalize\">{user.role}</div>\r\n                )}\r\n            </div>\r\n\r\n            {/* Languages */}\r\n            <div>\r\n                <div className=\"flex items-center gap-2 mb-2\">\r\n                    <Globe size={14} className=\"text-brand-teal\" />\r\n                    <label className=\"text-[10px] font-bold text-gray-500 uppercase\">Languages</label>\r\n                </div>\r\n                <div className=\"flex flex-wrap gap-2\">\r\n                    {user.languages && user.languages.length > 0 ? (\r\n                        user.languages.map(lang => (\r\n                            <span key={lang} className=\"bg-teal-50 dark:bg-teal-900/20 border border-teal-100 dark:border-teal-800 px-3 py-1 rounded-full text-xs font-bold text-teal-700 dark:text-teal-300\">\r\n                                {lang}\r\n                            </span>\r\n                        ))\r\n                    ) : (\r\n                        <span className=\"text-sm text-gray-400 italic\">No languages listed</span>\r\n                    )}\r\n                </div>\r\n            </div>\r\n\r\n            {/* Qualifications */}\r\n            <div>\r\n                <div className=\"flex items-center gap-2 mb-2\">\r\n                    <GraduationCap size={14} className=\"text-brand-teal\" />\r\n                    <label className=\"text-[10px] font-bold text-gray-500 uppercase\">Qualifications</label>\r\n                </div>\r\n                <div className=\"flex flex-wrap gap-2\">\r\n                    {user.qualifications && user.qualifications.length > 0 ? (\r\n                        user.qualifications.map(qual => (\r\n                            <span key={qual} className=\"bg-gray-100 dark:bg-white/10 px-3 py-1 rounded-full text-xs font-bold text-gray-700 dark:text-gray-300 border border-gray-200 dark:border-white/10 flex items-center gap-1\">\r\n                                <Award size={10} className=\"text-orange-500\" /> {qual}\r\n                            </span>\r\n                        ))\r\n                    ) : (\r\n                        <span className=\"text-sm text-gray-400 italic\">No qualifications listed</span>\r\n                    )}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n  );\r\n};"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1325, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Khesh/Desktop/Jambo-linguists/components/admin/users/modal/AdminInvoiceRow.tsx"],"sourcesContent":["\r\nimport React, { useState } from 'react';\r\nimport { FileText, Eye, Download, Loader2 } from 'lucide-react';\r\nimport { Invoice, User } from '@/data/types';\r\nimport { generateInvoicePDF } from '../../../portal/dashboard/finance/pdfGenerator';\r\n\r\nexport interface AdminInvoiceRowProps {\r\n  invoice: Invoice;\r\n  user: User;\r\n  onPreview: () => void;\r\n}\r\n\r\nexport const AdminInvoiceRow: React.FC<AdminInvoiceRowProps> = ({ invoice, user, onPreview }) => {\r\n  const [isDownloading, setIsDownloading] = useState(false);\r\n\r\n  const statusColors = {\r\n      'Paid': 'bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400',\r\n      'Pending': 'bg-orange-100 text-orange-700 dark:bg-orange-900/30 dark:text-orange-400',\r\n      'Overdue': 'bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400',\r\n      'Draft': 'bg-gray-100 text-gray-600 dark:bg-gray-800 dark:text-gray-400',\r\n  };\r\n  \r\n  const handleDownload = async (e: React.MouseEvent) => {\r\n    e.stopPropagation();\r\n    if (isDownloading) return;\r\n    setIsDownloading(true);\r\n    try {\r\n        await generateInvoicePDF(invoice, user);\r\n    } catch (err) {\r\n        console.error(\"PDF generation failed:\", err);\r\n    } finally {\r\n        setIsDownloading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex items-center justify-between p-3 rounded-lg border border-gray-100 dark:border-white/5 bg-white dark:bg-white/5 hover:border-gray-300 transition-colors group\">\r\n        <div className=\"flex items-center gap-3\">\r\n            <div className=\"w-8 h-8 p-1.5 rounded-lg bg-gray-100 text-gray-600 dark:bg-white/10 dark:text-gray-400 border border-gray-200 dark:border-white/10 flex items-center justify-center\">\r\n                <FileText size={16} />\r\n            </div>\r\n            <div>\r\n                <p className=\"text-sm font-bold text-gray-900 dark:text-white\">{invoice.reference}</p>\r\n                <p className=\"text-xs text-gray-500\">{new Date(invoice.date).toLocaleDateString()}</p>\r\n            </div>\r\n        </div>\r\n        <div className=\"flex items-center gap-4\">\r\n            <p className=\"text-sm font-bold font-mono text-gray-900 dark:text-white\">£{invoice.amount.toFixed(2)}</p>\r\n            <span className={`text-[10px] font-bold px-2 py-0.5 rounded ${statusColors[invoice.status]}`}>{invoice.status}</span>\r\n            <div className=\"flex items-center gap-1\">\r\n                <button onClick={onPreview} className=\"p-1.5 rounded text-gray-400 hover:bg-gray-100 dark:hover:bg-white/10 hover:text-jambo-600 transition-colors\"><Eye size={16}/></button>\r\n                <button onClick={handleDownload} disabled={isDownloading} className=\"p-1.5 rounded text-gray-400 hover:bg-gray-100 dark:hover:bg-white/10 hover:text-jambo-600 transition-colors\">{isDownloading ? <Loader2 size={16} className=\"animate-spin\"/> : <Download size={16}/>}</button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n  );\r\n};\r\n"],"names":[],"mappings":";;;;;AACA;AACA;AAAA;AAAA;AAAA;AAEA;;;;;;AAQO,MAAM,kBAAkD,CAAC,EAAE,OAAO,EAAE,IAAI,EAAE,SAAS,EAAE;;IAC1F,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,yKAAQ,EAAC;IAEnD,MAAM,eAAe;QACjB,QAAQ;QACR,WAAW;QACX,WAAW;QACX,SAAS;IACb;IAEA,MAAM,iBAAiB,OAAO;QAC5B,EAAE,eAAe;QACjB,IAAI,eAAe;QACnB,iBAAiB;QACjB,IAAI;YACA,MAAM,IAAA,qLAAkB,EAAC,SAAS;QACtC,EAAE,OAAO,KAAK;YACV,QAAQ,KAAK,CAAC,0BAA0B;QAC5C,SAAU;YACN,iBAAiB;QACrB;IACF;IAEA,qBACE,6LAAC;QAAI,WAAU;;0BACX,6LAAC;gBAAI,WAAU;;kCACX,6LAAC;wBAAI,WAAU;kCACX,cAAA,6LAAC,6NAAQ;4BAAC,MAAM;;;;;;;;;;;kCAEpB,6LAAC;;0CACG,6LAAC;gCAAE,WAAU;0CAAmD,QAAQ,SAAS;;;;;;0CACjF,6LAAC;gCAAE,WAAU;0CAAyB,IAAI,KAAK,QAAQ,IAAI,EAAE,kBAAkB;;;;;;;;;;;;;;;;;;0BAGvF,6LAAC;gBAAI,WAAU;;kCACX,6LAAC;wBAAE,WAAU;;4BAA4D;4BAAE,QAAQ,MAAM,CAAC,OAAO,CAAC;;;;;;;kCAClG,6LAAC;wBAAK,WAAW,CAAC,0CAA0C,EAAE,YAAY,CAAC,QAAQ,MAAM,CAAC,EAAE;kCAAG,QAAQ,MAAM;;;;;;kCAC7G,6LAAC;wBAAI,WAAU;;0CACX,6LAAC;gCAAO,SAAS;gCAAW,WAAU;0CAA8G,cAAA,6LAAC,0MAAG;oCAAC,MAAM;;;;;;;;;;;0CAC/J,6LAAC;gCAAO,SAAS;gCAAgB,UAAU;gCAAe,WAAU;0CAA+G,8BAAgB,6LAAC,+NAAO;oCAAC,MAAM;oCAAI,WAAU;;;;;6FAAmB,6LAAC,yNAAQ;oCAAC,MAAM;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAKnR;GA5Ca;KAAA"}},
    {"offset": {"line": 1505, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Khesh/Desktop/Jambo-linguists/components/admin/users/modal/UserFinanceTab.tsx"],"sourcesContent":["\r\nimport React, { useState, useRef, useEffect } from 'react';\r\nimport { mockDb } from '@/data/mockDatabase';\r\nimport { Invoice } from '@/data/types';\r\nimport { PoundSterling, FileText, CheckCircle, Clock, AlertCircle, Download, Loader2 } from 'lucide-react';\r\nimport { AdminInvoiceRow } from './AdminInvoiceRow';\r\nimport { InvoicePreviewModal } from '../../../portal/dashboard/finance/InvoicePreviewModal';\r\nimport { generateStatementPDF } from '../../../portal/dashboard/finance/pdfGenerator';\r\n\r\nexport const UserFinanceTab = ({ userId }: { userId: string }) => {\r\n  const [selectedInvoice, setSelectedInvoice] = useState<Invoice | null>(null);\r\n  const [isExporting, setIsExporting] = useState(false);\r\n  const [isExportMenuOpen, setIsExportMenuOpen] = useState(false);\r\n  const [refreshTrigger, setRefreshTrigger] = useState(0); // Force re-render on data change\r\n  const exportMenuRef = useRef<HTMLDivElement>(null);\r\n  \r\n  const user = mockDb.getAllUsers().find(u => u.id === userId);\r\n  \r\n  // Re-fetch data on render (triggered by state changes)\r\n  const invoices = mockDb.getInvoicesByUser(userId);\r\n  \r\n  // Calc Stats\r\n  // Updated: Total Paid is now sum of Paid Invoices\r\n  const totalPaid = invoices.filter(i => i.status === 'Paid').reduce((acc, curr) => acc + curr.amount, 0);\r\n  const totalInvoiced = invoices.reduce((acc, curr) => acc + curr.amount, 0);\r\n  const unpaidInvoices = invoices.filter(i => i.status === 'Pending' || i.status === 'Overdue');\r\n  const pendingInvoicesAmount = unpaidInvoices.reduce((acc, curr) => acc + curr.amount, 0);\r\n  const unpaidCount = unpaidInvoices.length;\r\n\r\n   useEffect(() => {\r\n    const handleClickOutside = (event: MouseEvent) => {\r\n        if (exportMenuRef.current && !exportMenuRef.current.contains(event.target as Node)) {\r\n            setIsExportMenuOpen(false);\r\n        }\r\n    };\r\n    document.addEventListener(\"mousedown\", handleClickOutside);\r\n    return () => document.removeEventListener(\"mousedown\", handleClickOutside);\r\n  }, []);\r\n\r\n  const handleExportStatement = async (period: '30d' | '90d' | 'year' | 'all') => {\r\n      if (invoices.length === 0) return;\r\n      \r\n      setIsExporting(true);\r\n      setIsExportMenuOpen(false);\r\n\r\n      const now = new Date();\r\n      const filtered = invoices.filter(inv => {\r\n          const invDate = new Date(inv.date);\r\n          if (period === 'all') return true;\r\n          if (period === 'year') return invDate.getFullYear() === now.getFullYear();\r\n          \r\n          let days = 0;\r\n          if (period === '30d') days = 30;\r\n          if (period === '90d') days = 90;\r\n          \r\n          const cutoff = new Date();\r\n          cutoff.setDate(now.getDate() - days);\r\n          return invDate >= cutoff;\r\n      });\r\n\r\n      if (filtered.length === 0) {\r\n          console.warn(\"No invoices in selected period to export.\");\r\n          setIsExporting(false);\r\n          return;\r\n      }\r\n\r\n      try {\r\n          if (!user) return;\r\n          const periodLabel = {\r\n              '30d': 'Last 30 Days',\r\n              '90d': 'Last 90 Days',\r\n              'year': `Year ${now.getFullYear()}`,\r\n              'all': 'All Time'\r\n          }[period];\r\n          await generateStatementPDF(filtered, user, periodLabel);\r\n      } catch (e) {\r\n          console.error(e);\r\n      } finally {\r\n          setIsExporting(false);\r\n      }\r\n  };\r\n\r\n  const handleMarkPaid = () => {\r\n      if (selectedInvoice) {\r\n          mockDb.updateInvoiceStatus(selectedInvoice.id, 'Paid');\r\n          // Update local modal state to reflect change immediately\r\n          setSelectedInvoice(prev => prev ? ({...prev, status: 'Paid'}) : null);\r\n          // Trigger re-render of parent stats\r\n          setRefreshTrigger(prev => prev + 1);\r\n      }\r\n  }\r\n\r\n  if (!user) return <p className=\"p-6 text-center text-gray-500\">User not found.</p>;\r\n\r\n  return (\r\n    <>\r\n      <div className=\"space-y-6 animate-in fade-in slide-in-from-bottom-2 duration-300\">\r\n        {/* Stats Grid */}\r\n        <div className=\"grid grid-cols-1 sm:grid-cols-3 gap-4\">\r\n            <div className=\"bg-gray-50 dark:bg-white/5 p-4 rounded-xl border border-gray-200 dark:border-white/10\">\r\n                <p className=\"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-1\">Total Paid (Invoices)</p>\r\n                <p className=\"text-xl font-bold text-jambo-600 dark:text-jambo-400 font-mono\">£{totalPaid.toFixed(2)}</p>\r\n            </div>\r\n            <div className=\"bg-gray-50 dark:bg-white/5 p-4 rounded-xl border border-gray-200 dark:border-white/10\">\r\n                <p className=\"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-1\">Total Invoiced</p>\r\n                <p className=\"text-xl font-bold text-gray-900 dark:text-white font-mono\">£{totalInvoiced.toFixed(2)}</p>\r\n            </div>\r\n            <div className=\"bg-gray-50 dark:bg-white/5 p-4 rounded-xl border border-gray-200 dark:border-white/10\">\r\n                <p className=\"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-1\">Pending Pay</p>\r\n                <p className=\"text-xl font-bold text-orange-500 font-mono\">£{pendingInvoicesAmount.toFixed(2)}</p>\r\n            </div>\r\n        </div>\r\n\r\n        <div>\r\n             <div className=\"flex items-center justify-between mb-3\">\r\n                <h3 className=\"text-xs font-bold text-gray-400 uppercase tracking-widest flex items-center gap-2\">\r\n                    Invoices\r\n                    {unpaidCount > 0 && (\r\n                        <span className=\"bg-red-500 text-white w-5 h-5 flex items-center justify-center rounded-full text-[10px] font-bold\">{unpaidCount}</span>\r\n                    )}\r\n                </h3>\r\n                <div className=\"relative\" ref={exportMenuRef}>\r\n                  <button \r\n                    onClick={() => setIsExportMenuOpen(!isExportMenuOpen)}\r\n                    disabled={isExporting || invoices.length === 0}\r\n                    className=\"bg-white dark:bg-white/10 text-gray-700 dark:text-gray-200 border border-gray-200 dark:border-white/20 px-3 py-1.5 rounded-lg font-bold text-xs shadow-sm hover:bg-gray-50 dark:hover:bg-white/20 transition-colors flex items-center gap-2 disabled:opacity-50\"\r\n                  >\r\n                    {isExporting ? <Loader2 size={14} className=\"animate-spin\" /> : <Download size={14} />} \r\n                    Export Statement\r\n                  </button>\r\n                  {isExportMenuOpen && (\r\n                    <div className=\"absolute right-0 top-full mt-2 w-48 bg-white dark:bg-[#1a1625] rounded-lg shadow-lg border border-gray-200 dark:border-white/10 z-10 p-2 animate-in fade-in slide-in-from-top-2 duration-200\">\r\n                        <button onClick={() => handleExportStatement('30d')} className=\"w-full text-left px-3 py-2 text-sm rounded-md hover:bg-gray-100 dark:hover:bg-white/5 text-gray-700 dark:text-gray-200\">Last 30 Days</button>\r\n                        <button onClick={() => handleExportStatement('90d')} className=\"w-full text-left px-3 py-2 text-sm rounded-md hover:bg-gray-100 dark:hover:bg-white/5 text-gray-700 dark:text-gray-200\">Last 90 Days</button>\r\n                        <button onClick={() => handleExportStatement('year')} className=\"w-full text-left px-3 py-2 text-sm rounded-md hover:bg-gray-100 dark:hover:bg-white/5 text-gray-700 dark:text-gray-200\">This Year</button>\r\n                        <button onClick={() => handleExportStatement('all')} className=\"w-full text-left px-3 py-2 text-sm rounded-md hover:bg-gray-100 dark:hover:bg-white/5 text-gray-700 dark:text-gray-200\">All Time</button>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n            </div>\r\n            {invoices.length === 0 ? (\r\n                <div className=\"text-center py-8 border border-dashed border-gray-200 dark:border-white/10 rounded-xl\">\r\n                    <p className=\"text-gray-400 text-sm\">No invoices generated yet.</p>\r\n                </div>\r\n            ) : (\r\n                <div className=\"space-y-2\">\r\n                    {invoices.map(inv => (\r\n                        <AdminInvoiceRow \r\n                            key={inv.id} \r\n                            invoice={inv}\r\n                            user={user}\r\n                            onPreview={() => setSelectedInvoice(inv)}\r\n                        />\r\n                    ))}\r\n                </div>\r\n            )}\r\n        </div>\r\n      </div>\r\n      {selectedInvoice && (\r\n          <InvoicePreviewModal \r\n              invoice={selectedInvoice}\r\n              onClose={() => setSelectedInvoice(null)}\r\n              onMarkPaid={handleMarkPaid}\r\n          />\r\n      )}\r\n    </>\r\n  );\r\n};\r\n"],"names":[],"mappings":";;;;;AACA;AACA;AAEA;AAAA;AACA;AACA;AACA;;;;;;;;;AAEO,MAAM,iBAAiB,CAAC,EAAE,MAAM,EAAsB;;IAC3D,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,IAAA,yKAAQ,EAAiB;IACvE,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,yKAAQ,EAAC;IAC/C,MAAM,CAAC,kBAAkB,oBAAoB,GAAG,IAAA,yKAAQ,EAAC;IACzD,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,IAAA,yKAAQ,EAAC,IAAI,iCAAiC;IAC1F,MAAM,gBAAgB,IAAA,uKAAM,EAAiB;IAE7C,MAAM,OAAO,iJAAM,CAAC,WAAW,GAAG,IAAI,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK;IAErD,uDAAuD;IACvD,MAAM,WAAW,iJAAM,CAAC,iBAAiB,CAAC;IAE1C,aAAa;IACb,kDAAkD;IAClD,MAAM,YAAY,SAAS,MAAM,CAAC,CAAA,IAAK,EAAE,MAAM,KAAK,QAAQ,MAAM,CAAC,CAAC,KAAK,OAAS,MAAM,KAAK,MAAM,EAAE;IACrG,MAAM,gBAAgB,SAAS,MAAM,CAAC,CAAC,KAAK,OAAS,MAAM,KAAK,MAAM,EAAE;IACxE,MAAM,iBAAiB,SAAS,MAAM,CAAC,CAAA,IAAK,EAAE,MAAM,KAAK,aAAa,EAAE,MAAM,KAAK;IACnF,MAAM,wBAAwB,eAAe,MAAM,CAAC,CAAC,KAAK,OAAS,MAAM,KAAK,MAAM,EAAE;IACtF,MAAM,cAAc,eAAe,MAAM;IAExC,IAAA,0KAAS;oCAAC;YACT,MAAM;+DAAqB,CAAC;oBACxB,IAAI,cAAc,OAAO,IAAI,CAAC,cAAc,OAAO,CAAC,QAAQ,CAAC,MAAM,MAAM,GAAW;wBAChF,oBAAoB;oBACxB;gBACJ;;YACA,SAAS,gBAAgB,CAAC,aAAa;YACvC;4CAAO,IAAM,SAAS,mBAAmB,CAAC,aAAa;;QACzD;mCAAG,EAAE;IAEL,MAAM,wBAAwB,OAAO;QACjC,IAAI,SAAS,MAAM,KAAK,GAAG;QAE3B,eAAe;QACf,oBAAoB;QAEpB,MAAM,MAAM,IAAI;QAChB,MAAM,WAAW,SAAS,MAAM,CAAC,CAAA;YAC7B,MAAM,UAAU,IAAI,KAAK,IAAI,IAAI;YACjC,IAAI,WAAW,OAAO,OAAO;YAC7B,IAAI,WAAW,QAAQ,OAAO,QAAQ,WAAW,OAAO,IAAI,WAAW;YAEvE,IAAI,OAAO;YACX,IAAI,WAAW,OAAO,OAAO;YAC7B,IAAI,WAAW,OAAO,OAAO;YAE7B,MAAM,SAAS,IAAI;YACnB,OAAO,OAAO,CAAC,IAAI,OAAO,KAAK;YAC/B,OAAO,WAAW;QACtB;QAEA,IAAI,SAAS,MAAM,KAAK,GAAG;YACvB,QAAQ,IAAI,CAAC;YACb,eAAe;YACf;QACJ;QAEA,IAAI;YACA,IAAI,CAAC,MAAM;YACX,MAAM,cAAc;gBAChB,OAAO;gBACP,OAAO;gBACP,QAAQ,CAAC,KAAK,EAAE,IAAI,WAAW,IAAI;gBACnC,OAAO;YACX,CAAC,CAAC,OAAO;YACT,MAAM,IAAA,uLAAoB,EAAC,UAAU,MAAM;QAC/C,EAAE,OAAO,GAAG;YACR,QAAQ,KAAK,CAAC;QAClB,SAAU;YACN,eAAe;QACnB;IACJ;IAEA,MAAM,iBAAiB;QACnB,IAAI,iBAAiB;YACjB,iJAAM,CAAC,mBAAmB,CAAC,gBAAgB,EAAE,EAAE;YAC/C,yDAAyD;YACzD,mBAAmB,CAAA,OAAQ,OAAQ;oBAAC,GAAG,IAAI;oBAAE,QAAQ;gBAAM,IAAK;YAChE,oCAAoC;YACpC,kBAAkB,CAAA,OAAQ,OAAO;QACrC;IACJ;IAEA,IAAI,CAAC,MAAM,qBAAO,6LAAC;QAAE,WAAU;kBAAgC;;;;;;IAE/D,qBACE;;0BACE,6LAAC;gBAAI,WAAU;;kCAEb,6LAAC;wBAAI,WAAU;;0CACX,6LAAC;gCAAI,WAAU;;kDACX,6LAAC;wCAAE,WAAU;kDAAqE;;;;;;kDAClF,6LAAC;wCAAE,WAAU;;4CAAiE;4CAAE,UAAU,OAAO,CAAC;;;;;;;;;;;;;0CAEtG,6LAAC;gCAAI,WAAU;;kDACX,6LAAC;wCAAE,WAAU;kDAAqE;;;;;;kDAClF,6LAAC;wCAAE,WAAU;;4CAA4D;4CAAE,cAAc,OAAO,CAAC;;;;;;;;;;;;;0CAErG,6LAAC;gCAAI,WAAU;;kDACX,6LAAC;wCAAE,WAAU;kDAAqE;;;;;;kDAClF,6LAAC;wCAAE,WAAU;;4CAA8C;4CAAE,sBAAsB,OAAO,CAAC;;;;;;;;;;;;;;;;;;;kCAInG,6LAAC;;0CACI,6LAAC;gCAAI,WAAU;;kDACZ,6LAAC;wCAAG,WAAU;;4CAAoF;4CAE7F,cAAc,mBACX,6LAAC;gDAAK,WAAU;0DAAqG;;;;;;;;;;;;kDAG7H,6LAAC;wCAAI,WAAU;wCAAW,KAAK;;0DAC7B,6LAAC;gDACC,SAAS,IAAM,oBAAoB,CAAC;gDACpC,UAAU,eAAe,SAAS,MAAM,KAAK;gDAC7C,WAAU;;oDAET,4BAAc,6LAAC,+NAAO;wDAAC,MAAM;wDAAI,WAAU;;;;;iHAAoB,6LAAC,yNAAQ;wDAAC,MAAM;;;;;;oDAAO;;;;;;;4CAGxF,kCACC,6LAAC;gDAAI,WAAU;;kEACX,6LAAC;wDAAO,SAAS,IAAM,sBAAsB;wDAAQ,WAAU;kEAAyH;;;;;;kEACxL,6LAAC;wDAAO,SAAS,IAAM,sBAAsB;wDAAQ,WAAU;kEAAyH;;;;;;kEACxL,6LAAC;wDAAO,SAAS,IAAM,sBAAsB;wDAAS,WAAU;kEAAyH;;;;;;kEACzL,6LAAC;wDAAO,SAAS,IAAM,sBAAsB;wDAAQ,WAAU;kEAAyH;;;;;;;;;;;;;;;;;;;;;;;;4BAKnM,SAAS,MAAM,KAAK,kBACjB,6LAAC;gCAAI,WAAU;0CACX,cAAA,6LAAC;oCAAE,WAAU;8CAAwB;;;;;;;;;;yFAGzC,6LAAC;gCAAI,WAAU;0CACV,SAAS,GAAG,CAAC,CAAA,oBACV,6LAAC,+KAAe;wCAEZ,SAAS;wCACT,MAAM;wCACN,WAAW,IAAM,mBAAmB;uCAH/B,IAAI,EAAE;;;;;;;;;;;;;;;;;;;;;;YAUhC,iCACG,6LAAC,8LAAmB;gBAChB,SAAS;gBACT,SAAS,IAAM,mBAAmB;gBAClC,YAAY;;;;;;;;AAK1B;GA9Ja;KAAA"}},
    {"offset": {"line": 1886, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Khesh/Desktop/Jambo-linguists/components/admin/users/modal/SecurityDetails.tsx"],"sourcesContent":["import React from 'react';\r\nimport { Lock } from 'lucide-react';\r\n\r\ninterface SecurityDetailsProps {\r\n  isEditing: boolean;\r\n  formData: any;\r\n  setFormData: (data: any) => void;\r\n}\r\n\r\nexport const SecurityDetails = ({ isEditing, formData, setFormData }: SecurityDetailsProps) => {\r\n    if (!isEditing) return null;\r\n\r\n    return (\r\n        <div className=\"bg-orange-50 dark:bg-orange-900/10 rounded-xl p-5 border border-orange-200 dark:border-orange-800 animate-in fade-in duration-300\">\r\n            <h3 className=\"text-xs font-bold text-orange-700 dark:text-orange-300 uppercase tracking-widest border-b border-orange-200 dark:border-orange-800 pb-3 mb-4\">Security</h3>\r\n            <div className=\"group\">\r\n                <div className=\"flex items-center gap-2 mb-1.5\">\r\n                    <Lock size={14} className=\"text-orange-600\" />\r\n                    <label className=\"text-[10px] font-bold text-gray-500 uppercase\">New Password</label>\r\n                </div>\r\n                <input \r\n                    type=\"password\"\r\n                    className=\"w-full bg-white dark:bg-white/5 border border-gray-200 dark:border-white/10 rounded-lg px-3 py-2 text-sm text-gray-900 dark:text-white focus:outline-none focus:border-orange-500 transition-colors\"\r\n                    value={formData.password || ''}\r\n                    onChange={e => setFormData({...formData, password: e.target.value})}\r\n                    placeholder=\"Leave blank to keep unchanged\"\r\n                />\r\n            </div>\r\n        </div>\r\n    );\r\n};"],"names":[],"mappings":";;;;;AACA;;;AAQO,MAAM,kBAAkB,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,WAAW,EAAwB;IACtF,IAAI,CAAC,WAAW,OAAO;IAEvB,qBACI,6LAAC;QAAI,WAAU;;0BACX,6LAAC;gBAAG,WAAU;0BAA+I;;;;;;0BAC7J,6LAAC;gBAAI,WAAU;;kCACX,6LAAC;wBAAI,WAAU;;0CACX,6LAAC,6MAAI;gCAAC,MAAM;gCAAI,WAAU;;;;;;0CAC1B,6LAAC;gCAAM,WAAU;0CAAgD;;;;;;;;;;;;kCAErE,6LAAC;wBACG,MAAK;wBACL,WAAU;wBACV,OAAO,SAAS,QAAQ,IAAI;wBAC5B,UAAU,CAAA,IAAK,YAAY;gCAAC,GAAG,QAAQ;gCAAE,UAAU,EAAE,MAAM,CAAC,KAAK;4BAAA;wBACjE,aAAY;;;;;;;;;;;;;;;;;;AAKhC;KArBa"}},
    {"offset": {"line": 1972, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Khesh/Desktop/Jambo-linguists/components/admin/users/modal/UserLoginHistoryTab.tsx"],"sourcesContent":["\r\nimport React from 'react';\r\nimport { mockDb } from '@/data/mockDatabase';\r\nimport { Table, TableHeader, TableBody, TableRow, TableHead, TableCell } from '../../../ui/Table';\r\n\r\nexport const UserLoginHistoryTab = ({ userId }: { userId: string }) => {\r\n    const history = mockDb.getLoginHistoryForUser(userId);\r\n    const allUsers = mockDb.getAllUsers();\r\n\r\n    const getImpersonatorName = (adminId: string) => {\r\n        const admin = allUsers.find(u => u.id === adminId);\r\n        return admin ? `${admin.firstName} ${admin.lastName}` : 'Unknown Admin';\r\n    };\r\n\r\n    if (history.length === 0) {\r\n        return (\r\n            <div className=\"text-center py-12 border border-dashed border-gray-200 dark:border-white/10 rounded-xl\">\r\n                <p className=\"text-gray-400\">No login history found for this user.</p>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className=\"space-y-4 animate-in fade-in slide-in-from-bottom-2 duration-300\">\r\n            <h3 className=\"text-xs font-bold text-gray-400 uppercase tracking-widest mb-2\">Login Activity</h3>\r\n            <div className=\"overflow-hidden rounded-xl border border-gray-200 dark:border-white/10\">\r\n                <Table>\r\n                    <TableHeader>\r\n                        <TableRow>\r\n                            <TableHead>Date & Time</TableHead>\r\n                            <TableHead>Source</TableHead>\r\n                            <TableHead>IP Address</TableHead>\r\n                        </TableRow>\r\n                    </TableHeader>\r\n                    <TableBody>\r\n                        {history.map(entry => (\r\n                            <TableRow key={entry.id}>\r\n                                <TableCell className=\"whitespace-nowrap\">\r\n                                    <span className=\"font-medium text-gray-900 dark:text-white\">{new Date(entry.timestamp).toLocaleString()}</span>\r\n                                </TableCell>\r\n                                <TableCell>\r\n                                    {entry.source === 'impersonation' ? (\r\n                                        <div>\r\n                                            <p className=\"font-bold text-purple-600 dark:text-purple-400\">Impersonation</p>\r\n                                            <p className=\"text-xs text-gray-500\">by {getImpersonatorName(entry.impersonatorId!)}</p>\r\n                                        </div>\r\n                                    ) : (\r\n                                        <p className=\"font-medium text-gray-700 dark:text-gray-300\">Direct Login</p>\r\n                                    )}\r\n                                </TableCell>\r\n                                <TableCell className=\"text-gray-600 dark:text-gray-400 font-mono text-xs\">\r\n                                    {entry.ipAddress}\r\n                                </TableCell>\r\n                            </TableRow>\r\n                        ))}\r\n                    </TableBody>\r\n                </Table>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;;;;AAEO,MAAM,sBAAsB,CAAC,EAAE,MAAM,EAAsB;IAC9D,MAAM,UAAU,iJAAM,CAAC,sBAAsB,CAAC;IAC9C,MAAM,WAAW,iJAAM,CAAC,WAAW;IAEnC,MAAM,sBAAsB,CAAC;QACzB,MAAM,QAAQ,SAAS,IAAI,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK;QAC1C,OAAO,QAAQ,GAAG,MAAM,SAAS,CAAC,CAAC,EAAE,MAAM,QAAQ,EAAE,GAAG;IAC5D;IAEA,IAAI,QAAQ,MAAM,KAAK,GAAG;QACtB,qBACI,6LAAC;YAAI,WAAU;sBACX,cAAA,6LAAC;gBAAE,WAAU;0BAAgB;;;;;;;;;;;IAGzC;IAEA,qBACI,6LAAC;QAAI,WAAU;;0BACX,6LAAC;gBAAG,WAAU;0BAAiE;;;;;;0BAC/E,6LAAC;gBAAI,WAAU;0BACX,cAAA,6LAAC,sIAAK;;sCACF,6LAAC,4IAAW;sCACR,cAAA,6LAAC,yIAAQ;;kDACL,6LAAC,0IAAS;kDAAC;;;;;;kDACX,6LAAC,0IAAS;kDAAC;;;;;;kDACX,6LAAC,0IAAS;kDAAC;;;;;;;;;;;;;;;;;sCAGnB,6LAAC,0IAAS;sCACL,QAAQ,GAAG,CAAC,CAAA,sBACT,6LAAC,yIAAQ;;sDACL,6LAAC,0IAAS;4CAAC,WAAU;sDACjB,cAAA,6LAAC;gDAAK,WAAU;0DAA6C,IAAI,KAAK,MAAM,SAAS,EAAE,cAAc;;;;;;;;;;;sDAEzG,6LAAC,0IAAS;sDACL,MAAM,MAAM,KAAK,gCACd,6LAAC;;kEACG,6LAAC;wDAAE,WAAU;kEAAiD;;;;;;kEAC9D,6LAAC;wDAAE,WAAU;;4DAAwB;4DAAI,oBAAoB,MAAM,cAAc;;;;;;;;;;;;yGAGrF,6LAAC;gDAAE,WAAU;0DAA+C;;;;;;;;;;;sDAGpE,6LAAC,0IAAS;4CAAC,WAAU;sDAChB,MAAM,SAAS;;;;;;;mCAfT,MAAM,EAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwBnD;KAvDa"}},
    {"offset": {"line": 2161, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Khesh/Desktop/Jambo-linguists/components/admin/users/UserProfileModal.tsx"],"sourcesContent":["\r\nimport React, { useState } from 'react';\r\nimport { User as UserType } from '@/data/types';\r\nimport { mockDb } from '@/data/mockDatabase';\r\nimport { X, Briefcase, Wallet, User, History } from 'lucide-react';\r\nimport { Modal } from '../../ui/Modal';\r\n\r\n// Sub-components\r\nimport { ModalHeader } from './modal/ModalHeader';\r\nimport { IdentitySection } from './modal/IdentitySection';\r\nimport { ActionButtons } from './modal/ActionButtons';\r\nimport { StatusBanners } from './modal/StatusBanners';\r\nimport { ContactDetails } from './modal/ContactDetails';\r\nimport { ProfessionalDetails } from './modal/ProfessionalDetails';\r\nimport { UserJobsTab } from './modal/UserJobsTab';\r\nimport { UserFinanceTab } from './modal/UserFinanceTab';\r\nimport { SecurityDetails } from './modal/SecurityDetails';\r\nimport { UserLoginHistoryTab } from './modal/UserLoginHistoryTab';\r\n\r\ninterface UserProfileModalProps {\r\n  user: UserType;\r\n  onClose: () => void;\r\n  onUpdate: () => void;\r\n  onNavigate?: (page: string) => void;  // now optional\r\n}\r\n\r\n\r\nexport const UserProfileModal = ({ user, onClose, onUpdate, onNavigate }: UserProfileModalProps) => {\r\n  const [processing, setProcessing] = useState(false);\r\n  const [isEditing, setIsEditing] = useState(false);\r\n  const [activeTab, setActiveTab] = useState<'overview' | 'jobs' | 'finance' | 'history'>('overview');\r\n  \r\n  // Local state for editing form\r\n  const [formData, setFormData] = useState({\r\n      firstName: user.firstName,\r\n      lastName: user.lastName,\r\n      email: user.email,\r\n      phone: user.phone || '',\r\n      location: user.location || '',\r\n      headline: user.headline || '',\r\n      role: user.role,\r\n      password: ''\r\n  });\r\n\r\n  // Handlers\r\n  const handleApprove = () => {\r\n      setProcessing(true);\r\n      setTimeout(() => {\r\n          mockDb.adminUpdateUserVerification(user.id, true);\r\n          setProcessing(false);\r\n          onUpdate();\r\n      }, 800);\r\n  };\r\n\r\n  const handleSuspend = () => {\r\n      const action = user.isSuspended ? 'unsuspend' : 'suspend';\r\n      if (!user.isSuspended && !confirm(`Are you sure you want to ${action} this user? They will lose access immediately.`)) return;\r\n      \r\n      setProcessing(true);\r\n      setTimeout(() => {\r\n          mockDb.adminSuspendUser(user.id, !user.isSuspended);\r\n          setProcessing(false);\r\n          onUpdate();\r\n      }, 800);\r\n  };\r\n\r\n  const handleLoginAsUser = () => {\r\n      if(!confirm(`Login as ${user.firstName}? You will be redirected to the portal as this user.`)) return;\r\n      \r\n      const adminUser = mockDb.auth.getCurrentUser();\r\n      if (adminUser) {\r\n          mockDb.adminLogImpersonation(adminUser.id, user.id);\r\n      }\r\n\r\n      const res = mockDb.auth.login(user.email);\r\n  if (res.success) {\r\n    onClose();\r\n    onNavigate?.('portal');   // safe call\r\n  } else {\r\n    alert('Failed to login as user. Ensure the email is valid.');\r\n  }\r\n  };\r\n\r\n  const handleSave = () => {\r\n      setProcessing(true);\r\n      setTimeout(() => {\r\n          // Exclude password from general update if it's empty\r\n          const { password, ...restOfData } = formData;\r\n          const dataToUpdate: Partial<UserType> = { ...restOfData };\r\n          // In a real app, you'd handle password update separately if (password) { ... }\r\n          mockDb.adminUpdateUser(user.id, dataToUpdate);\r\n          \r\n          setProcessing(false);\r\n          setIsEditing(false);\r\n          onUpdate();\r\n      }, 800);\r\n  };\r\n\r\n  const handleCancel = () => {\r\n      setIsEditing(false); \r\n      // Reset form data\r\n      setFormData({ \r\n          firstName: user.firstName, \r\n          lastName: user.lastName, \r\n          email: user.email, \r\n          phone: user.phone || '', \r\n          location: user.location || '', \r\n          headline: user.headline || '', \r\n          role: user.role,\r\n          password: ''\r\n      });\r\n  };\r\n\r\n  return (\r\n    <Modal isOpen={true} onClose={onClose} size=\"4xl\" showCloseButton={true}>\r\n        {/* Scrollable Container including Header */}\r\n        <div className=\"flex-1 overflow-y-auto custom-scrollbar relative\">\r\n            \r\n            {/* Header Image Section */}\r\n            <ModalHeader \r\n                user={user}\r\n                isEditing={isEditing}\r\n                setIsEditing={setIsEditing}\r\n                onSave={handleSave}\r\n                onCancel={handleCancel}\r\n                processing={processing}\r\n            />\r\n\r\n            <div className=\"px-6 pb-8 md:px-10 md:pb-10 relative\">\r\n                <div className=\"relative\">\r\n                    <IdentitySection \r\n                        user={user}\r\n                        isEditing={isEditing}\r\n                        formData={formData}\r\n                        setFormData={setFormData}\r\n                    />\r\n                    \r\n                    <ActionButtons \r\n                        user={user}\r\n                        onLoginAsUser={handleLoginAsUser}\r\n                        onApprove={handleApprove}\r\n                        onSuspend={handleSuspend}\r\n                        processing={processing}\r\n                    />\r\n                </div>\r\n\r\n                {/* Tabs */}\r\n                <div className=\"flex border-b border-gray-200 dark:border-white/10 mb-6 overflow-x-auto no-scrollbar\">\r\n                    <button \r\n                        onClick={() => setActiveTab('overview')}\r\n                        className={`px-4 py-3 text-sm font-bold border-b-2 transition-colors flex items-center gap-2 whitespace-nowrap ${activeTab === 'overview' ? 'border-jambo-600 text-jambo-600 dark:text-white dark:border-white' : 'border-transparent text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200'}`}\r\n                    >\r\n                        <User size={16} /> Overview\r\n                    </button>\r\n                    <button \r\n                        onClick={() => setActiveTab('jobs')}\r\n                        className={`px-4 py-3 text-sm font-bold border-b-2 transition-colors flex items-center gap-2 whitespace-nowrap ${activeTab === 'jobs' ? 'border-jambo-600 text-jambo-600 dark:text-white dark:border-white' : 'border-transparent text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200'}`}\r\n                    >\r\n                        <Briefcase size={16} /> Assignments\r\n                    </button>\r\n                    <button \r\n                        onClick={() => setActiveTab('finance')}\r\n                        className={`px-4 py-3 text-sm font-bold border-b-2 transition-colors flex items-center gap-2 whitespace-nowrap ${activeTab === 'finance' ? 'border-jambo-600 text-jambo-600 dark:text-white dark:border-white' : 'border-transparent text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200'}`}\r\n                    >\r\n                        <Wallet size={16} /> Finance\r\n                    </button>\r\n                     <button \r\n                        onClick={() => setActiveTab('history')}\r\n                        className={`px-4 py-3 text-sm font-bold border-b-2 transition-colors flex items-center gap-2 whitespace-nowrap ${activeTab === 'history' ? 'border-jambo-600 text-jambo-600 dark:text-white dark:border-white' : 'border-transparent text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200'}`}\r\n                    >\r\n                        <History size={16} /> Login History\r\n                    </button>\r\n                </div>\r\n\r\n                {activeTab === 'overview' && (\r\n                    <div className=\"animate-in fade-in slide-in-from-bottom-2 duration-300 space-y-6\">\r\n                        <StatusBanners user={user} />\r\n                        <div className=\"grid md:grid-cols-2 gap-6 mt-2\">\r\n                            <ContactDetails \r\n                                user={user} \r\n                                isEditing={isEditing}\r\n                                formData={formData}\r\n                                setFormData={setFormData}\r\n                            />\r\n                            \r\n                            <ProfessionalDetails \r\n                                user={user}\r\n                                isEditing={isEditing}\r\n                                formData={formData}\r\n                                setFormData={setFormData}\r\n                            />\r\n                        </div>\r\n                         <SecurityDetails\r\n                            isEditing={isEditing}\r\n                            formData={formData}\r\n                            setFormData={setFormData}\r\n                        />\r\n                    </div>\r\n                )}\r\n\r\n                {activeTab === 'jobs' && <UserJobsTab userId={user.id} />}\r\n                \r\n                {activeTab === 'finance' && <UserFinanceTab userId={user.id} />}\r\n                \r\n                {activeTab === 'history' && <UserLoginHistoryTab userId={user.id} />}\r\n\r\n            </div>\r\n        </div>\r\n    </Modal>\r\n  );\r\n};\r\n"],"names":[],"mappings":";;;;;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AACA;AAEA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;AAUO,MAAM,mBAAmB,CAAC,EAAE,IAAI,EAAE,OAAO,EAAE,QAAQ,EAAE,UAAU,EAAyB;;IAC7F,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,yKAAQ,EAAC;IAC7C,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,yKAAQ,EAAC;IAC3C,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,yKAAQ,EAA8C;IAExF,+BAA+B;IAC/B,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAC;QACrC,WAAW,KAAK,SAAS;QACzB,UAAU,KAAK,QAAQ;QACvB,OAAO,KAAK,KAAK;QACjB,OAAO,KAAK,KAAK,IAAI;QACrB,UAAU,KAAK,QAAQ,IAAI;QAC3B,UAAU,KAAK,QAAQ,IAAI;QAC3B,MAAM,KAAK,IAAI;QACf,UAAU;IACd;IAEA,WAAW;IACX,MAAM,gBAAgB;QAClB,cAAc;QACd,WAAW;YACP,iJAAM,CAAC,2BAA2B,CAAC,KAAK,EAAE,EAAE;YAC5C,cAAc;YACd;QACJ,GAAG;IACP;IAEA,MAAM,gBAAgB;QAClB,MAAM,SAAS,KAAK,WAAW,GAAG,cAAc;QAChD,IAAI,CAAC,KAAK,WAAW,IAAI,CAAC,QAAQ,CAAC,yBAAyB,EAAE,OAAO,8CAA8C,CAAC,GAAG;QAEvH,cAAc;QACd,WAAW;YACP,iJAAM,CAAC,gBAAgB,CAAC,KAAK,EAAE,EAAE,CAAC,KAAK,WAAW;YAClD,cAAc;YACd;QACJ,GAAG;IACP;IAEA,MAAM,oBAAoB;QACtB,IAAG,CAAC,QAAQ,CAAC,SAAS,EAAE,KAAK,SAAS,CAAC,oDAAoD,CAAC,GAAG;QAE/F,MAAM,YAAY,iJAAM,CAAC,IAAI,CAAC,cAAc;QAC5C,IAAI,WAAW;YACX,iJAAM,CAAC,qBAAqB,CAAC,UAAU,EAAE,EAAE,KAAK,EAAE;QACtD;QAEA,MAAM,MAAM,iJAAM,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,KAAK;QAC5C,IAAI,IAAI,OAAO,EAAE;YACf;YACA,aAAa,WAAa,YAAY;QACxC,OAAO;YACL,MAAM;QACR;IACA;IAEA,MAAM,aAAa;QACf,cAAc;QACd,WAAW;YACP,qDAAqD;YACrD,MAAM,EAAE,QAAQ,EAAE,GAAG,YAAY,GAAG;YACpC,MAAM,eAAkC;gBAAE,GAAG,UAAU;YAAC;YACxD,+EAA+E;YAC/E,iJAAM,CAAC,eAAe,CAAC,KAAK,EAAE,EAAE;YAEhC,cAAc;YACd,aAAa;YACb;QACJ,GAAG;IACP;IAEA,MAAM,eAAe;QACjB,aAAa;QACb,kBAAkB;QAClB,YAAY;YACR,WAAW,KAAK,SAAS;YACzB,UAAU,KAAK,QAAQ;YACvB,OAAO,KAAK,KAAK;YACjB,OAAO,KAAK,KAAK,IAAI;YACrB,UAAU,KAAK,QAAQ,IAAI;YAC3B,UAAU,KAAK,QAAQ,IAAI;YAC3B,MAAM,KAAK,IAAI;YACf,UAAU;QACd;IACJ;IAEA,qBACE,6LAAC,sIAAK;QAAC,QAAQ;QAAM,SAAS;QAAS,MAAK;QAAM,iBAAiB;kBAE/D,cAAA,6LAAC;YAAI,WAAU;;8BAGX,6LAAC,uKAAW;oBACR,MAAM;oBACN,WAAW;oBACX,cAAc;oBACd,QAAQ;oBACR,UAAU;oBACV,YAAY;;;;;;8BAGhB,6LAAC;oBAAI,WAAU;;sCACX,6LAAC;4BAAI,WAAU;;8CACX,6LAAC,+KAAe;oCACZ,MAAM;oCACN,WAAW;oCACX,UAAU;oCACV,aAAa;;;;;;8CAGjB,6LAAC,2KAAa;oCACV,MAAM;oCACN,eAAe;oCACf,WAAW;oCACX,WAAW;oCACX,YAAY;;;;;;;;;;;;sCAKpB,6LAAC;4BAAI,WAAU;;8CACX,6LAAC;oCACG,SAAS,IAAM,aAAa;oCAC5B,WAAW,CAAC,mGAAmG,EAAE,cAAc,aAAa,sEAAsE,oGAAoG;;sDAEtT,6LAAC,6MAAI;4CAAC,MAAM;;;;;;wCAAM;;;;;;;8CAEtB,6LAAC;oCACG,SAAS,IAAM,aAAa;oCAC5B,WAAW,CAAC,mGAAmG,EAAE,cAAc,SAAS,sEAAsE,oGAAoG;;sDAElT,6LAAC,4NAAS;4CAAC,MAAM;;;;;;wCAAM;;;;;;;8CAE3B,6LAAC;oCACG,SAAS,IAAM,aAAa;oCAC5B,WAAW,CAAC,mGAAmG,EAAE,cAAc,YAAY,sEAAsE,oGAAoG;;sDAErT,6LAAC,mNAAM;4CAAC,MAAM;;;;;;wCAAM;;;;;;;8CAEvB,6LAAC;oCACE,SAAS,IAAM,aAAa;oCAC5B,WAAW,CAAC,mGAAmG,EAAE,cAAc,YAAY,sEAAsE,oGAAoG;;sDAErT,6LAAC,sNAAO;4CAAC,MAAM;;;;;;wCAAM;;;;;;;;;;;;;wBAI5B,cAAc,4BACX,6LAAC;4BAAI,WAAU;;8CACX,6LAAC,2KAAa;oCAAC,MAAM;;;;;;8CACrB,6LAAC;oCAAI,WAAU;;sDACX,6LAAC,6KAAc;4CACX,MAAM;4CACN,WAAW;4CACX,UAAU;4CACV,aAAa;;;;;;sDAGjB,6LAAC,uLAAmB;4CAChB,MAAM;4CACN,WAAW;4CACX,UAAU;4CACV,aAAa;;;;;;;;;;;;8CAGpB,6LAAC,+KAAe;oCACb,WAAW;oCACX,UAAU;oCACV,aAAa;;;;;;;;;;;;wBAKxB,cAAc,wBAAU,6LAAC,uKAAW;4BAAC,QAAQ,KAAK,EAAE;;;;;;wBAEpD,cAAc,2BAAa,6LAAC,6KAAc;4BAAC,QAAQ,KAAK,EAAE;;;;;;wBAE1D,cAAc,2BAAa,6LAAC,uLAAmB;4BAAC,QAAQ,KAAK,EAAE;;;;;;;;;;;;;;;;;;;;;;;AAMhF;GAvLa;KAAA"}},
    {"offset": {"line": 2516, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Khesh/Desktop/Jambo-linguists/components/admin/jobs/pdf/JobDetailsPDF.ts"],"sourcesContent":["\r\nimport { jsPDF } from \"jspdf\";\r\nimport { Job, mockDb } from \"@/data/mockDatabase\";\r\nimport { CONSTANTS, COLORS, getCompanyLogo, formatDateUK, formatCurrency } from \"../../../portal/dashboard/finance/pdf/PDFConfig\";\r\nimport { PDFHeader } from \"../../../portal/dashboard/finance/pdf/PDFHeader\";\r\nimport { PDFFooter } from \"../../../portal/dashboard/finance/pdf/PDFFooter\";\r\nimport { getInterpretingJobPayoutDetails } from \"../../../../portal/dashboard/jobs/job-helpers\";\r\n\r\nexport class JobDetailsPDF {\r\n  static async generate(job: Job) {\r\n    const doc = new jsPDF({ orientation: 'portrait', unit: 'mm', format: 'a4' });\r\n    const logoUrl = await getCompanyLogo();\r\n    const width = doc.internal.pageSize.getWidth();\r\n    const height = doc.internal.pageSize.getHeight();\r\n    const margin = CONSTANTS.MARGIN;\r\n    const footerHeight = 40; // Reserve space for footer at bottom\r\n\r\n    let y = margin;\r\n\r\n    // --- HEADER ---\r\n    const header = new PDFHeader(doc);\r\n    const meta = [\r\n      { label: 'Job Ref', value: job.id },\r\n      { label: 'Status', value: job.status },\r\n      { label: 'Created', value: formatDateUK(job.history.find(h => h.type === 'CREATED')?.date || new Date().toISOString()) }\r\n    ];\r\n    \r\n    let recipientUser = null;\r\n    if (job.clientId) {\r\n        recipientUser = mockDb.getAllUsers().find(u => u.id === job.clientId) || null;\r\n    } else if (job.linguistId) {\r\n        recipientUser = mockDb.getAllUsers().find(u => u.id === job.linguistId) || null;\r\n    }\r\n\r\n    y = header.render('JOB ORDER', recipientUser, meta, logoUrl, margin);\r\n\r\n    // --- MAIN TITLE & TAGS ---\r\n    y += 5; // Reduced from 10\r\n    \r\n    doc.setFont('helvetica', 'bold');\r\n    doc.setFontSize(16);\r\n    doc.setTextColor(COLORS.PRIMARY.r, COLORS.PRIMARY.g, COLORS.PRIMARY.b);\r\n    const titleLines = doc.splitTextToSize(job.title, width - (margin * 2));\r\n    doc.text(titleLines, margin, y);\r\n    y += (titleLines.length * 6);\r\n\r\n    doc.setFont('helvetica', 'bold');\r\n    doc.setFontSize(10);\r\n    doc.setTextColor(COLORS.ORANGE.r, COLORS.ORANGE.g, COLORS.ORANGE.b);\r\n    const tags = `${job.languagePair.toUpperCase()} • ${job.category.toUpperCase()} • ${job.type.toUpperCase()}`;\r\n    doc.text(tags, margin, y);\r\n    y += 8; // Reduced from 12\r\n\r\n    // --- PAGE BREAK HELPER ---\r\n    const checkPageBreak = (heightNeeded: number) => {\r\n        if (y + heightNeeded > height - footerHeight) {\r\n            doc.addPage();\r\n            y = margin + 10; // Add a small margin at top of new page\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n\r\n    // --- DRAW SECTION HELPER ---\r\n    const drawSection = (title: string, data: {label: string, value: string}[]) => {\r\n        // Pre-calculate height with tighter spacing\r\n        const rowHeight = 9; // Reduced from 12\r\n        const rowCount = Math.ceil(data.length / 2);\r\n        const estimatedHeight = 8 + (rowCount * rowHeight) + 4; // Reduced estimates\r\n\r\n        checkPageBreak(estimatedHeight);\r\n\r\n        // --- DRAWING ---\r\n        doc.setFont('helvetica', 'bold');\r\n        doc.setFontSize(10);\r\n        doc.setTextColor(COLORS.SLATE_900.r, COLORS.SLATE_900.g, COLORS.SLATE_900.b);\r\n        doc.text(title.toUpperCase(), margin, y);\r\n        \r\n        doc.setDrawColor(COLORS.SLATE_400.r, COLORS.SLATE_400.g, COLORS.SLATE_400.b);\r\n        doc.setLineWidth(0.1);\r\n        doc.line(margin, y + 2, width - margin, y + 2);\r\n        \r\n        y += 7; // Reduced from 8\r\n\r\n        const colWidth = (width - (margin * 2)) / 2;\r\n\r\n        data.forEach((item, i) => {\r\n            const isRight = i % 2 !== 0;\r\n            const x = isRight ? margin + colWidth : margin;\r\n            \r\n            // Label\r\n            doc.setFont('helvetica', 'bold');\r\n            doc.setFontSize(9);\r\n            doc.setTextColor(COLORS.SLATE_500.r, COLORS.SLATE_500.g, COLORS.SLATE_500.b);\r\n            doc.text(item.label, x, y);\r\n            \r\n            // Value\r\n            doc.setFont('helvetica', 'normal');\r\n            doc.setTextColor(COLORS.SLATE_900.r, COLORS.SLATE_900.g, COLORS.SLATE_900.b);\r\n            \r\n            const maxValWidth = colWidth - 5;\r\n            const valLines = doc.splitTextToSize(item.value || '-', maxValWidth);\r\n            doc.text(valLines, x, y + 4.5); // Tighter vertical alignment\r\n\r\n            if (isRight) {\r\n                // Move to next row\r\n                y += rowHeight; \r\n            }\r\n        });\r\n        \r\n        // If odd items, advance Y for next section manually\r\n        if (data.length % 2 !== 0) y += rowHeight;\r\n        y += 4; // Reduced section spacing\r\n    };\r\n\r\n    // --- LOGISTICS ---\r\n    drawSection('Logistics Details', [\r\n        { label: 'Assignment Date', value: formatDateUK(job.date) },\r\n        { label: 'Time', value: job.time || 'N/A' },\r\n        { label: 'Location', value: job.location },\r\n        { label: 'Duration', value: job.duration || 'N/A' },\r\n        { label: 'Urgency', value: job.isUrgent ? 'High Priority' : 'Standard' },\r\n        { label: 'Start / Deadline', value: job.deadlineTime || job.time || 'N/A' }\r\n    ]);\r\n\r\n    // --- FINANCIALS ---\r\n    drawSection('Financial Information', [\r\n        { label: 'Agreed Rate', value: job.rate },\r\n        { label: 'Est. Total Payout', value: job.totalPayout ? formatCurrency(job.totalPayout) : 'Calculated on completion' },\r\n        ...(job.hourlyRate ? [{ label: 'Hourly Rate', value: formatCurrency(job.hourlyRate) }] : []),\r\n        ...(job.travelRate ? [{ label: 'Travel Rate', value: formatCurrency(job.travelRate) }] : []),\r\n        ...(job.mileageRate ? [{ label: 'Mileage Rate', value: formatCurrency(job.mileageRate) }] : []),\r\n    ]);\r\n\r\n    // --- DESCRIPTION ---\r\n    // Calculate Description Height accurately with tighter box\r\n    doc.setFont('helvetica', 'normal');\r\n    doc.setFontSize(9);\r\n    const descLines = doc.splitTextToSize(job.description, width - (margin * 2) - 8);\r\n    const lineHeight = 4.5;\r\n    const boxPadding = 6;\r\n    const boxHeight = (descLines.length * lineHeight) + (boxPadding * 2);\r\n    \r\n    const headerHeight = 8; \r\n    const totalDescHeight = headerHeight + boxHeight + 8;\r\n\r\n    checkPageBreak(totalDescHeight);\r\n\r\n    // Draw Description Header\r\n    doc.setFont('helvetica', 'bold');\r\n    doc.setFontSize(10);\r\n    doc.setTextColor(COLORS.SLATE_900.r, COLORS.SLATE_900.g, COLORS.SLATE_900.b);\r\n    doc.text('INSTRUCTIONS / DESCRIPTION', margin, y);\r\n    doc.setDrawColor(COLORS.SLATE_400.r, COLORS.SLATE_400.g, COLORS.SLATE_400.b);\r\n    doc.line(margin, y + 2, width - margin, y + 2);\r\n    y += 6;\r\n\r\n    // Draw Box\r\n    doc.setFillColor(248, 250, 252);\r\n    doc.setDrawColor(226, 232, 240);\r\n    doc.rect(margin, y, width - (margin * 2), boxHeight, 'FD');\r\n    \r\n    doc.setFont('helvetica', 'normal');\r\n    doc.setFontSize(9);\r\n    doc.setTextColor(COLORS.SLATE_700.r, COLORS.SLATE_700.g, COLORS.SLATE_700.b);\r\n    doc.text(descLines, margin + 4, y + boxPadding + 1);\r\n    y += boxHeight + 8;\r\n\r\n    // --- ASSIGNMENT ---\r\n    if (job.linguistId) {\r\n        const linguist = mockDb.getAllUsers().find(u => u.id === job.linguistId);\r\n        if (linguist) {\r\n             drawSection('Assigned Linguist', [\r\n                { label: 'Name', value: `${linguist.firstName} ${linguist.lastName}` },\r\n                { label: 'Email', value: linguist.email },\r\n                { label: 'Phone', value: linguist.phone || 'N/A' },\r\n                { label: 'Qualifications', value: linguist.qualifications?.join(', ') || 'N/A' }\r\n            ]);\r\n        }\r\n    }\r\n\r\n    // --- FOOTERS (Apply to ALL pages) ---\r\n    const pageCount = doc.getNumberOfPages();\r\n    const footer = new PDFFooter(doc);\r\n    for (let i = 1; i <= pageCount; i++) {\r\n        doc.setPage(i);\r\n        const bottomY = height - 40;\r\n        footer.renderBottomInfo(null, `REF: ${job.id} • Page ${i} of ${pageCount}`, bottomY);\r\n    }\r\n\r\n    doc.save(`job-${job.id}-details.pdf`);\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;;AACA;AACA;AACA;AACA;AACA;;;;;;AAGO,MAAM;IACX,aAAa,SAAS,GAAQ,EAAE;QAC9B,MAAM,MAAM,IAAI,+JAAK,CAAC;YAAE,aAAa;YAAY,MAAM;YAAM,QAAQ;QAAK;QAC1E,MAAM,UAAU,MAAM,IAAA,qLAAc;QACpC,MAAM,QAAQ,IAAI,QAAQ,CAAC,QAAQ,CAAC,QAAQ;QAC5C,MAAM,SAAS,IAAI,QAAQ,CAAC,QAAQ,CAAC,SAAS;QAC9C,MAAM,SAAS,gLAAS,CAAC,MAAM;QAC/B,MAAM,eAAe,IAAI,qCAAqC;QAE9D,IAAI,IAAI;QAER,iBAAiB;QACjB,MAAM,SAAS,IAAI,gLAAS,CAAC;QAC7B,MAAM,OAAO;YACX;gBAAE,OAAO;gBAAW,OAAO,IAAI,EAAE;YAAC;YAClC;gBAAE,OAAO;gBAAU,OAAO,IAAI,MAAM;YAAC;YACrC;gBAAE,OAAO;gBAAW,OAAO,IAAA,mLAAY,EAAC,IAAI,OAAO,CAAC,IAAI,CAAC,CAAA,IAAK,EAAE,IAAI,KAAK,YAAY,QAAQ,IAAI,OAAO,WAAW;YAAI;SACxH;QAED,IAAI,gBAAgB;QACpB,IAAI,IAAI,QAAQ,EAAE;YACd,gBAAgB,iJAAM,CAAC,WAAW,GAAG,IAAI,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK,IAAI,QAAQ,KAAK;QAC7E,OAAO,IAAI,IAAI,UAAU,EAAE;YACvB,gBAAgB,iJAAM,CAAC,WAAW,GAAG,IAAI,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK,IAAI,UAAU,KAAK;QAC/E;QAEA,IAAI,OAAO,MAAM,CAAC,aAAa,eAAe,MAAM,SAAS;QAE7D,4BAA4B;QAC5B,KAAK,GAAG,kBAAkB;QAE1B,IAAI,OAAO,CAAC,aAAa;QACzB,IAAI,WAAW,CAAC;QAChB,IAAI,YAAY,CAAC,6KAAM,CAAC,OAAO,CAAC,CAAC,EAAE,6KAAM,CAAC,OAAO,CAAC,CAAC,EAAE,6KAAM,CAAC,OAAO,CAAC,CAAC;QACrE,MAAM,aAAa,IAAI,eAAe,CAAC,IAAI,KAAK,EAAE,QAAS,SAAS;QACpE,IAAI,IAAI,CAAC,YAAY,QAAQ;QAC7B,KAAM,WAAW,MAAM,GAAG;QAE1B,IAAI,OAAO,CAAC,aAAa;QACzB,IAAI,WAAW,CAAC;QAChB,IAAI,YAAY,CAAC,6KAAM,CAAC,MAAM,CAAC,CAAC,EAAE,6KAAM,CAAC,MAAM,CAAC,CAAC,EAAE,6KAAM,CAAC,MAAM,CAAC,CAAC;QAClE,MAAM,OAAO,GAAG,IAAI,YAAY,CAAC,WAAW,GAAG,GAAG,EAAE,IAAI,QAAQ,CAAC,WAAW,GAAG,GAAG,EAAE,IAAI,IAAI,CAAC,WAAW,IAAI;QAC5G,IAAI,IAAI,CAAC,MAAM,QAAQ;QACvB,KAAK,GAAG,kBAAkB;QAE1B,4BAA4B;QAC5B,MAAM,iBAAiB,CAAC;YACpB,IAAI,IAAI,eAAe,SAAS,cAAc;gBAC1C,IAAI,OAAO;gBACX,IAAI,SAAS,IAAI,wCAAwC;gBACzD,OAAO;YACX;YACA,OAAO;QACX;QAEA,8BAA8B;QAC9B,MAAM,cAAc,CAAC,OAAe;YAChC,4CAA4C;YAC5C,MAAM,YAAY,GAAG,kBAAkB;YACvC,MAAM,WAAW,KAAK,IAAI,CAAC,KAAK,MAAM,GAAG;YACzC,MAAM,kBAAkB,IAAK,WAAW,YAAa,GAAG,oBAAoB;YAE5E,eAAe;YAEf,kBAAkB;YAClB,IAAI,OAAO,CAAC,aAAa;YACzB,IAAI,WAAW,CAAC;YAChB,IAAI,YAAY,CAAC,6KAAM,CAAC,SAAS,CAAC,CAAC,EAAE,6KAAM,CAAC,SAAS,CAAC,CAAC,EAAE,6KAAM,CAAC,SAAS,CAAC,CAAC;YAC3E,IAAI,IAAI,CAAC,MAAM,WAAW,IAAI,QAAQ;YAEtC,IAAI,YAAY,CAAC,6KAAM,CAAC,SAAS,CAAC,CAAC,EAAE,6KAAM,CAAC,SAAS,CAAC,CAAC,EAAE,6KAAM,CAAC,SAAS,CAAC,CAAC;YAC3E,IAAI,YAAY,CAAC;YACjB,IAAI,IAAI,CAAC,QAAQ,IAAI,GAAG,QAAQ,QAAQ,IAAI;YAE5C,KAAK,GAAG,iBAAiB;YAEzB,MAAM,WAAW,CAAC,QAAS,SAAS,CAAE,IAAI;YAE1C,KAAK,OAAO,CAAC,CAAC,MAAM;gBAChB,MAAM,UAAU,IAAI,MAAM;gBAC1B,MAAM,IAAI,UAAU,SAAS,WAAW;gBAExC,QAAQ;gBACR,IAAI,OAAO,CAAC,aAAa;gBACzB,IAAI,WAAW,CAAC;gBAChB,IAAI,YAAY,CAAC,6KAAM,CAAC,SAAS,CAAC,CAAC,EAAE,6KAAM,CAAC,SAAS,CAAC,CAAC,EAAE,6KAAM,CAAC,SAAS,CAAC,CAAC;gBAC3E,IAAI,IAAI,CAAC,KAAK,KAAK,EAAE,GAAG;gBAExB,QAAQ;gBACR,IAAI,OAAO,CAAC,aAAa;gBACzB,IAAI,YAAY,CAAC,6KAAM,CAAC,SAAS,CAAC,CAAC,EAAE,6KAAM,CAAC,SAAS,CAAC,CAAC,EAAE,6KAAM,CAAC,SAAS,CAAC,CAAC;gBAE3E,MAAM,cAAc,WAAW;gBAC/B,MAAM,WAAW,IAAI,eAAe,CAAC,KAAK,KAAK,IAAI,KAAK;gBACxD,IAAI,IAAI,CAAC,UAAU,GAAG,IAAI,MAAM,6BAA6B;gBAE7D,IAAI,SAAS;oBACT,mBAAmB;oBACnB,KAAK;gBACT;YACJ;YAEA,oDAAoD;YACpD,IAAI,KAAK,MAAM,GAAG,MAAM,GAAG,KAAK;YAChC,KAAK,GAAG,0BAA0B;QACtC;QAEA,oBAAoB;QACpB,YAAY,qBAAqB;YAC7B;gBAAE,OAAO;gBAAmB,OAAO,IAAA,mLAAY,EAAC,IAAI,IAAI;YAAE;YAC1D;gBAAE,OAAO;gBAAQ,OAAO,IAAI,IAAI,IAAI;YAAM;YAC1C;gBAAE,OAAO;gBAAY,OAAO,IAAI,QAAQ;YAAC;YACzC;gBAAE,OAAO;gBAAY,OAAO,IAAI,QAAQ,IAAI;YAAM;YAClD;gBAAE,OAAO;gBAAW,OAAO,IAAI,QAAQ,GAAG,kBAAkB;YAAW;YACvE;gBAAE,OAAO;gBAAoB,OAAO,IAAI,YAAY,IAAI,IAAI,IAAI,IAAI;YAAM;SAC7E;QAED,qBAAqB;QACrB,YAAY,yBAAyB;YACjC;gBAAE,OAAO;gBAAe,OAAO,IAAI,IAAI;YAAC;YACxC;gBAAE,OAAO;gBAAqB,OAAO,IAAI,WAAW,GAAG,IAAA,qLAAc,EAAC,IAAI,WAAW,IAAI;YAA2B;eAChH,IAAI,UAAU,GAAG;gBAAC;oBAAE,OAAO;oBAAe,OAAO,IAAA,qLAAc,EAAC,IAAI,UAAU;gBAAE;aAAE,GAAG,EAAE;eACvF,IAAI,UAAU,GAAG;gBAAC;oBAAE,OAAO;oBAAe,OAAO,IAAA,qLAAc,EAAC,IAAI,UAAU;gBAAE;aAAE,GAAG,EAAE;eACvF,IAAI,WAAW,GAAG;gBAAC;oBAAE,OAAO;oBAAgB,OAAO,IAAA,qLAAc,EAAC,IAAI,WAAW;gBAAE;aAAE,GAAG,EAAE;SACjG;QAED,sBAAsB;QACtB,2DAA2D;QAC3D,IAAI,OAAO,CAAC,aAAa;QACzB,IAAI,WAAW,CAAC;QAChB,MAAM,YAAY,IAAI,eAAe,CAAC,IAAI,WAAW,EAAE,QAAS,SAAS,IAAK;QAC9E,MAAM,aAAa;QACnB,MAAM,aAAa;QACnB,MAAM,YAAY,AAAC,UAAU,MAAM,GAAG,aAAe,aAAa;QAElE,MAAM,eAAe;QACrB,MAAM,kBAAkB,eAAe,YAAY;QAEnD,eAAe;QAEf,0BAA0B;QAC1B,IAAI,OAAO,CAAC,aAAa;QACzB,IAAI,WAAW,CAAC;QAChB,IAAI,YAAY,CAAC,6KAAM,CAAC,SAAS,CAAC,CAAC,EAAE,6KAAM,CAAC,SAAS,CAAC,CAAC,EAAE,6KAAM,CAAC,SAAS,CAAC,CAAC;QAC3E,IAAI,IAAI,CAAC,8BAA8B,QAAQ;QAC/C,IAAI,YAAY,CAAC,6KAAM,CAAC,SAAS,CAAC,CAAC,EAAE,6KAAM,CAAC,SAAS,CAAC,CAAC,EAAE,6KAAM,CAAC,SAAS,CAAC,CAAC;QAC3E,IAAI,IAAI,CAAC,QAAQ,IAAI,GAAG,QAAQ,QAAQ,IAAI;QAC5C,KAAK;QAEL,WAAW;QACX,IAAI,YAAY,CAAC,KAAK,KAAK;QAC3B,IAAI,YAAY,CAAC,KAAK,KAAK;QAC3B,IAAI,IAAI,CAAC,QAAQ,GAAG,QAAS,SAAS,GAAI,WAAW;QAErD,IAAI,OAAO,CAAC,aAAa;QACzB,IAAI,WAAW,CAAC;QAChB,IAAI,YAAY,CAAC,6KAAM,CAAC,SAAS,CAAC,CAAC,EAAE,6KAAM,CAAC,SAAS,CAAC,CAAC,EAAE,6KAAM,CAAC,SAAS,CAAC,CAAC;QAC3E,IAAI,IAAI,CAAC,WAAW,SAAS,GAAG,IAAI,aAAa;QACjD,KAAK,YAAY;QAEjB,qBAAqB;QACrB,IAAI,IAAI,UAAU,EAAE;YAChB,MAAM,WAAW,iJAAM,CAAC,WAAW,GAAG,IAAI,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK,IAAI,UAAU;YACvE,IAAI,UAAU;gBACT,YAAY,qBAAqB;oBAC9B;wBAAE,OAAO;wBAAQ,OAAO,GAAG,SAAS,SAAS,CAAC,CAAC,EAAE,SAAS,QAAQ,EAAE;oBAAC;oBACrE;wBAAE,OAAO;wBAAS,OAAO,SAAS,KAAK;oBAAC;oBACxC;wBAAE,OAAO;wBAAS,OAAO,SAAS,KAAK,IAAI;oBAAM;oBACjD;wBAAE,OAAO;wBAAkB,OAAO,SAAS,cAAc,EAAE,KAAK,SAAS;oBAAM;iBAClF;YACL;QACJ;QAEA,uCAAuC;QACvC,MAAM,YAAY,IAAI,gBAAgB;QACtC,MAAM,SAAS,IAAI,gLAAS,CAAC;QAC7B,IAAK,IAAI,IAAI,GAAG,KAAK,WAAW,IAAK;YACjC,IAAI,OAAO,CAAC;YACZ,MAAM,UAAU,SAAS;YACzB,OAAO,gBAAgB,CAAC,MAAM,CAAC,KAAK,EAAE,IAAI,EAAE,CAAC,QAAQ,EAAE,EAAE,IAAI,EAAE,WAAW,EAAE;QAChF;QAEA,IAAI,IAAI,CAAC,CAAC,IAAI,EAAE,IAAI,EAAE,CAAC,YAAY,CAAC;IACtC;AACF"}},
    {"offset": {"line": 2755, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Khesh/Desktop/Jambo-linguists/components/admin/jobs/modal/JobHeader.tsx"],"sourcesContent":["\r\nimport React, { useState, useRef, useEffect } from 'react';\r\nimport { X, Printer, Loader2, MoreVertical, Edit, FileText } from 'lucide-react';\r\nimport { Job } from '@/data/types';\r\nimport { JobStatusBadge } from '../../../ui/JobStatusBadge';\r\nimport { JobDetailsPDF } from '../pdf/JobDetailsPDF';\r\n\r\ninterface JobHeaderProps {\r\n  job: Job;\r\n  onClose: () => void;\r\n  onEdit?: () => void;\r\n}\r\n\r\nexport const JobHeader = ({ job, onClose, onEdit }: JobHeaderProps) => {\r\n  const [isExporting, setIsExporting] = useState(false);\r\n  const [isMenuOpen, setIsMenuOpen] = useState(false);\r\n  const menuRef = useRef<HTMLDivElement>(null);\r\n\r\n  useEffect(() => {\r\n    const handleClickOutside = (event: MouseEvent) => {\r\n        if (menuRef.current && !menuRef.current.contains(event.target as Node)) {\r\n            setIsMenuOpen(false);\r\n        }\r\n    };\r\n    document.addEventListener(\"mousedown\", handleClickOutside);\r\n    return () => document.removeEventListener(\"mousedown\", handleClickOutside);\r\n  }, []);\r\n\r\n  const handleExportPDF = async () => {\r\n      setIsExporting(true);\r\n      try {\r\n          await JobDetailsPDF.generate(job);\r\n      } catch (e) {\r\n          console.error(\"Failed to generate Job PDF:\", e);\r\n          alert(\"Failed to generate PDF. Please try again.\");\r\n      } finally {\r\n          setIsExporting(false);\r\n      }\r\n  };\r\n\r\n  return (\r\n    <header className=\"p-4 sm:p-5 md:p-6 bg-white dark:bg-[#1a1625] border-b border-gray-200 dark:border-white/5 flex justify-between items-center shadow-sm z-10 shrink-0\">\r\n        <div className=\"min-w-0 pr-4\">\r\n            <h2 className=\"font-serif font-bold text-lg sm:text-xl md:text-2xl text-gray-900 dark:text-white truncate\">{job.title}</h2>\r\n            <div className=\"flex flex-wrap items-center gap-2 sm:gap-3 text-xs text-gray-500 mt-1\">\r\n                <span className=\"font-mono\">#{job.id}</span>\r\n                <span className=\"hidden xs:inline\">•</span>\r\n                <span>{job.category}</span>\r\n                <span className=\"hidden sm:inline\">•</span>\r\n                <JobStatusBadge status={job.status} className=\"scale-90 origin-left\" />\r\n            </div>\r\n        </div>\r\n        <div className=\"flex items-center gap-2 shrink-0\">\r\n            <button \r\n                onClick={handleExportPDF}\r\n                disabled={isExporting}\r\n                className=\"hidden sm:flex p-2 hover:bg-gray-100 dark:hover:bg-white/10 rounded-full text-gray-500 dark:text-gray-400 transition-colors disabled:opacity-50\"\r\n                title=\"Export PDF\"\r\n            >\r\n                {isExporting ? <Loader2 size={18} className=\"animate-spin\"/> : <Printer size={18} />}\r\n            </button>\r\n            \r\n            {/* Dropdown Menu */}\r\n            <div className=\"relative\" ref={menuRef}>\r\n                <button \r\n                    onClick={() => setIsMenuOpen(!isMenuOpen)}\r\n                    className=\"p-2 hover:bg-gray-100 dark:hover:bg-white/10 rounded-full text-gray-500 dark:text-gray-400\"\r\n                >\r\n                    <MoreVertical size={18} />\r\n                </button>\r\n                {isMenuOpen && (\r\n                    <div className=\"absolute right-0 top-full mt-2 w-48 bg-white dark:bg-[#2a2438] rounded-xl shadow-2xl border border-gray-200 dark:border-white/10 overflow-hidden animate-in fade-in zoom-in-95 duration-200 z-50\">\r\n                        {onEdit && (\r\n                            <button \r\n                                onClick={() => { onEdit(); setIsMenuOpen(false); }}\r\n                                className=\"w-full text-left px-4 py-3 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-white/5 flex items-center gap-2 font-medium\"\r\n                            >\r\n                                <Edit size={16} className=\"text-jambo-600 dark:text-jambo-400\" /> Edit Job Details\r\n                            </button>\r\n                        )}\r\n                        <button \r\n                            onClick={() => { handleExportPDF(); setIsMenuOpen(false); }}\r\n                            className=\"w-full text-left px-4 py-3 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-white/5 flex items-center gap-2 md:hidden\"\r\n                        >\r\n                            {isExporting ? <Loader2 size={16} className=\"animate-spin\"/> : <FileText size={16} />} \r\n                            Export PDF\r\n                        </button>\r\n                    </div>\r\n                )}\r\n            </div>\r\n\r\n            <button \r\n                onClick={onClose} \r\n                className=\"p-2 bg-gray-100 dark:bg-white/10 hover:bg-gray-200 dark:hover:bg-white/20 rounded-full text-gray-500 dark:text-gray-300 transition-colors\"\r\n            >\r\n                <X size={18} />\r\n            </button>\r\n        </div>\r\n    </header>\r\n  );\r\n};\r\n"],"names":[],"mappings":";;;;;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;;;;;;;AAQO,MAAM,YAAY,CAAC,EAAE,GAAG,EAAE,OAAO,EAAE,MAAM,EAAkB;;IAChE,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,yKAAQ,EAAC;IAC/C,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,yKAAQ,EAAC;IAC7C,MAAM,UAAU,IAAA,uKAAM,EAAiB;IAEvC,IAAA,0KAAS;+BAAC;YACR,MAAM;0DAAqB,CAAC;oBACxB,IAAI,QAAQ,OAAO,IAAI,CAAC,QAAQ,OAAO,CAAC,QAAQ,CAAC,MAAM,MAAM,GAAW;wBACpE,cAAc;oBAClB;gBACJ;;YACA,SAAS,gBAAgB,CAAC,aAAa;YACvC;uCAAO,IAAM,SAAS,mBAAmB,CAAC,aAAa;;QACzD;8BAAG,EAAE;IAEL,MAAM,kBAAkB;QACpB,eAAe;QACf,IAAI;YACA,MAAM,uKAAa,CAAC,QAAQ,CAAC;QACjC,EAAE,OAAO,GAAG;YACR,QAAQ,KAAK,CAAC,+BAA+B;YAC7C,MAAM;QACV,SAAU;YACN,eAAe;QACnB;IACJ;IAEA,qBACE,6LAAC;QAAO,WAAU;;0BACd,6LAAC;gBAAI,WAAU;;kCACX,6LAAC;wBAAG,WAAU;kCAA8F,IAAI,KAAK;;;;;;kCACrH,6LAAC;wBAAI,WAAU;;0CACX,6LAAC;gCAAK,WAAU;;oCAAY;oCAAE,IAAI,EAAE;;;;;;;0CACpC,6LAAC;gCAAK,WAAU;0CAAmB;;;;;;0CACnC,6LAAC;0CAAM,IAAI,QAAQ;;;;;;0CACnB,6LAAC;gCAAK,WAAU;0CAAmB;;;;;;0CACnC,6LAAC,wJAAc;gCAAC,QAAQ,IAAI,MAAM;gCAAE,WAAU;;;;;;;;;;;;;;;;;;0BAGtD,6LAAC;gBAAI,WAAU;;kCACX,6LAAC;wBACG,SAAS;wBACT,UAAU;wBACV,WAAU;wBACV,OAAM;kCAEL,4BAAc,6LAAC,+NAAO;4BAAC,MAAM;4BAAI,WAAU;;;;;qFAAmB,6LAAC,sNAAO;4BAAC,MAAM;;;;;;;;;;;kCAIlF,6LAAC;wBAAI,WAAU;wBAAW,KAAK;;0CAC3B,6LAAC;gCACG,SAAS,IAAM,cAAc,CAAC;gCAC9B,WAAU;0CAEV,cAAA,6LAAC,6OAAY;oCAAC,MAAM;;;;;;;;;;;4BAEvB,4BACG,6LAAC;gCAAI,WAAU;;oCACV,wBACG,6LAAC;wCACG,SAAS;4CAAQ;4CAAU,cAAc;wCAAQ;wCACjD,WAAU;;0DAEV,6LAAC,sNAAI;gDAAC,MAAM;gDAAI,WAAU;;;;;;4CAAuC;;;;;;;kDAGzE,6LAAC;wCACG,SAAS;4CAAQ;4CAAmB,cAAc;wCAAQ;wCAC1D,WAAU;;4CAET,4BAAc,6LAAC,+NAAO;gDAAC,MAAM;gDAAI,WAAU;;;;;yGAAmB,6LAAC,6NAAQ;gDAAC,MAAM;;;;;;4CAAO;;;;;;;;;;;;;;;;;;;kCAOtG,6LAAC;wBACG,SAAS;wBACT,WAAU;kCAEV,cAAA,6LAAC,oMAAC;4BAAC,MAAM;;;;;;;;;;;;;;;;;;;;;;;AAKzB;GAvFa;KAAA"}},
    {"offset": {"line": 3027, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Khesh/Desktop/Jambo-linguists/components/admin/jobs/modal/LinguistSelector.tsx"],"sourcesContent":["\r\nimport React, { useState, useEffect, useRef } from 'react';\r\nimport { User as UserType } from '@/data/types';\r\nimport { ChevronDown, Search, X } from 'lucide-react';\r\n\r\nexport const LinguistSelector = ({ allLinguists, currentLinguist, onSelect, disabled }: { allLinguists: UserType[], currentLinguist: UserType | null | undefined, onSelect: (userId: string | null) => void, disabled?: boolean }) => {\r\n    const [isOpen, setIsOpen] = useState(false);\r\n    const [searchTerm, setSearchTerm] = useState('');\r\n    const dropdownRef = useRef<HTMLDivElement>(null);\r\n\r\n    useEffect(() => {\r\n        const handleClickOutside = (event: MouseEvent) => {\r\n            if (dropdownRef.current && !dropdownRef.current.contains(event.target as Node)) {\r\n                setIsOpen(false);\r\n            }\r\n        };\r\n        document.addEventListener(\"mousedown\", handleClickOutside);\r\n        return () => {\r\n            document.removeEventListener(\"mousedown\", handleClickOutside);\r\n        };\r\n    }, []);\r\n\r\n    const filteredLinguists = allLinguists.filter(u =>\r\n        u.id !== currentLinguist?.id && (\r\n            `${u.firstName} ${u.lastName}`.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n            (u.location && u.location.toLowerCase().includes(searchTerm.toLowerCase()))\r\n        )\r\n    );\r\n\r\n    const handleSelect = (userId: string | null) => {\r\n        onSelect(userId);\r\n        setIsOpen(false);\r\n        setSearchTerm('');\r\n    };\r\n\r\n    const initials = (name: string) => name.split(' ').map(n => n[0]).join('');\r\n\r\n    return (\r\n        <div ref={dropdownRef} className=\"relative w-full\">\r\n            <button\r\n                type=\"button\"\r\n                onClick={() => !disabled && setIsOpen(!isOpen)}\r\n                disabled={disabled}\r\n                className={`w-full border rounded-lg p-2 text-sm flex items-center justify-between transition-all \r\n                    ${disabled \r\n                        ? 'bg-gray-100 dark:bg-white/5 border-gray-200 dark:border-white/10 text-gray-400 cursor-not-allowed' \r\n                        : 'bg-gray-50 dark:bg-white/5 border-gray-200 dark:border-white/10 text-gray-800 dark:text-white focus:outline-none focus:ring-2 focus:ring-jambo-600 hover:border-jambo-300'\r\n                    }`}\r\n            >\r\n                {currentLinguist ? (\r\n                    <div className={`flex items-center gap-2 ${disabled ? 'opacity-70' : ''}`}>\r\n                        <div className=\"w-6 h-6 rounded-full bg-jambo-100 dark:bg-jambo-900 text-jambo-700 dark:text-jambo-300 flex items-center justify-center text-[10px] font-bold overflow-hidden\">\r\n                            {currentLinguist.avatarUrl ? <img src={currentLinguist.avatarUrl} className=\"w-full h-full object-cover\"/> : initials(`${currentLinguist.firstName} ${currentLinguist.lastName}`)}\r\n                        </div>\r\n                        <span className=\"font-medium\">{currentLinguist.firstName} {currentLinguist.lastName}</span>\r\n                    </div>\r\n                ) : (\r\n                    <span className=\"text-gray-400\">Select a linguist...</span>\r\n                )}\r\n                {!disabled && <ChevronDown size={16} className={`text-gray-400 transition-transform ${isOpen ? 'rotate-180' : ''}`} />}\r\n            </button>\r\n            \r\n            {isOpen && !disabled && (\r\n                <div className=\"absolute top-full mt-2 w-full bg-white/90 dark:bg-[#2a2438]/90 backdrop-blur-md rounded-xl shadow-2xl border border-gray-200 dark:border-white/10 z-50 overflow-hidden animate-in fade-in slide-in-from-top-2 duration-200\">\r\n                    <div className=\"p-2 border-b border-gray-100 dark:border-white/10\">\r\n                        <div className=\"relative\">\r\n                            <Search size={16} className=\"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400\" />\r\n                            <input \r\n                                type=\"text\"\r\n                                placeholder=\"Search by name or location...\"\r\n                                value={searchTerm}\r\n                                autoFocus\r\n                                onChange={(e) => setSearchTerm(e.target.value)}\r\n                                className=\"w-full bg-gray-100 dark:bg-white/5 border-none rounded-md pl-9 pr-4 py-2 text-sm text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-jambo-500\"\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                    <ul className=\"max-h-60 overflow-y-auto custom-scrollbar p-2\">\r\n                        <li>\r\n                            <button onClick={() => handleSelect(null)} className=\"w-full flex items-center gap-2 px-3 py-2 rounded-md text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors\">\r\n                                <X size={16} /> Unassign / Clear\r\n                            </button>\r\n                        </li>\r\n                        {filteredLinguists.length > 0 ? filteredLinguists.map(u => (\r\n                            <li key={u.id}>\r\n                                <button onClick={() => handleSelect(u.id)} className=\"w-full flex items-center gap-3 px-3 py-2 rounded-md hover:bg-jambo-50 dark:hover:bg-jambo-900/30 transition-colors text-left\">\r\n                                    <div className=\"w-8 h-8 rounded-full bg-gray-200 dark:bg-white/10 flex items-center justify-center text-xs font-bold text-gray-500 overflow-hidden shrink-0\">\r\n                                        {u.avatarUrl ? <img src={u.avatarUrl} className=\"w-full h-full object-cover\"/> : initials(`${u.firstName} ${u.lastName}`)}\r\n                                    </div>\r\n                                    <div className=\"flex-1 min-w-0\">\r\n                                        <p className=\"font-bold text-gray-900 dark:text-white truncate\">{u.firstName} {u.lastName}</p>\r\n                                        <p className=\"text-xs text-gray-500 dark:text-gray-400 truncate\">{u.location}</p>\r\n                                    </div>\r\n                                </button>\r\n                            </li>\r\n                        )) : (\r\n                            <li className=\"px-3 py-4 text-center text-sm text-gray-400 dark:text-gray-500\">No linguists found.</li>\r\n                        )}\r\n                    </ul>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3300, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Khesh/Desktop/Jambo-linguists/components/admin/jobs/modal/JobOverview.tsx"],"sourcesContent":["\r\nimport React from 'react';\r\nimport { Calendar, MapPin, PoundSterling, Lock, FileText, Download, ExternalLink } from 'lucide-react';\r\nimport { Job } from '@/data/types';\r\nimport { JobStatusBadge } from '../../../ui/JobStatusBadge';\r\nimport { LinguistSelector } from './LinguistSelector';\r\nimport { User } from '@/data/types';\r\n\r\ninterface JobOverviewProps {\r\n  job: Job;\r\n  linguist: User | null | undefined;\r\n  allLinguists: User[];\r\n  isAssignmentLocked: boolean;\r\n  onAssign: (id: string | null) => void;\r\n  onViewProfile: (id: string) => void;\r\n}\r\n\r\nexport const JobOverview = ({ job, linguist, allLinguists, isAssignmentLocked, onAssign, onViewProfile }: JobOverviewProps) => {\r\n  \r\n  const renderFiles = () => (\r\n    job.attachments && job.attachments.length > 0 ? (\r\n        <div className=\"space-y-2\">\r\n            {job.attachments.map((file, idx) => (\r\n                <div key={idx} className=\"flex items-center justify-between p-2 rounded-lg bg-gray-50 dark:bg-white/5 border border-gray-100 dark:border-white/5 group\">\r\n                    <div className=\"flex items-center gap-2 overflow-hidden\">\r\n                        <div className=\"bg-white dark:bg-white/10 p-1.5 rounded text-jambo-600 dark:text-jambo-400\">\r\n                            <FileText size={14} />\r\n                        </div>\r\n                        <span className=\"text-xs font-bold text-gray-700 dark:text-gray-300 truncate\">{file.name}</span>\r\n                    </div>\r\n                    <a \r\n                        href={file.url} \r\n                        download={file.type === 'file'}\r\n                        target=\"_blank\"\r\n                        rel=\"noreferrer\"\r\n                        className=\"text-gray-400 hover:text-jambo-600 dark:hover:text-white transition-colors\"\r\n                        title={file.type === 'link' ? 'Open Link' : 'Download'}\r\n                    >\r\n                        {file.type === 'link' ? <ExternalLink size={14} /> : <Download size={14} />}\r\n                    </a>\r\n                </div>\r\n            ))}\r\n        </div>\r\n    ) : (\r\n        <p className=\"text-xs text-gray-400 italic\">No source files attached.</p>\r\n    )\r\n  );\r\n\r\n  return (\r\n    <div className=\"p-6 space-y-8\">\r\n        {/* Status */}\r\n        <div>\r\n            <span className=\"text-[10px] font-bold text-gray-400 uppercase tracking-wider block mb-2\">Job Status</span>\r\n            <JobStatusBadge status={job.status} />\r\n        </div>\r\n\r\n        {/* Linguist Assignment */}\r\n        <div>\r\n            <div className=\"flex items-center justify-between mb-3\">\r\n                <span className=\"text-[10px] font-bold text-gray-400 uppercase tracking-wider\">Assigned Linguist</span>\r\n                {isAssignmentLocked && <div title=\"Cannot reassign while pending review\"><Lock size={12} className=\"text-gray-400\" /></div>}\r\n            </div>\r\n            <LinguistSelector \r\n                allLinguists={allLinguists}\r\n                currentLinguist={linguist}\r\n                onSelect={onAssign}\r\n                disabled={isAssignmentLocked}\r\n            />\r\n            {isAssignmentLocked && (\r\n                <p className=\"text-[10px] text-gray-400 mt-2 italic bg-gray-50 dark:bg-white/5 p-2 rounded\">\r\n                    Reassignment is disabled for this status. Request a revision to unlock.\r\n                </p>\r\n            )}\r\n            {linguist && (\r\n                <div className=\"mt-2 flex justify-end\">\r\n                    <button \r\n                        className=\"text-[10px] font-bold text-jambo-600 dark:text-jambo-400 hover:underline\"\r\n                        onClick={() => onViewProfile(linguist.id)}\r\n                    >\r\n                        View Profile\r\n                    </button>\r\n                </div>\r\n            )}\r\n        </div>\r\n\r\n        <div className=\"h-px bg-gray-100 dark:bg-white/5\"></div>\r\n\r\n        {/* Details */}\r\n        <div className=\"space-y-4 text-sm\">\r\n            <div className=\"flex gap-3\">\r\n                <Calendar size={16} className=\"text-gray-400 shrink-0\" />\r\n                <div>\r\n                    <p className=\"font-bold text-gray-900 dark:text-white\">Date & Time</p>\r\n                    <p className=\"text-gray-500 dark:text-gray-400\">{new Date(job.date).toLocaleDateString()} at {job.time}</p>\r\n                </div>\r\n            </div>\r\n            <div className=\"flex gap-3\">\r\n                <MapPin size={16} className=\"text-gray-400 shrink-0\" />\r\n                <div>\r\n                    <p className=\"font-bold text-gray-900 dark:text-white\">Location</p>\r\n                    <p className=\"text-gray-500 dark:text-gray-400 leading-snug break-words\">{job.location}</p>\r\n                </div>\r\n            </div>\r\n            <div className=\"flex gap-3\">\r\n                <PoundSterling size={16} className=\"text-gray-400 shrink-0\" />\r\n                <div>\r\n                    <p className=\"font-bold text-gray-900 dark:text-white\">Rate</p>\r\n                    <p className=\"text-gray-500 dark:text-gray-400 font-mono\">{job.rate}</p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <div className=\"h-px bg-gray-100 dark:bg-white/5\"></div>\r\n\r\n        {/* Attachments */}\r\n        <div>\r\n            <span className=\"text-[10px] font-bold text-gray-400 uppercase tracking-wider block mb-3\">Job Files</span>\r\n            {renderFiles()}\r\n        </div>\r\n\r\n        <div className=\"h-px bg-gray-100 dark:bg-white/5\"></div>\r\n\r\n        <div>\r\n            <span className=\"text-[10px] font-bold text-gray-400 uppercase tracking-wider block mb-2\">Description</span>\r\n            <p className=\"text-sm text-gray-600 dark:text-gray-300 leading-relaxed\">{job.description}</p>\r\n        </div>\r\n    </div>\r\n  );\r\n};\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3713, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Khesh/Desktop/Jambo-linguists/components/admin/jobs/modal/LinguistAssignment.tsx"],"sourcesContent":["\r\nimport React from 'react';\r\nimport { Lock } from 'lucide-react';\r\nimport { LinguistSelector } from './LinguistSelector';\r\nimport { User } from '@/data/types';\r\n\r\ninterface LinguistAssignmentProps {\r\n  linguist: User | null | undefined;\r\n  allLinguists: User[];\r\n  isLocked: boolean;\r\n  onAssign: (id: string | null) => void;\r\n}\r\n\r\nexport const LinguistAssignment = ({ linguist, allLinguists, isLocked, onAssign }: LinguistAssignmentProps) => {\r\n  return (\r\n    <div className=\"space-y-1\">\r\n        <span className=\"text-xs font-bold uppercase text-gray-500 flex items-center gap-2\">\r\n            Assigned Linguist\r\n            {isLocked && <Lock size={12} className=\"text-gray-400\" />}\r\n        </span>\r\n        <LinguistSelector \r\n            allLinguists={allLinguists}\r\n            currentLinguist={linguist}\r\n            onSelect={onAssign}\r\n            disabled={isLocked}\r\n        />\r\n    </div>\r\n  );\r\n};\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;;;;AAUO,MAAM,qBAAqB,CAAC,EAAE,QAAQ,EAAE,YAAY,EAAE,QAAQ,EAAE,QAAQ,EAA2B;IACxG,qBACE,6LAAC;QAAI,WAAU;;0BACX,6LAAC;gBAAK,WAAU;;oBAAoE;oBAE/E,0BAAY,6LAAC,6MAAI;wBAAC,MAAM;wBAAI,WAAU;;;;;;;;;;;;0BAE3C,6LAAC,gLAAgB;gBACb,cAAc;gBACd,iBAAiB;gBACjB,UAAU;gBACV,UAAU;;;;;;;;;;;;AAItB;KAfa"}},
    {"offset": {"line": 3772, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Khesh/Desktop/Jambo-linguists/components/admin/jobs/view-modal/JobProcessStepper.tsx"],"sourcesContent":["\r\nimport React from 'react';\r\nimport { CheckCircle } from 'lucide-react';\r\n\r\nexport const JobProcessStepper = ({ status }: { status: string }) => {\r\n  const steps = [\r\n    { label: 'Open', index: 0 },\r\n    { label: 'Active', index: 1 },\r\n    { label: 'Review', index: 2 },\r\n    { label: 'Done', index: 3 }\r\n  ];\r\n\r\n  let currentStep = 0;\r\n  if (['Scheduled', 'In Progress'].includes(status)) currentStep = 1;\r\n  else if (['Pending Approval', 'Revision'].includes(status)) currentStep = 2;\r\n  else if (['Completed'].includes(status)) currentStep = 3;\r\n  else if (status === 'Cancelled') currentStep = -1;\r\n\r\n  return (\r\n    <div className=\"w-full max-w-2xl mx-auto px-1 mb-10\">\r\n      <div className=\"flex items-center justify-between\">\r\n        {steps.map((step, i) => {\r\n          const isCompleted = i < currentStep;\r\n          const isCurrent = i === currentStep;\r\n          const isLast = i === steps.length - 1;\r\n\r\n          return (\r\n            <React.Fragment key={i}>\r\n              <div className=\"relative flex flex-col items-center z-10\">\r\n                <div className={`\r\n                    w-10 h-10 md:w-12 md:h-12 rounded-full flex items-center justify-center border-2 transition-all duration-300\r\n                    ${isCompleted \r\n                        ? 'bg-jambo-600 border-jambo-600 text-white shadow-md' \r\n                        : isCurrent \r\n                            ? 'bg-white dark:bg-jambo-950 border-jambo-600 text-jambo-600 scale-110 shadow-[0_0_0_4px_rgba(132,27,160,0.15)] dark:shadow-[0_0_0_4px_rgba(132,27,160,0.3)]'\r\n                            : 'bg-white dark:bg-[#13111c] border-gray-200 dark:border-white/10 text-gray-300 dark:text-gray-600'\r\n                    }\r\n                `}>\r\n                    {isCompleted ? (\r\n                        <CheckCircle size={18} className=\"md:w-6 md:h-6\" strokeWidth={3} />\r\n                    ) : (\r\n                        <span className={`text-xs md:text-sm font-bold ${isCurrent ? 'animate-pulse' : ''}`}>{i + 1}</span>\r\n                    )}\r\n                </div>\r\n                \r\n                <div className={`\r\n                    absolute top-11 md:top-14 text-[9px] md:text-[10px] font-bold uppercase tracking-widest whitespace-nowrap transition-colors duration-300\r\n                    ${isCurrent || isCompleted ? 'text-jambo-700 dark:text-jambo-400 opacity-100' : 'text-gray-300 dark:text-gray-600'}\r\n                `}>\r\n                    {step.label}\r\n                </div>\r\n              </div>\r\n\r\n              {!isLast && (\r\n                  <div className=\"flex-1 mx-2 md:mx-4 h-[2px] bg-gray-100 dark:bg-white/10 rounded-full overflow-hidden relative\">\r\n                      <div className={`absolute left-0 top-0 bottom-0 bg-jambo-600 transition-all duration-700 ease-in-out ${isCompleted ? 'w-full' : 'w-0'}`}></div>\r\n                  </div>\r\n              )}\r\n            </React.Fragment>\r\n          );\r\n        })}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n"],"names":[],"mappings":";;;;;AACA;AACA;;;;AAEO,MAAM,oBAAoB,CAAC,EAAE,MAAM,EAAsB;IAC9D,MAAM,QAAQ;QACZ;YAAE,OAAO;YAAQ,OAAO;QAAE;QAC1B;YAAE,OAAO;YAAU,OAAO;QAAE;QAC5B;YAAE,OAAO;YAAU,OAAO;QAAE;QAC5B;YAAE,OAAO;YAAQ,OAAO;QAAE;KAC3B;IAED,IAAI,cAAc;IAClB,IAAI;QAAC;QAAa;KAAc,CAAC,QAAQ,CAAC,SAAS,cAAc;SAC5D,IAAI;QAAC;QAAoB;KAAW,CAAC,QAAQ,CAAC,SAAS,cAAc;SACrE,IAAI;QAAC;KAAY,CAAC,QAAQ,CAAC,SAAS,cAAc;SAClD,IAAI,WAAW,aAAa,cAAc,CAAC;IAEhD,qBACE,6LAAC;QAAI,WAAU;kBACb,cAAA,6LAAC;YAAI,WAAU;sBACZ,MAAM,GAAG,CAAC,CAAC,MAAM;gBAChB,MAAM,cAAc,IAAI;gBACxB,MAAM,YAAY,MAAM;gBACxB,MAAM,SAAS,MAAM,MAAM,MAAM,GAAG;gBAEpC,qBACE,6LAAC,wKAAK,CAAC,QAAQ;;sCACb,6LAAC;4BAAI,WAAU;;8CACb,6LAAC;oCAAI,WAAW,CAAC;;oBAEb,EAAE,cACI,uDACA,YACI,+JACA,mGACT;gBACL,CAAC;8CACI,4BACG,6LAAC,6OAAW;wCAAC,MAAM;wCAAI,WAAU;wCAAgB,aAAa;;;;;iGAE9D,6LAAC;wCAAK,WAAW,CAAC,6BAA6B,EAAE,YAAY,kBAAkB,IAAI;kDAAG,IAAI;;;;;;;;;;;8CAIlG,6LAAC;oCAAI,WAAW,CAAC;;oBAEb,EAAE,aAAa,cAAc,mDAAmD,mCAAmC;gBACvH,CAAC;8CACI,KAAK,KAAK;;;;;;;;;;;;wBAIhB,CAAC,wBACE,6LAAC;4BAAI,WAAU;sCACX,cAAA,6LAAC;gCAAI,WAAW,CAAC,oFAAoF,EAAE,cAAc,WAAW,OAAO;;;;;;;;;;;;mBA5B5H;;;;;YAiCzB;;;;;;;;;;;AAIR;KA5Da"}},
    {"offset": {"line": 3912, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Khesh/Desktop/Jambo-linguists/components/admin/jobs/view-modal/SubmissionDetails.tsx"],"sourcesContent":["\r\nimport React from 'react';\r\nimport { AlertCircle, Download, CheckCircle, FileText } from 'lucide-react';\r\nimport { Job } from '@/data/types';\r\nimport { Button } from '../../../ui/Button';\r\n\r\ninterface SubmissionDetailsProps {\r\n  job: Job;\r\n  onApprove: () => void;\r\n  onRequestRevision: () => void;\r\n  isLoading: boolean;\r\n  isRevisionMode: boolean;\r\n  children?: React.ReactNode; // For Revision Form injection\r\n}\r\n\r\nexport const SubmissionDetails = ({ job, onApprove, onRequestRevision, isLoading, isRevisionMode, children }: SubmissionDetailsProps) => {\r\n    if (!['Pending Approval'].includes(job.status)) return null;\r\n\r\n    return (\r\n        <div className=\"bg-white dark:bg-[#1a1625] border border-orange-200 dark:border-orange-900/50 rounded-xl p-4 md:p-6 shadow-sm ring-1 ring-orange-100 dark:ring-orange-900/30\">\r\n            <div className=\"flex items-start gap-3 mb-4\">\r\n                <div className=\"p-2 bg-orange-100 dark:bg-orange-900/40 text-orange-600 dark:text-orange-400 rounded-lg shrink-0\">\r\n                    <AlertCircle size={20} />\r\n                </div>\r\n                <div>\r\n                    <h3 className=\"font-bold text-gray-900 dark:text-white\">Review Submission</h3>\r\n                    <p className=\"text-sm text-gray-500 dark:text-gray-400 mt-1\">Linguist has submitted work.</p>\r\n                </div>\r\n            </div>\r\n            \r\n            <div className=\"bg-gray-50 dark:bg-white/5 p-4 rounded-lg border border-gray-100 dark:border-white/5 mb-4 text-sm text-gray-700 dark:text-gray-300 break-words\">\r\n                <span className=\"font-bold block mb-1 text-xs uppercase text-gray-400\">Linguist Note:</span>\r\n                \"{job.completionNotes || 'No notes provided.'}\"\r\n                {job.completionFile && (\r\n                    <div className=\"mt-2 flex items-center gap-2 font-bold text-blue-600 dark:text-blue-400 cursor-pointer hover:underline\">\r\n                        <Download size={14} /> <span className=\"truncate\">{job.completionFile}</span>\r\n                    </div>\r\n                )}\r\n            </div>\r\n\r\n            {!isRevisionMode ? (\r\n                <div className=\"flex flex-col sm:flex-row gap-3 mt-4\">\r\n                    <Button \r\n                        variant=\"danger\" \r\n                        onClick={onRequestRevision} \r\n                        className=\"flex-1\"\r\n                    >\r\n                        Request Revision\r\n                    </Button>\r\n                    <Button \r\n                        variant=\"primary\" \r\n                        onClick={onApprove} \r\n                        isLoading={isLoading} \r\n                        className=\"flex-[2] bg-green-600 hover:bg-green-700\"\r\n                    >\r\n                        <CheckCircle size={16} /> Approve & Pay\r\n                    </Button>\r\n                </div>\r\n            ) : (\r\n                children\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n"],"names":[],"mappings":";;;;;AAEA;AAAA;AAAA;AAEA;;;;AAWO,MAAM,oBAAoB,CAAC,EAAE,GAAG,EAAE,SAAS,EAAE,iBAAiB,EAAE,SAAS,EAAE,cAAc,EAAE,QAAQ,EAA0B;IAChI,IAAI,CAAC;QAAC;KAAmB,CAAC,QAAQ,CAAC,IAAI,MAAM,GAAG,OAAO;IAEvD,qBACI,6LAAC;QAAI,WAAU;;0BACX,6LAAC;gBAAI,WAAU;;kCACX,6LAAC;wBAAI,WAAU;kCACX,cAAA,6LAAC,sOAAW;4BAAC,MAAM;;;;;;;;;;;kCAEvB,6LAAC;;0CACG,6LAAC;gCAAG,WAAU;0CAA0C;;;;;;0CACxD,6LAAC;gCAAE,WAAU;0CAAgD;;;;;;;;;;;;;;;;;;0BAIrE,6LAAC;gBAAI,WAAU;;kCACX,6LAAC;wBAAK,WAAU;kCAAuD;;;;;;oBAAqB;oBAC1F,IAAI,eAAe,IAAI;oBAAqB;oBAC7C,IAAI,cAAc,kBACf,6LAAC;wBAAI,WAAU;;0CACX,6LAAC,yNAAQ;gCAAC,MAAM;;;;;;4BAAM;0CAAC,6LAAC;gCAAK,WAAU;0CAAY,IAAI,cAAc;;;;;;;;;;;;;;;;;;YAKhF,CAAC,+BACE,6LAAC;gBAAI,WAAU;;kCACX,6LAAC,wIAAM;wBACH,SAAQ;wBACR,SAAS;wBACT,WAAU;kCACb;;;;;;kCAGD,6LAAC,wIAAM;wBACH,SAAQ;wBACR,SAAS;wBACT,WAAW;wBACX,WAAU;;0CAEV,6LAAC,6OAAW;gCAAC,MAAM;;;;;;4BAAM;;;;;;;;;;;;2DAIjC;;;;;;;AAIhB;KAhDa"}},
    {"offset": {"line": 4079, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Khesh/Desktop/Jambo-linguists/components/admin/jobs/view-modal/RevisionRequestForm.tsx"],"sourcesContent":["\r\nimport React, { useState } from 'react';\r\nimport { Send, Paperclip, X } from 'lucide-react';\r\nimport { Button } from '../../../ui/Button';\r\n\r\ninterface RevisionRequestFormProps {\r\n  onCancel: () => void;\r\n  onSubmit: (feedback: string, file: File | null) => void;\r\n  isLoading: boolean;\r\n}\r\n\r\nexport const RevisionRequestForm = ({ onCancel, onSubmit, isLoading }: RevisionRequestFormProps) => {\r\n  const [feedback, setFeedback] = useState('');\r\n  const [revisionFile, setRevisionFile] = useState<File | null>(null);\r\n\r\n  const handleSubmit = () => {\r\n      onSubmit(feedback, revisionFile);\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-3 mt-4 bg-orange-50 dark:bg-orange-900/10 p-4 rounded-lg border border-orange-100 dark:border-orange-800 animate-in fade-in slide-in-from-top-2\">\r\n        <h4 className=\"text-xs font-bold text-orange-800 dark:text-orange-200 uppercase\">Revision Details</h4>\r\n        <textarea \r\n            className=\"w-full p-3 border border-gray-200 dark:border-white/10 rounded-lg text-sm focus:ring-2 focus:ring-orange-500 outline-none bg-white dark:bg-black/20 text-gray-900 dark:text-white\"\r\n            placeholder=\"Enter feedback for revision...\"\r\n            rows={3}\r\n            value={feedback}\r\n            onChange={(e) => setFeedback(e.target.value)}\r\n        ></textarea>\r\n        \r\n        <div className=\"flex items-center gap-2\">\r\n            <label className=\"flex items-center gap-2 text-xs font-bold text-gray-500 dark:text-gray-400 cursor-pointer hover:text-orange-600 transition-colors bg-white dark:bg-white/5 border border-gray-200 dark:border-white/10 px-3 py-2 rounded-lg\">\r\n                <Paperclip size={14} />\r\n                <span className=\"truncate max-w-[150px]\">{revisionFile ? revisionFile.name : \"Attach Markup (Optional)\"}</span>\r\n                <input type=\"file\" className=\"hidden\" onChange={(e) => setRevisionFile(e.target.files?.[0] || null)} />\r\n            </label>\r\n            {revisionFile && <button onClick={() => setRevisionFile(null)} className=\"text-red-500 hover:text-red-600\"><X size={14}/></button>}\r\n        </div>\r\n\r\n        <div className=\"flex gap-3 pt-2\">\r\n            <Button variant=\"secondary\" onClick={onCancel} className=\"flex-1\">\r\n                Cancel\r\n            </Button>\r\n            <Button \r\n                variant=\"danger\" \r\n                onClick={handleSubmit} \r\n                isLoading={isLoading} \r\n                disabled={!feedback}\r\n                className=\"flex-1\"\r\n            >\r\n                <Send size={14} /> Send\r\n            </Button>\r\n        </div>\r\n    </div>\r\n  );\r\n};\r\n"],"names":[],"mappings":";;;;;AACA;AACA;AAAA;AAAA;AACA;;;;;;AAQO,MAAM,sBAAsB,CAAC,EAAE,QAAQ,EAAE,QAAQ,EAAE,SAAS,EAA4B;;IAC7F,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAC;IACzC,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,yKAAQ,EAAc;IAE9D,MAAM,eAAe;QACjB,SAAS,UAAU;IACvB;IAEA,qBACE,6LAAC;QAAI,WAAU;;0BACX,6LAAC;gBAAG,WAAU;0BAAmE;;;;;;0BACjF,6LAAC;gBACG,WAAU;gBACV,aAAY;gBACZ,MAAM;gBACN,OAAO;gBACP,UAAU,CAAC,IAAM,YAAY,EAAE,MAAM,CAAC,KAAK;;;;;;0BAG/C,6LAAC;gBAAI,WAAU;;kCACX,6LAAC;wBAAM,WAAU;;0CACb,6LAAC,4NAAS;gCAAC,MAAM;;;;;;0CACjB,6LAAC;gCAAK,WAAU;0CAA0B,eAAe,aAAa,IAAI,GAAG;;;;;;0CAC7E,6LAAC;gCAAM,MAAK;gCAAO,WAAU;gCAAS,UAAU,CAAC,IAAM,gBAAgB,EAAE,MAAM,CAAC,KAAK,EAAE,CAAC,EAAE,IAAI;;;;;;;;;;;;oBAEjG,8BAAgB,6LAAC;wBAAO,SAAS,IAAM,gBAAgB;wBAAO,WAAU;kCAAkC,cAAA,6LAAC,oMAAC;4BAAC,MAAM;;;;;;;;;;;;;;;;;0BAGxH,6LAAC;gBAAI,WAAU;;kCACX,6LAAC,wIAAM;wBAAC,SAAQ;wBAAY,SAAS;wBAAU,WAAU;kCAAS;;;;;;kCAGlE,6LAAC,wIAAM;wBACH,SAAQ;wBACR,SAAS;wBACT,WAAW;wBACX,UAAU,CAAC;wBACX,WAAU;;0CAEV,6LAAC,6MAAI;gCAAC,MAAM;;;;;;4BAAM;;;;;;;;;;;;;;;;;;;AAKlC;GA5Ca;KAAA"}},
    {"offset": {"line": 4238, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Khesh/Desktop/Jambo-linguists/components/admin/jobs/view-modal/PaymentBanner.tsx"],"sourcesContent":["\r\n\r\nimport React from 'react';\r\nimport { CheckCircle, Clock } from 'lucide-react';\r\nimport { Invoice } from '@/data/types';\r\n\r\ninterface PaymentBannerProps {\r\n    existingInvoice: Invoice | undefined;\r\n    onReview: () => void;\r\n}\r\n\r\nexport const PaymentBanner = ({ existingInvoice, onReview }: PaymentBannerProps) => {\r\n    if (!existingInvoice) return null;\r\n    \r\n    const isPaid = existingInvoice.status === 'Paid';\r\n\r\n    return (\r\n        <div className={`border rounded-xl p-4 flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3 mb-6 animate-in fade-in duration-300 ${isPaid ? 'bg-green-50 border-green-200 dark:bg-green-900/20 dark:border-green-800' : 'bg-orange-50 border-orange-200 dark:bg-orange-900/20 dark:border-orange-800'}`}>\r\n            <div className=\"flex items-center gap-3\">\r\n                <div className={`p-2 rounded-full ${isPaid ? 'bg-green-100 text-green-600' : 'bg-orange-100 text-orange-600'}`}>\r\n                    {isPaid ? <CheckCircle size={20}/> : <Clock size={20}/>}\r\n                </div>\r\n                <div>\r\n                    <h4 className={`font-bold text-sm ${isPaid ? 'text-green-800 dark:text-green-200' : 'text-orange-800 dark:text-orange-200'}`}>\r\n                        {isPaid ? 'Payment Complete' : 'Payment Pending'}\r\n                    </h4>\r\n                    <p className={`text-xs opacity-80 ${isPaid ? 'text-green-700 dark:text-green-300' : 'text-orange-700 dark:text-orange-300'}`}>\r\n                        {`Invoice #${existingInvoice.reference}`}\r\n                    </p>\r\n                </div>\r\n            </div>\r\n            <button \r\n                onClick={onReview}\r\n                className={`w-full sm:w-auto text-xs font-bold px-4 py-2 rounded-lg shadow-sm hover:opacity-80 transition-opacity border ${isPaid ? 'bg-white text-green-700 border-green-200' : 'bg-white text-orange-700 border-orange-200'}`}\r\n            >\r\n                {isPaid ? 'View Receipt' : 'Review & Pay'}\r\n            </button>\r\n        </div>\r\n    );\r\n};\r\n"],"names":[],"mappings":";;;;;AAGA;AAAA;;;AAQO,MAAM,gBAAgB,CAAC,EAAE,eAAe,EAAE,QAAQ,EAAsB;IAC3E,IAAI,CAAC,iBAAiB,OAAO;IAE7B,MAAM,SAAS,gBAAgB,MAAM,KAAK;IAE1C,qBACI,6LAAC;QAAI,WAAW,CAAC,uIAAuI,EAAE,SAAS,4EAA4E,+EAA+E;;0BAC1T,6LAAC;gBAAI,WAAU;;kCACX,6LAAC;wBAAI,WAAW,CAAC,iBAAiB,EAAE,SAAS,gCAAgC,iCAAiC;kCACzG,uBAAS,6LAAC,6OAAW;4BAAC,MAAM;;;;;qFAAQ,6LAAC,gNAAK;4BAAC,MAAM;;;;;;;;;;;kCAEtD,6LAAC;;0CACG,6LAAC;gCAAG,WAAW,CAAC,kBAAkB,EAAE,SAAS,uCAAuC,wCAAwC;0CACvH,SAAS,qBAAqB;;;;;;0CAEnC,6LAAC;gCAAE,WAAW,CAAC,mBAAmB,EAAE,SAAS,uCAAuC,wCAAwC;0CACvH,CAAC,SAAS,EAAE,gBAAgB,SAAS,EAAE;;;;;;;;;;;;;;;;;;0BAIpD,6LAAC;gBACG,SAAS;gBACT,WAAW,CAAC,6GAA6G,EAAE,SAAS,6CAA6C,8CAA8C;0BAE9N,SAAS,iBAAiB;;;;;;;;;;;;AAI3C;KA5Ba"}},
    {"offset": {"line": 4332, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Khesh/Desktop/Jambo-linguists/components/admin/jobs/add-job/Fieldset.tsx"],"sourcesContent":["\r\nimport React from 'react';\r\n\r\nexport const Fieldset: React.FC<{ title: string; icon: any; children: React.ReactNode }> = ({ title, icon: Icon, children }) => (\r\n    <fieldset className=\"border border-gray-200 dark:border-white/10 rounded-xl p-4 pt-2\">\r\n        <legend className=\"px-2 text-xs font-bold text-jambo-600 dark:text-jambo-400 uppercase tracking-widest flex items-center gap-2\">\r\n            <Icon size={14} /> {title}\r\n        </legend>\r\n        <div className=\"space-y-4 pt-2\">{children}</div>\r\n    </fieldset>\r\n);\r\n"],"names":[],"mappings":";;;;;;AAGO,MAAM,WAA8E,CAAC,EAAE,KAAK,EAAE,MAAM,IAAI,EAAE,QAAQ,EAAE,iBACvH,6LAAC;QAAS,WAAU;;0BAChB,6LAAC;gBAAO,WAAU;;kCACd,6LAAC;wBAAK,MAAM;;;;;;oBAAM;oBAAE;;;;;;;0BAExB,6LAAC;gBAAI,WAAU;0BAAkB;;;;;;;;;;;;KAL5B"}},
    {"offset": {"line": 4383, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Khesh/Desktop/Jambo-linguists/components/admin/jobs/add-job/LabeledInput.tsx"],"sourcesContent":["\r\nimport React from 'react';\r\n\r\nexport const LabeledInput: React.FC<{ label: string; name?: string; value?: any; onChange?: any; required?: boolean; children: React.ReactNode }> = ({ label, required, children }) => (\r\n    <div>\r\n        <label className=\"text-xs font-bold text-gray-500 dark:text-gray-400 uppercase tracking-wide\">\r\n            {label} {required && <span className=\"text-red-500\">*</span>}\r\n        </label>\r\n        <div className=\"mt-1.5\">{children}</div>\r\n    </div>\r\n);\r\n"],"names":[],"mappings":";;;;;;AAGO,MAAM,eAAuI,CAAC,EAAE,KAAK,EAAE,QAAQ,EAAE,QAAQ,EAAE,iBAC9K,6LAAC;;0BACG,6LAAC;gBAAM,WAAU;;oBACZ;oBAAM;oBAAE,0BAAY,6LAAC;wBAAK,WAAU;kCAAe;;;;;;;;;;;;0BAExD,6LAAC;gBAAI,WAAU;0BAAU;;;;;;;;;;;;KALpB"}},
    {"offset": {"line": 4434, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Khesh/Desktop/Jambo-linguists/components/admin/jobs/modal/CustomSelect.tsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport { ChevronDown } from 'lucide-react';\r\n\r\ninterface CustomSelectOption {\r\n    value: string;\r\n    label: string;\r\n}\r\n\r\ninterface CustomSelectProps {\r\n    options: CustomSelectOption[];\r\n    value: string;\r\n    onChange: (value: string) => void;\r\n    placeholder?: string;\r\n}\r\n\r\nexport const CustomSelect = ({ options, value, onChange, placeholder = \"Select an option\" }: CustomSelectProps) => {\r\n    const [isOpen, setIsOpen] = useState(false);\r\n    const dropdownRef = useRef<HTMLDivElement>(null);\r\n    const selectedLabel = options.find(opt => opt.value === value)?.label || placeholder;\r\n\r\n    useEffect(() => {\r\n        const handleClickOutside = (event: MouseEvent) => {\r\n            if (dropdownRef.current && !dropdownRef.current.contains(event.target as Node)) {\r\n                setIsOpen(false);\r\n            }\r\n        };\r\n        document.addEventListener(\"mousedown\", handleClickOutside);\r\n        return () => {\r\n            document.removeEventListener(\"mousedown\", handleClickOutside);\r\n        };\r\n    }, []);\r\n\r\n    const handleSelect = (newValue: string) => {\r\n        onChange(newValue);\r\n        setIsOpen(false);\r\n    };\r\n\r\n    return (\r\n        <div ref={dropdownRef} className=\"relative w-full\">\r\n            <button\r\n                type=\"button\"\r\n                onClick={() => setIsOpen(!isOpen)}\r\n                className=\"w-full bg-gray-50 dark:bg-white/5 border border-gray-200 dark:border-white/10 rounded-lg px-4 py-2.5 text-sm dark:text-white focus:ring-2 focus:ring-jambo-500 outline-none flex items-center justify-between text-left\"\r\n            >\r\n                <span className=\"font-medium text-gray-800 dark:text-white\">{selectedLabel}</span>\r\n                <ChevronDown size={16} className={`text-gray-400 transition-transform ${isOpen ? 'rotate-180' : ''}`} />\r\n            </button>\r\n            {isOpen && (\r\n                <div className=\"absolute top-full mt-2 w-full bg-white/95 dark:bg-[#2a2438]/95 backdrop-blur-md rounded-xl shadow-2xl border border-gray-200 dark:border-white/10 z-50 overflow-hidden animate-in fade-in slide-in-from-top-2 duration-200\">\r\n                    <ul className=\"max-h-60 overflow-y-auto custom-scrollbar p-2\">\r\n                        {options.map(opt => (\r\n                            <li key={opt.value}>\r\n                                <button\r\n                                    onClick={() => handleSelect(opt.value)}\r\n                                    className={`w-full text-left px-3 py-2 rounded-md text-sm transition-colors ${\r\n                                        value === opt.value\r\n                                            ? 'font-bold bg-jambo-50 dark:bg-jambo-900/30 text-jambo-700 dark:text-jambo-300'\r\n                                            : 'text-gray-800 dark:text-gray-200 hover:bg-jambo-50/50 dark:hover:bg-jambo-900/20'\r\n                                    }`}\r\n                                >\r\n                                    {opt.label}\r\n                                </button>\r\n                            </li>\r\n                        ))}\r\n                    </ul>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;;;AAcO,MAAM,eAAe,CAAC,EAAE,OAAO,EAAE,KAAK,EAAE,QAAQ,EAAE,cAAc,kBAAkB,EAAqB;;IAC1G,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,yKAAQ,EAAC;IACrC,MAAM,cAAc,IAAA,uKAAM,EAAiB;IAC3C,MAAM,gBAAgB,QAAQ,IAAI,CAAC,CAAA,MAAO,IAAI,KAAK,KAAK,QAAQ,SAAS;IAEzE,IAAA,0KAAS;kCAAC;YACN,MAAM;6DAAqB,CAAC;oBACxB,IAAI,YAAY,OAAO,IAAI,CAAC,YAAY,OAAO,CAAC,QAAQ,CAAC,MAAM,MAAM,GAAW;wBAC5E,UAAU;oBACd;gBACJ;;YACA,SAAS,gBAAgB,CAAC,aAAa;YACvC;0CAAO;oBACH,SAAS,mBAAmB,CAAC,aAAa;gBAC9C;;QACJ;iCAAG,EAAE;IAEL,MAAM,eAAe,CAAC;QAClB,SAAS;QACT,UAAU;IACd;IAEA,qBACI,6LAAC;QAAI,KAAK;QAAa,WAAU;;0BAC7B,6LAAC;gBACG,MAAK;gBACL,SAAS,IAAM,UAAU,CAAC;gBAC1B,WAAU;;kCAEV,6LAAC;wBAAK,WAAU;kCAA6C;;;;;;kCAC7D,6LAAC,sOAAW;wBAAC,MAAM;wBAAI,WAAW,CAAC,mCAAmC,EAAE,SAAS,eAAe,IAAI;;;;;;;;;;;;YAEvG,wBACG,6LAAC;gBAAI,WAAU;0BACX,cAAA,6LAAC;oBAAG,WAAU;8BACT,QAAQ,GAAG,CAAC,CAAA,oBACT,6LAAC;sCACG,cAAA,6LAAC;gCACG,SAAS,IAAM,aAAa,IAAI,KAAK;gCACrC,WAAW,CAAC,gEAAgE,EACxE,UAAU,IAAI,KAAK,GACb,kFACA,oFACR;0CAED,IAAI,KAAK;;;;;;2BATT,IAAI,KAAK;;;;;;;;;;;;;;;;;;;;;AAkB9C;GAtDa;KAAA"}},
    {"offset": {"line": 4549, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Khesh/Desktop/Jambo-linguists/components/admin/jobs/add-job/CoreDetailsForm.tsx"],"sourcesContent":["\r\nimport React from 'react';\r\nimport { JobCategory, JobType } from '@/data/types';\r\nimport { LabeledInput } from './LabeledInput';\r\nimport { CustomSelect } from '../modal/CustomSelect';\r\n\r\ninterface CoreDetailsFormProps {\r\n    formData: any;\r\n    setFormData: (fn: (prev: any) => any) => void;\r\n    handleInputChange: (e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>) => void;\r\n}\r\n\r\nconst categoryTypes: Record<JobCategory, JobType[]> = {\r\n    'Interpreting': ['Face-to-Face', 'Video', 'Telephone'],\r\n    'Translation': ['Document'],\r\n    'Transcription': ['Audio/Video'],\r\n};\r\n\r\nexport const CoreDetailsForm = ({ formData, setFormData, handleInputChange }: CoreDetailsFormProps) => {\r\n    const categoryOptions = Object.keys(categoryTypes).map(cat => ({ value: cat, label: cat }));\r\n    \r\n    // Ensure type options are available for the current category\r\n    const currentCategory = formData.category as JobCategory;\r\n    const typeOptions = categoryTypes[currentCategory] ? categoryTypes[currentCategory].map(type => ({ value: type, label: type })) : [];\r\n    \r\n    return (\r\n        <>\r\n            <LabeledInput label=\"Job Title\" required>\r\n                <input name=\"title\" value={formData.title} onChange={handleInputChange} placeholder=\"e.g., Medical Consultation Interpreting\" required className=\"w-full bg-gray-50 dark:bg-white/5 border border-gray-200 dark:border-white/10 rounded-lg px-4 py-2.5 text-sm dark:text-white focus:ring-2 focus:ring-jambo-500 outline-none\" />\r\n            </LabeledInput>\r\n            <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\r\n                <LabeledInput label=\"Category\" required>\r\n                    <CustomSelect options={categoryOptions} value={formData.category!} onChange={(val) => setFormData(p => ({...p, category: val as JobCategory}))} />\r\n                </LabeledInput>\r\n                <LabeledInput label=\"Type\" required>\r\n                    <CustomSelect options={typeOptions} value={formData.type!} onChange={(val) => setFormData(p => ({...p, type: val as JobType}))} />\r\n                </LabeledInput>\r\n            </div>\r\n            <LabeledInput label=\"Language Pair\" required>\r\n                <input name=\"languagePair\" value={formData.languagePair} onChange={handleInputChange} placeholder=\"e.g., English <> Swahili\" required className=\"w-full bg-gray-50 dark:bg-white/5 border border-gray-200 dark:border-white/10 rounded-lg px-4 py-2.5 text-sm dark:text-white focus:ring-2 focus:ring-jambo-500 outline-none\" />\r\n            </LabeledInput>\r\n            <LabeledInput label=\"Description\">\r\n                <textarea name=\"description\" value={formData.description} onChange={handleInputChange} placeholder=\"Job Description & Requirements\" rows={3} className=\"w-full bg-gray-50 dark:bg-white/5 border border-gray-200 dark:border-white/10 rounded-lg px-4 py-2.5 text-sm dark:text-white focus:ring-2 focus:ring-jambo-500 outline-none\"></textarea>\r\n            </LabeledInput>\r\n            <label className=\"flex items-center gap-2 text-sm text-gray-700 dark:text-gray-300 cursor-pointer\"><input type=\"checkbox\" name=\"isUrgent\" checked={formData.isUrgent} onChange={handleInputChange} className=\"h-4 w-4 rounded text-jambo-600 focus:ring-jambo-500\"/> Mark as Urgent</label>\r\n        </>\r\n    );\r\n};\r\n"],"names":[],"mappings":";;;;;AAGA;AACA;;;;AAQA,MAAM,gBAAgD;IAClD,gBAAgB;QAAC;QAAgB;QAAS;KAAY;IACtD,eAAe;QAAC;KAAW;IAC3B,iBAAiB;QAAC;KAAc;AACpC;AAEO,MAAM,kBAAkB,CAAC,EAAE,QAAQ,EAAE,WAAW,EAAE,iBAAiB,EAAwB;IAC9F,MAAM,kBAAkB,OAAO,IAAI,CAAC,eAAe,GAAG,CAAC,CAAA,MAAO,CAAC;YAAE,OAAO;YAAK,OAAO;QAAI,CAAC;IAEzF,6DAA6D;IAC7D,MAAM,kBAAkB,SAAS,QAAQ;IACzC,MAAM,cAAc,aAAa,CAAC,gBAAgB,GAAG,aAAa,CAAC,gBAAgB,CAAC,GAAG,CAAC,CAAA,OAAQ,CAAC;YAAE,OAAO;YAAM,OAAO;QAAK,CAAC,KAAK,EAAE;IAEpI,qBACI;;0BACI,6LAAC,6KAAY;gBAAC,OAAM;gBAAY,QAAQ;0BACpC,cAAA,6LAAC;oBAAM,MAAK;oBAAQ,OAAO,SAAS,KAAK;oBAAE,UAAU;oBAAmB,aAAY;oBAA0C,QAAQ;oBAAC,WAAU;;;;;;;;;;;0BAErJ,6LAAC;gBAAI,WAAU;;kCACX,6LAAC,6KAAY;wBAAC,OAAM;wBAAW,QAAQ;kCACnC,cAAA,6LAAC,wKAAY;4BAAC,SAAS;4BAAiB,OAAO,SAAS,QAAQ;4BAAG,UAAU,CAAC,MAAQ,YAAY,CAAA,IAAK,CAAC;wCAAC,GAAG,CAAC;wCAAE,UAAU;oCAAkB,CAAC;;;;;;;;;;;kCAEhJ,6LAAC,6KAAY;wBAAC,OAAM;wBAAO,QAAQ;kCAC/B,cAAA,6LAAC,wKAAY;4BAAC,SAAS;4BAAa,OAAO,SAAS,IAAI;4BAAG,UAAU,CAAC,MAAQ,YAAY,CAAA,IAAK,CAAC;wCAAC,GAAG,CAAC;wCAAE,MAAM;oCAAc,CAAC;;;;;;;;;;;;;;;;;0BAGpI,6LAAC,6KAAY;gBAAC,OAAM;gBAAgB,QAAQ;0BACxC,cAAA,6LAAC;oBAAM,MAAK;oBAAe,OAAO,SAAS,YAAY;oBAAE,UAAU;oBAAmB,aAAY;oBAA2B,QAAQ;oBAAC,WAAU;;;;;;;;;;;0BAEpJ,6LAAC,6KAAY;gBAAC,OAAM;0BAChB,cAAA,6LAAC;oBAAS,MAAK;oBAAc,OAAO,SAAS,WAAW;oBAAE,UAAU;oBAAmB,aAAY;oBAAiC,MAAM;oBAAG,WAAU;;;;;;;;;;;0BAE3J,6LAAC;gBAAM,WAAU;;kCAAkF,6LAAC;wBAAM,MAAK;wBAAW,MAAK;wBAAW,SAAS,SAAS,QAAQ;wBAAE,UAAU;wBAAmB,WAAU;;;;;;oBAAuD;;;;;;;;;AAGhR;KA7Ba"}},
    {"offset": {"line": 4727, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Khesh/Desktop/Jambo-linguists/components/admin/jobs/add-job/LogisticsForm.tsx"],"sourcesContent":["\r\nimport React from 'react';\r\nimport { LabeledInput } from './LabeledInput';\r\n\r\ninterface LogisticsFormProps {\r\n    formData: any;\r\n    handleInputChange: (e: React.ChangeEvent<HTMLInputElement>) => void;\r\n}\r\n\r\nexport const LogisticsForm = ({ formData, handleInputChange }: LogisticsFormProps) => {\r\n    return (\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n            <LabeledInput label=\"Date\" required>\r\n                <input type=\"date\" name=\"date\" value={formData.date} onChange={handleInputChange} required className=\"w-full bg-gray-50 dark:bg-white/5 border border-gray-200 dark:border-white/10 rounded-lg px-4 py-2.5 text-sm dark:text-white focus:ring-2 focus:ring-jambo-500 outline-none\" />\r\n            </LabeledInput>\r\n            {formData.category === 'Interpreting' ? (\r\n                <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\r\n                    <LabeledInput label=\"Start Time\"><input type=\"time\" name=\"time\" value={formData.time} onChange={handleInputChange} className=\"w-full bg-gray-50 dark:bg-white/5 border border-gray-200 dark:border-white/10 rounded-lg px-4 py-2.5 text-sm dark:text-white focus:ring-2 focus:ring-jambo-500 outline-none\" /></LabeledInput>\r\n                    <LabeledInput label=\"Duration\"><input type=\"text\" name=\"duration\" value={formData.duration || ''} onChange={handleInputChange} placeholder=\"e.g. 2h 30m\" className=\"w-full bg-gray-50 dark:bg-white/5 border border-gray-200 dark:border-white/10 rounded-lg px-4 py-2.5 text-sm dark:text-white focus:ring-2 focus:ring-jambo-500 outline-none\" /></LabeledInput>\r\n                </div>\r\n            ) : (\r\n                <LabeledInput label=\"Deadline Time\" name=\"deadlineTime\">\r\n                    <input type=\"time\" name=\"deadlineTime\" value={formData.deadlineTime || ''} onChange={handleInputChange} className=\"w-full bg-gray-50 dark:bg-white/5 border border-gray-200 dark:border-white/10 rounded-lg px-4 py-2.5 text-sm dark:text-white focus:ring-2 focus:ring-jambo-500 outline-none\" />\r\n                </LabeledInput>\r\n            )}\r\n             <div className=\"md:col-span-2\">\r\n                <LabeledInput label=\"Location / Context\" required>\r\n                    <input name=\"location\" value={formData.location} onChange={handleInputChange} placeholder={formData.type === 'Face-to-Face' ? 'Full Address' : 'e.g. Remote, Zoom Call'} required className=\"w-full bg-gray-50 dark:bg-white/5 border border-gray-200 dark:border-white/10 rounded-lg px-4 py-2.5 text-sm dark:text-white focus:ring-2 focus:ring-jambo-500 outline-none\" />\r\n                </LabeledInput>\r\n            </div>\r\n        </div>\r\n    )\r\n}"],"names":[],"mappings":";;;;;AAEA;;;AAOO,MAAM,gBAAgB,CAAC,EAAE,QAAQ,EAAE,iBAAiB,EAAsB;IAC7E,qBACI,6LAAC;QAAI,WAAU;;0BACX,6LAAC,6KAAY;gBAAC,OAAM;gBAAO,QAAQ;0BAC/B,cAAA,6LAAC;oBAAM,MAAK;oBAAO,MAAK;oBAAO,OAAO,SAAS,IAAI;oBAAE,UAAU;oBAAmB,QAAQ;oBAAC,WAAU;;;;;;;;;;;YAExG,SAAS,QAAQ,KAAK,+BACnB,6LAAC;gBAAI,WAAU;;kCACX,6LAAC,6KAAY;wBAAC,OAAM;kCAAa,cAAA,6LAAC;4BAAM,MAAK;4BAAO,MAAK;4BAAO,OAAO,SAAS,IAAI;4BAAE,UAAU;4BAAmB,WAAU;;;;;;;;;;;kCAC7H,6LAAC,6KAAY;wBAAC,OAAM;kCAAW,cAAA,6LAAC;4BAAM,MAAK;4BAAO,MAAK;4BAAW,OAAO,SAAS,QAAQ,IAAI;4BAAI,UAAU;4BAAmB,aAAY;4BAAc,WAAU;;;;;;;;;;;;;;;;yEAGvK,6LAAC,6KAAY;gBAAC,OAAM;gBAAgB,MAAK;0BACrC,cAAA,6LAAC;oBAAM,MAAK;oBAAO,MAAK;oBAAe,OAAO,SAAS,YAAY,IAAI;oBAAI,UAAU;oBAAmB,WAAU;;;;;;;;;;;0BAGzH,6LAAC;gBAAI,WAAU;0BACZ,cAAA,6LAAC,6KAAY;oBAAC,OAAM;oBAAqB,QAAQ;8BAC7C,cAAA,6LAAC;wBAAM,MAAK;wBAAW,OAAO,SAAS,QAAQ;wBAAE,UAAU;wBAAmB,aAAa,SAAS,IAAI,KAAK,iBAAiB,iBAAiB;wBAA0B,QAAQ;wBAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;AAKhN;KAvBa"}},
    {"offset": {"line": 4867, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Khesh/Desktop/Jambo-linguists/components/admin/jobs/add-job/DocumentsForm.tsx"],"sourcesContent":["\r\nimport React from 'react';\r\nimport { UploadCloud, FileText, X } from 'lucide-react';\r\n\r\ninterface DocumentsFormProps {\r\n    files: File[];\r\n    onFileChange: (event: React.ChangeEvent<HTMLInputElement>) => void;\r\n    onRemoveFile: (index: number) => void;\r\n}\r\n\r\nexport const DocumentsForm = ({ files, onFileChange, onRemoveFile }: DocumentsFormProps) => {\r\n    return (\r\n        <div className=\"space-y-3\">\r\n            <div className=\"border-2 border-dashed border-gray-300 dark:border-white/20 rounded-xl p-6 text-center cursor-pointer hover:border-jambo-500 hover:bg-jambo-50/50 dark:hover:bg-jambo-900/10 transition-colors relative\">\r\n                <input type=\"file\" multiple onChange={onFileChange} className=\"absolute inset-0 w-full h-full opacity-0 cursor-pointer\" />\r\n                <div className=\"flex flex-col items-center\">\r\n                    <UploadCloud size={24} className=\"text-gray-400 mb-2\" />\r\n                    <p className=\"font-medium text-gray-600 dark:text-gray-300 text-sm\">Click to upload or drag & drop</p>\r\n                    <p className=\"text-xs text-gray-400\">PDF, DOCX, etc. (Max 10MB each)</p>\r\n                </div>\r\n            </div>\r\n            {files.length > 0 && (\r\n                <div className=\"space-y-2\">\r\n                    {files.map((file, index) => (\r\n                        <div key={index} className=\"flex items-center gap-3 p-2 bg-gray-50 dark:bg-white/5 rounded-lg border border-gray-200 dark:border-white/10\">\r\n                            <FileText size={16} className=\"text-jambo-600 dark:text-jambo-400 shrink-0\" />\r\n                            <span className=\"text-xs font-medium text-gray-800 dark:text-gray-200 truncate flex-1\">{file.name}</span>\r\n                            <span className=\"text-xs text-gray-400 shrink-0\">{(file.size / 1024).toFixed(1)} KB</span>\r\n                            <button type=\"button\" onClick={() => onRemoveFile(index)} className=\"p-1 text-gray-400 hover:text-red-500 dark:hover:text-red-400 shrink-0\"><X size={14} /></button>\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n            )}\r\n        </div>\r\n    )\r\n};\r\n"],"names":[],"mappings":";;;;;AAEA;AAAA;AAAA;;;AAQO,MAAM,gBAAgB,CAAC,EAAE,KAAK,EAAE,YAAY,EAAE,YAAY,EAAsB;IACnF,qBACI,6LAAC;QAAI,WAAU;;0BACX,6LAAC;gBAAI,WAAU;;kCACX,6LAAC;wBAAM,MAAK;wBAAO,QAAQ;wBAAC,UAAU;wBAAc,WAAU;;;;;;kCAC9D,6LAAC;wBAAI,WAAU;;0CACX,6LAAC,sOAAW;gCAAC,MAAM;gCAAI,WAAU;;;;;;0CACjC,6LAAC;gCAAE,WAAU;0CAAuD;;;;;;0CACpE,6LAAC;gCAAE,WAAU;0CAAwB;;;;;;;;;;;;;;;;;;YAG5C,MAAM,MAAM,GAAG,mBACZ,6LAAC;gBAAI,WAAU;0BACV,MAAM,GAAG,CAAC,CAAC,MAAM,sBACd,6LAAC;wBAAgB,WAAU;;0CACvB,6LAAC,6NAAQ;gCAAC,MAAM;gCAAI,WAAU;;;;;;0CAC9B,6LAAC;gCAAK,WAAU;0CAAwE,KAAK,IAAI;;;;;;0CACjG,6LAAC;gCAAK,WAAU;;oCAAkC,CAAC,KAAK,IAAI,GAAG,IAAI,EAAE,OAAO,CAAC;oCAAG;;;;;;;0CAChF,6LAAC;gCAAO,MAAK;gCAAS,SAAS,IAAM,aAAa;gCAAQ,WAAU;0CAAwE,cAAA,6LAAC,oMAAC;oCAAC,MAAM;;;;;;;;;;;;uBAJ/I;;;;;;;;;;;;;;;;AAWlC;KAzBa"}},
    {"offset": {"line": 5009, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Khesh/Desktop/Jambo-linguists/components/admin/jobs/modal/FinancialsForm.tsx"],"sourcesContent":["\r\nimport React, { useEffect, useState } from 'react';\r\nimport { PoundSterling, Navigation, Briefcase } from 'lucide-react';\r\nimport { Job } from '@/data/types';\r\nimport { calculateJobPayout } from '../../../portal/dashboard/jobs/job-helpers';\r\n\r\ninterface FinancialsFormProps {\r\n  job: Job;\r\n  isEditing: boolean;\r\n  formData: Partial<Job>;\r\n  setFormData: (data: Partial<Job>) => void;\r\n}\r\n\r\nconst Field: React.FC<{ label: string; children: React.ReactNode }> = ({ label, children }) => (\r\n    <div>\r\n        <label className=\"text-[10px] font-bold text-gray-500 uppercase\">{label}</label>\r\n        <div className=\"mt-1\">{children}</div>\r\n    </div>\r\n);\r\n\r\nconst Input = (props: React.InputHTMLAttributes<HTMLInputElement>) => (\r\n    <input \r\n        {...props}\r\n        className=\"w-full bg-gray-50 dark:bg-white/5 border border-gray-200 dark:border-white/10 rounded-md px-2 py-1.5 text-sm font-mono text-gray-900 dark:text-white focus:outline-none focus:border-jambo-600 transition-colors\"\r\n    />\r\n);\r\n\r\nconst ReadOnly = ({ value }: { value: string | number }) => (\r\n    <div className=\"text-sm font-medium text-gray-800 dark:text-gray-200 py-1.5\">{value}</div>\r\n);\r\n\r\nexport const FinancialsForm = ({ job, isEditing, formData, setFormData }: FinancialsFormProps) => {\r\n  const [total, setTotal] = useState(0);\r\n\r\n  useEffect(() => {\r\n    const combinedJob = { ...job, ...formData };\r\n    setTotal(calculateJobPayout(combinedJob));\r\n  }, [formData, job]);\r\n\r\n  const handleNumericChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n      const { name, value } = e.target;\r\n      setFormData({ ...formData, [name]: value === '' ? undefined : parseFloat(value) });\r\n  };\r\n  \r\n  const handlePenceInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const { name, value } = e.target;\r\n    const pence = parseFloat(value);\r\n    setFormData({ ...formData, [name]: isNaN(pence) ? undefined : pence / 100 });\r\n  };\r\n\r\n  const handleInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const { name, value } = e.target;\r\n    setFormData({ ...formData, [name]: value });\r\n  };\r\n\r\n  const handleRateTypeChange = (isFixed: boolean) => {\r\n      if (isFixed) {\r\n          setFormData({ ...formData, wordRate: undefined });\r\n      } else {\r\n          setFormData({ ...formData, fixedRate: undefined });\r\n      }\r\n  };\r\n\r\n  return (\r\n    <div className=\"bg-white dark:bg-[#1a1625] rounded-xl p-5 border border-gray-200 dark:border-white/10 shadow-sm mt-6\">\r\n        <div className=\"flex items-center justify-between mb-4 border-b border-gray-100 dark:border-white/5 pb-2\">\r\n            <h3 className=\"text-xs font-bold text-gray-400 uppercase tracking-widest flex items-center gap-2\">\r\n                <PoundSterling size={14} /> Logistics & Finance\r\n            </h3>\r\n            {isEditing && <span className=\"text-[10px] text-orange-500 font-bold bg-orange-50 dark:bg-orange-900/20 px-2 py-0.5 rounded\">Editing Mode</span>}\r\n        </div>\r\n\r\n        {job.category === 'Interpreting' && (\r\n            <div className=\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4 items-end\">\r\n                <Field label=\"Hourly Rate (£)\">{isEditing ? <Input type=\"number\" step=\"0.01\" name=\"hourlyRate\" value={formData.hourlyRate || ''} onChange={handleNumericChange} /> : <ReadOnly value={`£${job.hourlyRate?.toFixed(2) || '0.00'}`} />}</Field>\r\n                {job.type === 'Face-to-Face' && <>\r\n                    <Field label=\"Distance (mi)\">{isEditing ? <Input type=\"number\" name=\"distance\" value={formData.distance || ''} onChange={handleNumericChange} /> : <ReadOnly value={`${job.distance || 0} mi`} />}</Field>\r\n                    <Field label=\"Mileage Rate (£)\">{isEditing ? <Input type=\"number\" step=\"0.01\" name=\"mileageRate\" value={formData.mileageRate || ''} onChange={handleNumericChange} /> : <ReadOnly value={`£${job.mileageRate?.toFixed(2) || '0.00'}`} />}</Field>\r\n                    <Field label=\"Travel Time (hrs)\">{isEditing ? <Input type=\"number\" step=\"0.1\" name=\"travelHours\" value={formData.travelHours || ''} onChange={handleNumericChange} /> : <ReadOnly value={`${job.travelHours || 0} hrs`} />}</Field>\r\n                </>}\r\n            </div>\r\n        )}\r\n\r\n        {job.category === 'Translation' && (\r\n             <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 items-end\">\r\n                <Field label=\"Word Count\">{isEditing ? <Input type=\"number\" name=\"wordCount\" value={formData.wordCount || ''} onChange={handleNumericChange} /> : <ReadOnly value={`${job.wordCount?.toLocaleString() || 0} words`} />}</Field>\r\n                <div className=\"md:col-span-2\">\r\n                    {isEditing ? (\r\n                        <div className=\"flex flex-col gap-4\">\r\n                            <div className=\"flex items-center gap-2 flex-1 w-full\">\r\n                                <input type=\"radio\" id=\"rate_word\" name=\"rateType\" checked={!formData.fixedRate} onChange={() => handleRateTypeChange(false)} className=\"h-4 w-4 text-jambo-600 focus:ring-jambo-500 mt-4 sm:mt-0\"/>\r\n                                <label htmlFor=\"rate_word\" className=\"text-sm flex-1 w-full\">\r\n                                    <Field label=\"Rate per Word (p)\">\r\n                                        <Input \r\n                                            type=\"number\" \r\n                                            step=\"0.1\" \r\n                                            name=\"wordRate\" \r\n                                            value={formData.wordRate !== undefined ? (formData.wordRate * 100) : ''} \r\n                                            onChange={handlePenceInputChange} \r\n                                            disabled={!!formData.fixedRate} \r\n                                        />\r\n                                    </Field>\r\n                                </label>\r\n                            </div>\r\n                            \r\n                            <div className=\"flex items-center gap-2 flex-1 w-full\">\r\n                                <input type=\"radio\" id=\"rate_fixed\" name=\"rateType\" checked={!!formData.fixedRate} onChange={() => handleRateTypeChange(true)} className=\"h-4 w-4 text-jambo-600 focus:ring-jambo-500 mt-4 sm:mt-0\"/>\r\n                                <label htmlFor=\"rate_fixed\" className=\"text-sm flex-1 w-full\">\r\n                                    <Field label=\"Fixed Total (£)\">\r\n                                        <Input type=\"number\" step=\"10\" name=\"fixedRate\" value={formData.fixedRate || ''} onChange={handleNumericChange} disabled={!formData.fixedRate} />\r\n                                    </Field>\r\n                                </label>\r\n                            </div>\r\n                        </div>\r\n                    ) : (\r\n                        <Field label=\"Rate\"><ReadOnly value={job.wordRate ? `${(job.wordRate * 100).toFixed(0)}p/word` : job.rate} /></Field>\r\n                    )}\r\n                </div>\r\n             </div>\r\n        )}\r\n        \r\n        {job.category === 'Transcription' && (\r\n             <div className=\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 items-end\">\r\n                <Field label=\"Audio Length\">{isEditing ? <Input type=\"text\" name=\"duration\" value={formData.duration || ''} onChange={handleInputChange} /> : <ReadOnly value={job.duration || 'N/A'} />}</Field>\r\n                <Field label=\"Rate per Minute (£)\">{isEditing ? <Input type=\"number\" step=\"0.01\" name=\"minuteRate\" value={formData.minuteRate || ''} onChange={handleNumericChange} /> : <ReadOnly value={`£${job.minuteRate?.toFixed(2) || '0.00'}`} />}</Field>\r\n             </div>\r\n        )}\r\n\r\n        <div className=\"mt-4 pt-4 border-t border-gray-100 dark:border-white/5 flex justify-end\">\r\n            <div className=\"bg-gray-50 dark:bg-white/5 p-3 rounded-lg flex items-center gap-4\">\r\n                <span className=\"text-[10px] font-bold text-gray-400 uppercase\">Est. Payout</span>\r\n                <div className=\"text-xl font-bold text-jambo-600 dark:text-jambo-400 font-mono\">\r\n                    £{total.toFixed(2)}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n  );\r\n};\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 5529, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Khesh/Desktop/Jambo-linguists/components/admin/jobs/modal/AdminJobEditForm.tsx"],"sourcesContent":["\r\nimport React, { useState, useEffect } from 'react';\r\nimport { Briefcase, Calendar, FileText, PoundSterling, Save } from 'lucide-react';\r\nimport { Job } from '@/data/types';\r\nimport { calculateJobPayout } from '../../../portal/dashboard/jobs/job-helpers';\r\nimport { Button } from '../../../ui/Button';\r\nimport { Fieldset } from '../add-job/Fieldset';\r\nimport { CoreDetailsForm } from '../add-job/CoreDetailsForm';\r\nimport { LogisticsForm } from '../add-job/LogisticsForm';\r\nimport { DocumentsForm } from '../add-job/DocumentsForm';\r\nimport { FinancialsForm } from './FinancialsForm';\r\n\r\ninterface AdminJobEditFormProps {\r\n  job: Job;\r\n  onSave: (updatedData: Partial<Job>, newFiles: File[], keptAttachments: any[]) => void;\r\n  onCancel: () => void;\r\n  isSaving: boolean;\r\n}\r\n\r\nexport const AdminJobEditForm = ({ job, onSave, onCancel, isSaving }: AdminJobEditFormProps) => {\r\n  // --- Local Form State ---\r\n  const [formData, setFormData] = useState<Partial<Job>>({});\r\n  const [newFiles, setNewFiles] = useState<File[]>([]);\r\n  const [keptAttachments, setKeptAttachments] = useState<any[]>([]);\r\n  const [estimatedTotal, setEstimatedTotal] = useState(0);\r\n\r\n  // Initialize state from prop\r\n  useEffect(() => {\r\n    setFormData({ ...job });\r\n    setNewFiles([]);\r\n    setKeptAttachments(job.attachments || []);\r\n  }, [job]);\r\n\r\n  // Recalculate financial totals dynamically\r\n  useEffect(() => {\r\n    const tempJob = { ...job, ...formData } as Job;\r\n    setEstimatedTotal(calculateJobPayout(tempJob));\r\n  }, [formData, job]);\r\n\r\n  // --- Handlers ---\r\n\r\n  const handleInputChange = (e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>) => {\r\n    const { name, value, type } = e.target;\r\n    if (type === 'checkbox') {\r\n        const { checked } = e.target as HTMLInputElement;\r\n        setFormData(prev => ({...prev, [name]: checked }));\r\n    } else {\r\n        setFormData(prev => ({ ...prev, [name]: value }));\r\n    }\r\n  };\r\n\r\n  const handleFileChange = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    if (event.target.files) {\r\n        setNewFiles(prev => [...prev, ...Array.from(event.target.files!)]);\r\n    }\r\n  };\r\n\r\n  const handleRemoveNewFile = (index: number) => {\r\n    setNewFiles(prev => prev.filter((_, i) => i !== index));\r\n  };\r\n\r\n  const handleSubmit = () => {\r\n      // Inject calculated rate string before saving\r\n      const finalData = {\r\n          ...formData,\r\n          rate: `£${estimatedTotal.toFixed(2)}`\r\n      };\r\n      onSave(finalData, newFiles, keptAttachments);\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-6 animate-in fade-in slide-in-from-bottom-2\">\r\n        <div className=\"bg-orange-50 dark:bg-orange-900/10 p-3 rounded-lg border border-orange-100 dark:border-orange-800 text-xs text-orange-800 dark:text-orange-200\">\r\n            <strong>Editing Mode:</strong> Changes will be logged in the audit trail.\r\n        </div>\r\n\r\n        <Fieldset title=\"Core Details\" icon={Briefcase}>\r\n            <CoreDetailsForm \r\n                formData={formData} \r\n                setFormData={setFormData} \r\n                handleInputChange={handleInputChange} \r\n            />\r\n        </Fieldset>\r\n        \r\n        <Fieldset title=\"Logistics & Schedule\" icon={Calendar}>\r\n            <LogisticsForm \r\n                formData={formData} \r\n                handleInputChange={handleInputChange} \r\n            />\r\n        </Fieldset>\r\n\r\n        <Fieldset title=\"Job Documents\" icon={FileText}>\r\n            {keptAttachments.length > 0 && (\r\n                <div className=\"mb-4\">\r\n                    <p className=\"text-xs font-bold text-gray-400 uppercase mb-2\">Current Attachments</p>\r\n                    <div className=\"space-y-2\">\r\n                        {keptAttachments.map((f, i) => (\r\n                            <div key={i} className=\"flex items-center justify-between p-2 bg-gray-50 dark:bg-white/5 rounded-lg border border-gray-200 dark:border-white/10\">\r\n                                <div className=\"flex items-center gap-2 overflow-hidden\">\r\n                                    <FileText size={14} className=\"text-jambo-600 dark:text-jambo-400 shrink-0\" />\r\n                                    <span className=\"text-sm text-gray-600 dark:text-gray-300 truncate\">{f.name}</span>\r\n                                </div>\r\n                                <button \r\n                                    type=\"button\"\r\n                                    onClick={() => setKeptAttachments(prev => prev.filter((_, idx) => idx !== i))}\r\n                                    className=\"text-gray-400 hover:text-red-500 p-1 transition-colors\"\r\n                                >\r\n                                    &times;\r\n                                </button>\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n                </div>\r\n            )}\r\n            <p className=\"text-xs font-bold text-gray-400 uppercase mb-2\">Add New Files</p>\r\n            <DocumentsForm \r\n                files={newFiles} \r\n                onFileChange={handleFileChange} \r\n                onRemoveFile={handleRemoveNewFile} \r\n            />\r\n        </Fieldset>\r\n\r\n        <Fieldset title=\"Financials\" icon={PoundSterling}>\r\n            <FinancialsForm \r\n                job={job}\r\n                isEditing={true}\r\n                formData={formData} \r\n                setFormData={setFormData}\r\n            />\r\n        </Fieldset>\r\n\r\n        <div className=\"flex gap-3 pt-4 border-t border-gray-200 dark:border-white/10 sticky bottom-0 bg-white dark:bg-[#1a1625] pb-2 z-10\">\r\n            <Button variant=\"secondary\" onClick={onCancel} className=\"flex-1\">\r\n                Cancel\r\n            </Button>\r\n            <Button variant=\"primary\" onClick={handleSubmit} isLoading={isSaving} className=\"flex-[2]\">\r\n                <Save size={16} /> Save Changes\r\n            </Button>\r\n        </div>\r\n    </div>\r\n  );\r\n};\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 5848, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Khesh/Desktop/Jambo-linguists/components/admin/jobs/modal/JobActions.tsx"],"sourcesContent":["\r\nimport React from 'react';\r\nimport { Save, Ban, CheckCircle, Edit2, Loader2, Repeat, FileText, Lock } from 'lucide-react';\r\n\r\ninterface JobActionsProps {\r\n  isEditing: boolean;\r\n  setIsEditing: (val: boolean) => void;\r\n  onSave: () => void;\r\n  onCancelChanges: () => void;\r\n  onClose: () => void;\r\n  onCancelJob: () => void;\r\n  onCompleteJob: () => void;\r\n  onRequestRevision: () => void; \r\n  onAdminOverride?: () => void;\r\n  isProcessing: boolean;\r\n  status: string;\r\n}\r\n\r\nexport const JobActions = ({ \r\n  isEditing, setIsEditing, onSave, onCancelChanges, onClose, \r\n  onCancelJob, onCompleteJob, onRequestRevision, onAdminOverride, isProcessing, status \r\n}: JobActionsProps) => {\r\n  return (\r\n    <div className=\"p-4 md:p-6 border-t border-gray-200 dark:border-white/10 bg-white dark:bg-[#1a1625] flex flex-col-reverse sm:flex-row justify-between items-center gap-3 sticky bottom-0 z-20\">\r\n       \r\n       <div className=\"flex gap-3 w-full sm:w-auto\">\r\n          {status !== 'Cancelled' && status !== 'Completed' && (\r\n              <button \r\n                onClick={onCancelJob}\r\n                className=\"flex-1 sm:flex-none justify-center px-4 py-2 border border-red-200 text-red-600 dark:border-red-900/50 dark:text-red-400 rounded-lg text-sm font-bold hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors flex items-center gap-2\"\r\n              >\r\n                  <Ban size={16} /> Cancel Job\r\n              </button>\r\n          )}\r\n          {status === 'Pending Approval' && (\r\n              <>\r\n                <button \r\n                    onClick={onRequestRevision}\r\n                    disabled={isProcessing}\r\n                    className=\"flex-1 sm:flex-none justify-center px-4 py-2 bg-amber-100 text-amber-700 border border-amber-200 dark:bg-amber-900/30 dark:text-amber-400 dark:border-amber-800 rounded-lg text-sm font-bold hover:bg-amber-200 dark:hover:bg-amber-900/50 transition-colors flex items-center gap-2 disabled:opacity-70\"\r\n                >\r\n                    <Repeat size={16} /> Request Revision\r\n                </button>\r\n                <button \r\n                    onClick={onCompleteJob}\r\n                    disabled={isProcessing}\r\n                    className=\"flex-1 sm:flex-none justify-center px-4 py-2 bg-green-600 text-white rounded-lg text-sm font-bold hover:bg-green-700 transition-colors flex items-center gap-2 shadow-lg shadow-green-600/20 disabled:opacity-70\"\r\n                >\r\n                    {isProcessing ? <Loader2 size={16} className=\"animate-spin\" /> : <FileText size={16} />}\r\n                    Approve Work & Invoice\r\n                </button>\r\n              </>\r\n          )}\r\n          {status === 'Revision' && onAdminOverride && (\r\n              <button \r\n                  onClick={onAdminOverride}\r\n                  className=\"flex-1 sm:flex-none justify-center px-4 py-2 bg-gray-900 text-white dark:bg-white dark:text-gray-900 rounded-lg text-sm font-bold hover:opacity-90 transition-opacity flex items-center gap-2 shadow-md\"\r\n              >\r\n                  <Lock size={16} /> Override & Complete\r\n              </button>\r\n          )}\r\n       </div>\r\n\r\n       <div className=\"flex gap-3 w-full sm:w-auto\">\r\n          {isEditing ? (\r\n              <>\r\n                <button \r\n                    onClick={onCancelChanges}\r\n                    className=\"flex-1 sm:flex-none justify-center px-4 py-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 text-sm font-bold transition-colors\"\r\n                >\r\n                    Discard\r\n                </button>\r\n                <button \r\n                    onClick={onSave}\r\n                    disabled={isProcessing}\r\n                    className=\"flex-1 sm:flex-none justify-center px-6 py-2 bg-jambo-600 text-white rounded-lg text-sm font-bold hover:bg-jambo-700 transition-colors flex items-center gap-2 shadow-lg shadow-jambo-600/20 disabled:opacity-70\"\r\n                >\r\n                    {isProcessing ? <Loader2 size={16} className=\"animate-spin\" /> : <Save size={16} />} \r\n                    Save Changes\r\n                </button>\r\n              </>\r\n          ) : (\r\n              <button \r\n                onClick={() => setIsEditing(true)}\r\n                className=\"w-full sm:w-auto justify-center px-6 py-2 bg-gray-100 dark:bg-white/10 text-gray-700 dark:text-white rounded-lg text-sm font-bold hover:bg-gray-200 dark:hover:bg-white/20 transition-colors flex items-center gap-2\"\r\n              >\r\n                  <Edit2 size={16} /> Edit Details\r\n              </button>\r\n          )}\r\n       </div>\r\n    </div>\r\n  );\r\n};\r\n"],"names":[],"mappings":";;;;;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;AAgBO,MAAM,aAAa,CAAC,EACzB,SAAS,EAAE,YAAY,EAAE,MAAM,EAAE,eAAe,EAAE,OAAO,EACzD,WAAW,EAAE,aAAa,EAAE,iBAAiB,EAAE,eAAe,EAAE,YAAY,EAAE,MAAM,EACpE;IAChB,qBACE,6LAAC;QAAI,WAAU;;0BAEZ,6LAAC;gBAAI,WAAU;;oBACX,WAAW,eAAe,WAAW,6BAClC,6LAAC;wBACC,SAAS;wBACT,WAAU;;0CAER,6LAAC,0MAAG;gCAAC,MAAM;;;;;;4BAAM;;;;;;;oBAGxB,WAAW,oCACR;;0CACE,6LAAC;gCACG,SAAS;gCACT,UAAU;gCACV,WAAU;;kDAEV,6LAAC,mNAAM;wCAAC,MAAM;;;;;;oCAAM;;;;;;;0CAExB,6LAAC;gCACG,SAAS;gCACT,UAAU;gCACV,WAAU;;oCAET,6BAAe,6LAAC,+NAAO;wCAAC,MAAM;wCAAI,WAAU;;;;;iGAAoB,6LAAC,6NAAQ;wCAAC,MAAM;;;;;;oCAAO;;;;;;;;;oBAKjG,WAAW,cAAc,iCACtB,6LAAC;wBACG,SAAS;wBACT,WAAU;;0CAEV,6LAAC,6MAAI;gCAAC,MAAM;;;;;;4BAAM;;;;;;;;;;;;;0BAK7B,6LAAC;gBAAI,WAAU;0BACX,0BACG;;sCACE,6LAAC;4BACG,SAAS;4BACT,WAAU;sCACb;;;;;;sCAGD,6LAAC;4BACG,SAAS;4BACT,UAAU;4BACV,WAAU;;gCAET,6BAAe,6LAAC,+NAAO;oCAAC,MAAM;oCAAI,WAAU;;;;;6FAAoB,6LAAC,6MAAI;oCAAC,MAAM;;;;;;gCAAO;;;;;;;;iDAK1F,6LAAC;oBACC,SAAS,IAAM,aAAa;oBAC5B,WAAU;;sCAER,6LAAC,8MAAK;4BAAC,MAAM;;;;;;wBAAM;;;;;;;;;;;;;;;;;;AAMrC;KA1Ea"}},
    {"offset": {"line": 6040, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Khesh/Desktop/Jambo-linguists/components/admin/jobs/view-modal/AdminCompletionForm.tsx"],"sourcesContent":["\r\nimport React, { useState } from 'react';\r\nimport { Send, AlertTriangle } from 'lucide-react';\r\nimport { Button } from '../../../ui/Button';\r\n\r\ninterface AdminCompletionFormProps {\r\n  onCancel: () => void;\r\n  onSubmit: (notes: string) => void;\r\n  isLoading: boolean;\r\n}\r\n\r\nexport const AdminCompletionForm = ({ onCancel, onSubmit, isLoading }: AdminCompletionFormProps) => {\r\n  const [notes, setNotes] = useState('');\r\n\r\n  const handleSubmit = () => {\r\n      onSubmit(notes);\r\n  };\r\n\r\n  return (\r\n    <div className=\"bg-white dark:bg-[#1a1625] border border-red-200 dark:border-red-900/50 rounded-xl p-6 shadow-sm ring-1 ring-red-100 dark:ring-red-900/30 space-y-4\">\r\n        <div className=\"flex items-start gap-3\">\r\n            <div className=\"p-2 bg-red-100 dark:bg-red-900/40 text-red-600 dark:text-red-400 rounded-lg shrink-0\">\r\n                <AlertTriangle size={20} />\r\n            </div>\r\n            <div>\r\n                <h3 className=\"font-bold text-gray-900 dark:text-white\">Admin Force Completion</h3>\r\n                <p className=\"text-sm text-gray-500 dark:text-gray-400 mt-1\">\r\n                    You are overriding the normal workflow. This job will be reassigned to you and marked complete. \r\n                    <strong className=\"block mt-1 text-red-600 dark:text-red-400\">The original linguist will NOT be invoiced for this job.</strong>\r\n                </p>\r\n            </div>\r\n        </div>\r\n        \r\n        <div>\r\n            <label className=\"text-xs font-bold text-gray-500 uppercase mb-2 block\">Completion Notes</label>\r\n            <textarea \r\n                className=\"w-full p-3 border border-gray-200 dark:border-white/10 rounded-lg text-sm focus:ring-2 focus:ring-red-500 outline-none bg-gray-50 dark:bg-black/20 text-gray-900 dark:text-white\"\r\n                placeholder=\"Enter details about how this job was completed internally...\"\r\n                rows={4}\r\n                value={notes}\r\n                onChange={(e) => setNotes(e.target.value)}\r\n            ></textarea>\r\n        </div>\r\n\r\n        <div className=\"flex justify-end gap-3 pt-2\">\r\n            <Button variant=\"secondary\" onClick={onCancel}>\r\n                Cancel\r\n            </Button>\r\n            <Button \r\n                variant=\"danger\" \r\n                onClick={handleSubmit} \r\n                isLoading={isLoading} \r\n                disabled={!notes}\r\n            >\r\n                <Send size={14} /> Confirm & Complete\r\n            </Button>\r\n        </div>\r\n    </div>\r\n  );\r\n};\r\n"],"names":[],"mappings":";;;;;AACA;AACA;AAAA;AACA;;;;;;AAQO,MAAM,sBAAsB,CAAC,EAAE,QAAQ,EAAE,QAAQ,EAAE,SAAS,EAA4B;;IAC7F,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,yKAAQ,EAAC;IAEnC,MAAM,eAAe;QACjB,SAAS;IACb;IAEA,qBACE,6LAAC;QAAI,WAAU;;0BACX,6LAAC;gBAAI,WAAU;;kCACX,6LAAC;wBAAI,WAAU;kCACX,cAAA,6LAAC,4OAAa;4BAAC,MAAM;;;;;;;;;;;kCAEzB,6LAAC;;0CACG,6LAAC;gCAAG,WAAU;0CAA0C;;;;;;0CACxD,6LAAC;gCAAE,WAAU;;oCAAgD;kDAEzD,6LAAC;wCAAO,WAAU;kDAA4C;;;;;;;;;;;;;;;;;;;;;;;;0BAK1E,6LAAC;;kCACG,6LAAC;wBAAM,WAAU;kCAAuD;;;;;;kCACxE,6LAAC;wBACG,WAAU;wBACV,aAAY;wBACZ,MAAM;wBACN,OAAO;wBACP,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;;;;;;;;;;;;0BAIhD,6LAAC;gBAAI,WAAU;;kCACX,6LAAC,wIAAM;wBAAC,SAAQ;wBAAY,SAAS;kCAAU;;;;;;kCAG/C,6LAAC,wIAAM;wBACH,SAAQ;wBACR,SAAS;wBACT,WAAW;wBACX,UAAU,CAAC;;0CAEX,6LAAC,6MAAI;gCAAC,MAAM;;;;;;4BAAM;;;;;;;;;;;;;;;;;;;AAKlC;GAhDa;KAAA"}},
    {"offset": {"line": 6203, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Khesh/Desktop/Jambo-linguists/components/admin/jobs/view-modal/RevisionHistory.tsx"],"sourcesContent":["\r\nimport React from 'react';\r\nimport { AlertCircle, FileText, History, Download, CheckCircle, Clock } from 'lucide-react';\r\nimport { Job, JobHistoryEvent } from '@/data/types';\r\n\r\ninterface RevisionHistoryProps {\r\n    job: Job;\r\n}\r\n\r\nexport const RevisionHistory = ({ job }: RevisionHistoryProps) => {\r\n    // Filter history for revision-related events\r\n    const revisionEvents = (job.history || [])\r\n        .filter(h => h.type === 'REVISION_REQUESTED' || h.type === 'RESUBMITTED')\r\n        .sort((a, b) => new Date(b.date).getTime() - new Date(a.date).getTime());\r\n\r\n    const activeRevision = job.status === 'Revision' \r\n        ? revisionEvents.find(h => h.type === 'REVISION_REQUESTED' && new Date(h.date).getTime() > new Date(job.completedAt || 0).getTime())\r\n        : null;\r\n\r\n    if (revisionEvents.length === 0) {\r\n        return (\r\n            <div className=\"p-8 text-center border border-dashed border-gray-200 dark:border-white/10 rounded-xl mt-6\">\r\n                <div className=\"w-12 h-12 bg-gray-100 dark:bg-white/5 rounded-full flex items-center justify-center mx-auto mb-3 text-gray-400\">\r\n                    <History size={24} />\r\n                </div>\r\n                <p className=\"text-gray-500 dark:text-gray-400 text-sm\">No revision history found for this job.</p>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className=\"space-y-6 animate-in fade-in slide-in-from-bottom-2 duration-300 mt-6\">\r\n            \r\n            {/* Active Revision Banner */}\r\n            {job.status === 'Revision' && (\r\n                <div className=\"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-xl p-5 shadow-sm\">\r\n                    <h3 className=\"font-bold text-amber-800 dark:text-amber-200 flex items-center gap-2 mb-3\">\r\n                        <AlertCircle size={20} /> Active Revision Request\r\n                    </h3>\r\n                    <div className=\"bg-white dark:bg-black/20 p-4 rounded-lg border border-amber-100 dark:border-amber-900/30\">\r\n                        <p className=\"text-sm text-gray-800 dark:text-gray-200 leading-relaxed\">\r\n                            {job.revisionFeedback || \"Please review the deliverables and make necessary corrections.\"}\r\n                        </p>\r\n                        {job.revisionFile && (\r\n                            <div className=\"mt-3 pt-3 border-t border-amber-100 dark:border-amber-900/30 flex items-center gap-3\">\r\n                                <span className=\"text-xs font-bold text-amber-700 dark:text-amber-300 uppercase\">Markup File:</span>\r\n                                <div className=\"flex items-center gap-2 bg-amber-100 dark:bg-amber-900/40 px-3 py-1.5 rounded-lg text-xs font-bold text-amber-900 dark:text-amber-100\">\r\n                                    <FileText size={12} /> {job.revisionFile}\r\n                                </div>\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                    <div className=\"mt-3 flex justify-end\">\r\n                        <span className=\"text-xs font-bold text-amber-600 dark:text-amber-400 flex items-center gap-1\">\r\n                            <Clock size={12} /> Awaiting Linguist Response\r\n                        </span>\r\n                    </div>\r\n                </div>\r\n            )}\r\n\r\n            {/* Timeline */}\r\n            <div className=\"bg-white dark:bg-[#1a1625] rounded-xl p-6 border border-gray-200 dark:border-white/10 shadow-sm\">\r\n                <h3 className=\"text-xs font-bold text-gray-400 uppercase tracking-widest mb-6 flex items-center gap-2\">\r\n                    <History size={14} /> Revision Timeline\r\n                </h3>\r\n                \r\n                <div className=\"relative border-l-2 border-gray-100 dark:border-white/5 ml-3 space-y-8\">\r\n                    {revisionEvents.map((event) => (\r\n                        <div key={event.id} className=\"relative pl-8\">\r\n                            {/* Dot */}\r\n                            <div className={`absolute -left-[9px] top-0 w-4 h-4 rounded-full border-2 border-white dark:border-[#1a1625] ${event.type === 'REVISION_REQUESTED' ? 'bg-amber-500' : 'bg-blue-500'}`}></div>\r\n                            \r\n                            <div className=\"flex flex-col sm:flex-row sm:justify-between sm:items-start gap-1 mb-2\">\r\n                                <div>\r\n                                    <span className={`text-[10px] font-bold uppercase px-2 py-0.5 rounded border mb-1 inline-block ${\r\n                                        event.type === 'REVISION_REQUESTED' \r\n                                            ? 'bg-amber-100 text-amber-700 border-amber-200 dark:bg-amber-900/30 dark:text-amber-300 dark:border-amber-800' \r\n                                            : 'bg-blue-100 text-blue-700 border-blue-200 dark:bg-blue-900/30 dark:text-blue-300 dark:border-blue-800'\r\n                                    }`}>\r\n                                        {event.type === 'REVISION_REQUESTED' ? 'Request Sent' : 'Linguist Responded'}\r\n                                    </span>\r\n                                    <p className=\"text-xs text-gray-500 dark:text-gray-400\">{new Date(event.date).toLocaleString()}</p>\r\n                                </div>\r\n                                <span className=\"text-xs font-bold text-gray-700 dark:text-gray-300\">{event.actorName}</span>\r\n                            </div>\r\n\r\n                            <div className=\"bg-gray-50 dark:bg-white/5 p-3 rounded-lg border border-gray-100 dark:border-white/5 text-sm text-gray-700 dark:text-gray-300\">\r\n                                {event.description}\r\n                                {event.attachment && (\r\n                                    <div className=\"mt-2 flex items-center gap-2 text-xs font-bold text-jambo-600 dark:text-jambo-400 bg-white dark:bg-white/10 p-2 rounded border border-gray-200 dark:border-white/5 w-fit\">\r\n                                        <FileText size={12} /> {event.attachment}\r\n                                    </div>\r\n                                )}\r\n                            </div>\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n"],"names":[],"mappings":";;;;;AAEA;AAAA;AAAA;AAAA;;;AAOO,MAAM,kBAAkB,CAAC,EAAE,GAAG,EAAwB;IACzD,6CAA6C;IAC7C,MAAM,iBAAiB,CAAC,IAAI,OAAO,IAAI,EAAE,EACpC,MAAM,CAAC,CAAA,IAAK,EAAE,IAAI,KAAK,wBAAwB,EAAE,IAAI,KAAK,eAC1D,IAAI,CAAC,CAAC,GAAG,IAAM,IAAI,KAAK,EAAE,IAAI,EAAE,OAAO,KAAK,IAAI,KAAK,EAAE,IAAI,EAAE,OAAO;IAEzE,MAAM,iBAAiB,IAAI,MAAM,KAAK,aAChC,eAAe,IAAI,CAAC,CAAA,IAAK,EAAE,IAAI,KAAK,wBAAwB,IAAI,KAAK,EAAE,IAAI,EAAE,OAAO,KAAK,IAAI,KAAK,IAAI,WAAW,IAAI,GAAG,OAAO,MAC/H;IAEN,IAAI,eAAe,MAAM,KAAK,GAAG;QAC7B,qBACI,6LAAC;YAAI,WAAU;;8BACX,6LAAC;oBAAI,WAAU;8BACX,cAAA,6LAAC,sNAAO;wBAAC,MAAM;;;;;;;;;;;8BAEnB,6LAAC;oBAAE,WAAU;8BAA2C;;;;;;;;;;;;IAGpE;IAEA,qBACI,6LAAC;QAAI,WAAU;;YAGV,IAAI,MAAM,KAAK,4BACZ,6LAAC;gBAAI,WAAU;;kCACX,6LAAC;wBAAG,WAAU;;0CACV,6LAAC,sOAAW;gCAAC,MAAM;;;;;;4BAAM;;;;;;;kCAE7B,6LAAC;wBAAI,WAAU;;0CACX,6LAAC;gCAAE,WAAU;0CACR,IAAI,gBAAgB,IAAI;;;;;;4BAE5B,IAAI,YAAY,kBACb,6LAAC;gCAAI,WAAU;;kDACX,6LAAC;wCAAK,WAAU;kDAAiE;;;;;;kDACjF,6LAAC;wCAAI,WAAU;;0DACX,6LAAC,6NAAQ;gDAAC,MAAM;;;;;;4CAAM;4CAAE,IAAI,YAAY;;;;;;;;;;;;;;;;;;;kCAKxD,6LAAC;wBAAI,WAAU;kCACX,cAAA,6LAAC;4BAAK,WAAU;;8CACZ,6LAAC,gNAAK;oCAAC,MAAM;;;;;;gCAAM;;;;;;;;;;;;;;;;;;0BAOnC,6LAAC;gBAAI,WAAU;;kCACX,6LAAC;wBAAG,WAAU;;0CACV,6LAAC,sNAAO;gCAAC,MAAM;;;;;;4BAAM;;;;;;;kCAGzB,6LAAC;wBAAI,WAAU;kCACV,eAAe,GAAG,CAAC,CAAC,sBACjB,6LAAC;gCAAmB,WAAU;;kDAE1B,6LAAC;wCAAI,WAAW,CAAC,4FAA4F,EAAE,MAAM,IAAI,KAAK,uBAAuB,iBAAiB,eAAe;;;;;;kDAErL,6LAAC;wCAAI,WAAU;;0DACX,6LAAC;;kEACG,6LAAC;wDAAK,WAAW,CAAC,6EAA6E,EAC3F,MAAM,IAAI,KAAK,uBACT,gHACA,yGACR;kEACG,MAAM,IAAI,KAAK,uBAAuB,iBAAiB;;;;;;kEAE5D,6LAAC;wDAAE,WAAU;kEAA4C,IAAI,KAAK,MAAM,IAAI,EAAE,cAAc;;;;;;;;;;;;0DAEhG,6LAAC;gDAAK,WAAU;0DAAsD,MAAM,SAAS;;;;;;;;;;;;kDAGzF,6LAAC;wCAAI,WAAU;;4CACV,MAAM,WAAW;4CACjB,MAAM,UAAU,kBACb,6LAAC;gDAAI,WAAU;;kEACX,6LAAC,6NAAQ;wDAAC,MAAM;;;;;;oDAAM;oDAAE,MAAM,UAAU;;;;;;;;;;;;;;+BAtB9C,MAAM,EAAE;;;;;;;;;;;;;;;;;;;;;;AAgC1C;KA3Fa"}},
    {"offset": {"line": 6491, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Khesh/Desktop/Jambo-linguists/components/admin/jobs/AdminJobModal.tsx"],"sourcesContent":["\r\nimport React, { useState, useEffect } from 'react';\r\nimport { Job, Invoice } from '@/data/types';\r\nimport { mockDb } from '@/data/mockDatabase';\r\nimport { Modal } from '../../ui/Modal';\r\nimport { InvoicePreviewModal } from '../../portal/dashboard/finance/InvoicePreviewModal';\r\nimport { UserProfileModal } from '../users/UserProfileModal';\r\nimport { JobHistoryTimeline } from '../../ui/JobHistoryTimeline';\r\nimport { JobStatusBadge } from '../../ui/JobStatusBadge';\r\nimport { JobChatWidget } from '../../messaging/JobChatWidget';\r\n\r\n// Sub-components\r\nimport { JobHeader } from './modal/JobHeader';\r\nimport { JobOverview } from './modal/JobOverview';\r\nimport { LinguistAssignment } from './modal/LinguistAssignment';\r\nimport { JobProcessStepper } from './view-modal/JobProcessStepper';\r\nimport { SubmissionDetails } from './view-modal/SubmissionDetails';\r\nimport { RevisionRequestForm } from './view-modal/RevisionRequestForm';\r\nimport { PaymentBanner } from './view-modal/PaymentBanner';\r\nimport { AdminJobEditForm } from './modal/AdminJobEditForm';\r\nimport { JobActions } from './modal/JobActions';\r\nimport { AdminCompletionForm } from './view-modal/AdminCompletionForm';\r\nimport { RevisionHistory } from './view-modal/RevisionHistory';\r\n\r\ninterface AdminJobModalProps {\r\n  job: Job;\r\n  onClose: () => void;\r\n  onUpdate: (message?: string) => void;\r\n}\r\n\r\nexport const AdminJobModal = ({ job: initialJob, onClose, onUpdate }: AdminJobModalProps) => {\r\n  // --- State ---\r\n  const [job, setJob] = useState<Job>(initialJob);\r\n  const [loadingAction, setLoadingAction] = useState<'approve' | 'request_revision' | 'save' | 'admin_complete' | null>(null);\r\n  \r\n  // UI Modes\r\n  const [isRevisionMode, setIsRevisionMode] = useState(false);\r\n  const [isEditing, setIsEditing] = useState(false);\r\n  const [isAdminCompleting, setIsAdminCompleting] = useState(false);\r\n  \r\n  // Navigation State\r\n  const [invoiceToPreview, setInvoiceToPreview] = useState<Invoice | null>(null);\r\n  const [viewingLinguistId, setViewingLinguistId] = useState<string | null>(null);\r\n\r\n  // Derived Data (Services)\r\n  const currentUser = mockDb.auth.getCurrentUser();\r\n  const linguist = job.linguistId ? mockDb.getAllUsers().find(u => u.id === job.linguistId) : null;\r\n  const allLinguists = mockDb.getAllUsers().filter(u => u.role === 'linguist' && u.isVerified && !u.isSuspended);\r\n  const invoice = mockDb.getAllInvoices().find(i => i.items.some(item => item.jobId === job.id));\r\n  \r\n  const isAssignmentLocked = ['Pending Approval', 'Completed', 'Cancelled'].includes(job.status);\r\n  const peerId = job.linguistId; // Chat target\r\n\r\n  // Reset local state when prop changes\r\n  useEffect(() => { \r\n      setJob(initialJob); \r\n      setIsRevisionMode(false); \r\n      setIsEditing(false); \r\n      setIsAdminCompleting(false);\r\n  }, [initialJob]);\r\n\r\n  // --- Actions (Service Calls) ---\r\n\r\n  const handleApprove = () => {\r\n      setLoadingAction('approve');\r\n      setTimeout(() => {\r\n          // Service call: Approve logic\r\n          const newInvoice = mockDb.adminApproveJobSubmission(job.id);\r\n          setLoadingAction(null);\r\n          setInvoiceToPreview(newInvoice); // Trigger invoice modal\r\n          \r\n          // Refresh local job state\r\n          const updatedJob = mockDb.getAllJobs().find(j => j.id === job.id);\r\n          if (updatedJob) setJob(updatedJob);\r\n      }, 1000);\r\n  };\r\n\r\n  const handleRequestRevision = (feedback: string, file: File | null) => {\r\n      setLoadingAction('request_revision');\r\n      setTimeout(() => {\r\n          // Service call: Update status with feedback\r\n          mockDb.updateJobStatus(job.id, 'Revision', { \r\n              revisionFeedback: feedback,\r\n              revisionFile: file ? file.name : undefined\r\n          });\r\n          setLoadingAction(null);\r\n          setIsRevisionMode(false);\r\n          \r\n          const updatedJob = mockDb.getAllJobs().find(j => j.id === job.id);\r\n          if (updatedJob) setJob(updatedJob);\r\n          \r\n          onUpdate('Revision Requested');\r\n      }, 1000);\r\n  };\r\n\r\n  const handleAssignLinguist = (linguistId: string | null) => {\r\n      // Service call: Assign\r\n      mockDb.adminAssignJob(job.id, linguistId);\r\n      \r\n      const updatedJob = mockDb.getAllJobs().find(j => j.id === job.id);\r\n      if (updatedJob) setJob(updatedJob);\r\n      \r\n      onUpdate(linguistId ? 'Linguist Assigned' : 'Job Unassigned');\r\n  };\r\n\r\n  const handleSaveEdit = (updatedData: Partial<Job>, newFiles: File[], keptAttachments: any[]) => {\r\n      setLoadingAction('save');\r\n      \r\n      // Prepare attachment payload\r\n      const newAttachmentsPayload = newFiles.map(f => ({ name: f.name, type: 'file' as const, url: '#' }));\r\n      \r\n      setTimeout(() => {\r\n          // Service call: Full update\r\n          const updated = mockDb.adminUpdateJobDetails(\r\n              job.id, \r\n              updatedData, \r\n              newAttachmentsPayload,\r\n              keptAttachments\r\n          );\r\n          \r\n          if (updated) {\r\n              setJob(updated);\r\n              onUpdate('Job Details Updated');\r\n          }\r\n          setLoadingAction(null);\r\n          setIsEditing(false);\r\n      }, 1000);\r\n  };\r\n\r\n  const handleAdminForceComplete = (notes: string) => {\r\n      setLoadingAction('admin_complete');\r\n      setTimeout(() => {\r\n          const updated = mockDb.adminForceCompleteJob(job.id, notes);\r\n          setJob(updated);\r\n          setLoadingAction(null);\r\n          setIsAdminCompleting(false);\r\n          onUpdate('Job Force Completed by Admin');\r\n      }, 1000);\r\n  };\r\n\r\n  const handleCancelJob = () => {\r\n      if(window.confirm(\"Are you sure you want to cancel this job? This action will be logged.\")) {\r\n          mockDb.updateJobStatus(job.id, 'Cancelled');\r\n          \r\n          // Immediate UI update\r\n          const updated = mockDb.getAllJobs().find(j => j.id === job.id);\r\n          if(updated) setJob(updated);\r\n          \r\n          // Notify parent to refresh list\r\n          onUpdate('Job Cancelled');\r\n      }\r\n  };\r\n\r\n  return (\r\n    <>\r\n    <Modal isOpen={true} onClose={onClose} size=\"4xl\" className=\"h-full md:h-[85vh]\">\r\n        <div className=\"flex flex-col md:flex-row h-full overflow-hidden bg-gray-50 dark:bg-[#0f0a15]\">\r\n            \r\n            {/* LEFT PANEL: Activity Stream / Edit Form */}\r\n            <div className=\"flex-1 flex flex-col min-w-0 min-h-0 bg-white dark:bg-[#1a1625] md:bg-gray-50 md:dark:bg-[#0f0a15] order-2 md:order-1 relative\">\r\n                \r\n                <JobHeader \r\n                    job={job} \r\n                    onClose={onClose} \r\n                    onEdit={() => setIsEditing(true)} \r\n                />\r\n\r\n                <div className=\"flex-1 overflow-y-auto custom-scrollbar p-4 md:p-6 space-y-6 pb-24 md:pb-6\">\r\n                    {isEditing ? (\r\n                        <AdminJobEditForm \r\n                            job={job}\r\n                            onSave={handleSaveEdit}\r\n                            onCancel={() => setIsEditing(false)}\r\n                            isSaving={loadingAction === 'save'}\r\n                        />\r\n                    ) : isAdminCompleting ? (\r\n                        <AdminCompletionForm \r\n                            onCancel={() => setIsAdminCompleting(false)}\r\n                            onSubmit={handleAdminForceComplete}\r\n                            isLoading={loadingAction === 'admin_complete'}\r\n                        />\r\n                    ) : (\r\n                        <>\r\n                            {/* Mobile Info Block */}\r\n                            <div className=\"md:hidden space-y-4\">\r\n                               <div className=\"flex items-center justify-between\">\r\n                                  <span className=\"text-xs font-bold uppercase text-gray-500\">Status</span>\r\n                                  <JobStatusBadge status={job.status} />\r\n                               </div>\r\n                               \r\n                               <div className=\"bg-gray-50 dark:bg-white/5 p-4 rounded-xl border border-gray-100 dark:border-white/5\">\r\n                                   <div className=\"space-y-2 mb-4\">\r\n                                        <p className=\"text-sm text-gray-600 dark:text-gray-300\">{job.description}</p>\r\n                                        <div className=\"text-xs text-gray-500 dark:text-gray-400\">\r\n                                            <p><span className=\"font-bold\">Location:</span> {job.location}</p>\r\n                                            <p><span className=\"font-bold\">Time:</span> {job.time || 'N/A'}</p>\r\n                                        </div>\r\n                                   </div>\r\n                               </div>\r\n\r\n                               <LinguistAssignment \r\n                                    linguist={linguist}\r\n                                    allLinguists={allLinguists}\r\n                                    isLocked={isAssignmentLocked}\r\n                                    onAssign={handleAssignLinguist}\r\n                               />\r\n                            </div>\r\n\r\n                            <JobProcessStepper status={job.status} />\r\n\r\n                            {invoice && (\r\n                                <PaymentBanner \r\n                                    existingInvoice={invoice} \r\n                                    onReview={() => setInvoiceToPreview(invoice)} \r\n                                />\r\n                            )}\r\n\r\n                            <SubmissionDetails \r\n                                job={job}\r\n                                onApprove={handleApprove}\r\n                                onRequestRevision={() => setIsRevisionMode(true)}\r\n                                isLoading={loadingAction === 'approve'}\r\n                                isRevisionMode={isRevisionMode}\r\n                            >\r\n                                <RevisionRequestForm \r\n                                    onCancel={() => setIsRevisionMode(false)}\r\n                                    onSubmit={handleRequestRevision}\r\n                                    isLoading={loadingAction === 'request_revision'}\r\n                                />\r\n                            </SubmissionDetails>\r\n\r\n                            <RevisionHistory job={job} />\r\n\r\n                            <JobHistoryTimeline history={job.history || []} />\r\n                        </>\r\n                    )}\r\n                </div>\r\n\r\n                {!isEditing && !isAdminCompleting && (\r\n                    <JobActions \r\n                        isEditing={isEditing}\r\n                        setIsEditing={setIsEditing}\r\n                        onSave={() => {}} // Handled inside Edit Form\r\n                        onCancelChanges={() => setIsEditing(false)}\r\n                        onClose={onClose}\r\n                        onCancelJob={handleCancelJob}\r\n                        onCompleteJob={handleApprove}\r\n                        onRequestRevision={() => setIsRevisionMode(true)}\r\n                        onAdminOverride={() => setIsAdminCompleting(true)}\r\n                        isProcessing={!!loadingAction}\r\n                        status={job.status}\r\n                    />\r\n                )}\r\n\r\n                {/* Chat Widget: Only show if not editing and a linguist is assigned */}\r\n                {!isEditing && !isAdminCompleting && currentUser && peerId && (\r\n                    <JobChatWidget \r\n                        jobId={job.id} \r\n                        currentUserId={currentUser.id} \r\n                        peerId={peerId}\r\n                    />\r\n                )}\r\n            </div>\r\n\r\n            {/* RIGHT PANEL: Static Context Sidebar (Desktop Only) */}\r\n            {!isEditing && !isAdminCompleting && (\r\n                <div className=\"w-80 bg-white dark:bg-[#1a1625] border-l border-gray-200 dark:border-white/5 overflow-y-auto custom-scrollbar hidden md:block shrink-0 order-1 md:order-2\">\r\n                    <JobOverview \r\n                        job={job}\r\n                        linguist={linguist}\r\n                        allLinguists={allLinguists}\r\n                        isAssignmentLocked={isAssignmentLocked}\r\n                        onAssign={handleAssignLinguist}\r\n                        onViewProfile={setViewingLinguistId}\r\n                    />\r\n                </div>\r\n            )}\r\n        </div>\r\n    </Modal>\r\n\r\n    {/* Sub-Modals */}\r\n    {invoiceToPreview && (\r\n        <InvoicePreviewModal \r\n            invoice={invoiceToPreview} \r\n            onClose={() => { setInvoiceToPreview(null); }} \r\n            onMarkPaid={() => {\r\n                // Service call: Update invoice status\r\n                mockDb.updateInvoiceStatus(invoiceToPreview.id, 'Paid');\r\n                setInvoiceToPreview(null);\r\n                onUpdate('Invoice Marked as Paid');\r\n            }}\r\n        />\r\n    )}\r\n\r\n    {viewingLinguistId && (\r\n        <UserProfileModal \r\n            user={mockDb.getAllUsers().find(u => u.id === viewingLinguistId)!} \r\n            onClose={() => setViewingLinguistId(null)}\r\n            onUpdate={() => {}}\r\n            onNavigate={() => {}}\r\n        />\r\n    )}\r\n    </>\r\n  );\r\n};\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 6958, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Khesh/Desktop/Jambo-linguists/components/admin/users/modal/UserJobsTab.tsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { mockDb, Job } from '@/data/mockDatabase';\r\nimport { Clock, CheckCircle, XCircle, MapPin, Briefcase } from 'lucide-react';\r\nimport { Table, TableHeader, TableBody, TableRow, TableHead, TableCell } from '../../../ui/Table';\r\nimport { Badge } from '../../../ui/Badge';\r\nimport { AdminJobModal } from '../../jobs/AdminJobModal';\r\n\r\nexport const UserJobsTab = ({ userId }: { userId: string }) => {\r\n  const [selectedJob, setSelectedJob] = useState<Job | null>(null);\r\n  const jobs = mockDb.getJobsByUser(userId);\r\n\r\n  if (jobs.length === 0) {\r\n      return (\r\n          <div className=\"text-center py-12 border border-dashed border-gray-200 dark:border-white/10 rounded-xl\">\r\n              <p className=\"text-gray-400\">No job history found for this user.</p>\r\n          </div>\r\n      );\r\n  }\r\n\r\n  const getStatusBadge = (status: string) => {\r\n      switch(status) {\r\n          case 'Completed': return <Badge variant=\"success\" icon={<CheckCircle size={10} />}>{status}</Badge>;\r\n          case 'Cancelled': return <Badge variant=\"danger\" icon={<XCircle size={10} />}>{status}</Badge>;\r\n          case 'Scheduled': return <Badge variant=\"info\" icon={<Clock size={10} />}>{status}</Badge>;\r\n          default: return <Badge variant=\"neutral\">{status}</Badge>;\r\n      }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"space-y-4 animate-in fade-in slide-in-from-bottom-2 duration-300\">\r\n          <h3 className=\"text-xs font-bold text-gray-400 uppercase tracking-widest mb-2\">Assignment History</h3>\r\n          <div className=\"overflow-hidden rounded-xl border border-gray-200 dark:border-white/10\">\r\n              <Table>\r\n                  <TableHeader>\r\n                      <TableRow>\r\n                          <TableHead>Date</TableHead>\r\n                          <TableHead>Job Details</TableHead>\r\n                          <TableHead>Location</TableHead>\r\n                          <TableHead>Status</TableHead>\r\n                          <TableHead align=\"right\">Payout</TableHead>\r\n                      </TableRow>\r\n                  </TableHeader>\r\n                  <TableBody>\r\n                      {jobs.map(job => (\r\n                          <TableRow key={job.id} onClick={() => setSelectedJob(job)}>\r\n                              <TableCell>\r\n                                  <span className=\"font-medium text-gray-900 dark:text-white\">{new Date(job.date).toLocaleDateString()}</span>\r\n                                  <span className=\"text-gray-500 block text-xs\">{job.time}</span>\r\n                              </TableCell>\r\n                              <TableCell>\r\n                                  <p className=\"font-bold text-gray-900 dark:text-white truncate max-w-[150px]\">{job.title}</p>\r\n                                  <p className=\"text-xs text-gray-500 flex items-center gap-1\"><Briefcase size={10}/> {job.category}</p>\r\n                              </TableCell>\r\n                              <TableCell className=\"text-gray-600 dark:text-gray-400 text-xs\">\r\n                                  <div className=\"flex items-center gap-1\"><MapPin size={10}/> {job.location.split(',')[0]}</div>\r\n                              </TableCell>\r\n                              <TableCell>\r\n                                  {getStatusBadge(job.status)}\r\n                              </TableCell>\r\n                              <TableCell align=\"right\" className=\"font-mono font-bold text-gray-900 dark:text-white\">\r\n                                  {job.totalPayout ? `£${job.totalPayout}` : '-'}\r\n                              </TableCell>\r\n                          </TableRow>\r\n                      ))}\r\n                  </TableBody>\r\n              </Table>\r\n          </div>\r\n      </div>\r\n      {selectedJob && (\r\n          <AdminJobModal \r\n              job={selectedJob}\r\n              onClose={() => setSelectedJob(null)}\r\n              onUpdate={() => {\r\n                  const updatedJob = mockDb.getAllJobs().find(j => j.id === selectedJob?.id);\r\n                  if (updatedJob) {\r\n                    setSelectedJob(updatedJob);\r\n                  }\r\n              }}\r\n          />\r\n      )}\r\n    </>\r\n  );\r\n};\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;;;;;;;;;AAEO,MAAM,cAAc,CAAC,EAAE,MAAM,EAAsB;;IACxD,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,yKAAQ,EAAa;IAC3D,MAAM,OAAO,iJAAM,CAAC,aAAa,CAAC;IAElC,IAAI,KAAK,MAAM,KAAK,GAAG;QACnB,qBACI,6LAAC;YAAI,WAAU;sBACX,cAAA,6LAAC;gBAAE,WAAU;0BAAgB;;;;;;;;;;;IAGzC;IAEA,MAAM,iBAAiB,CAAC;QACpB,OAAO;YACH,KAAK;gBAAa,qBAAO,6LAAC,sIAAK;oBAAC,SAAQ;oBAAU,oBAAM,6LAAC,6OAAW;wBAAC,MAAM;;;;;;8BAAS;;;;;;YACpF,KAAK;gBAAa,qBAAO,6LAAC,sIAAK;oBAAC,SAAQ;oBAAS,oBAAM,6LAAC,0NAAO;wBAAC,MAAM;;;;;;8BAAS;;;;;;YAC/E,KAAK;gBAAa,qBAAO,6LAAC,sIAAK;oBAAC,SAAQ;oBAAO,oBAAM,6LAAC,gNAAK;wBAAC,MAAM;;;;;;8BAAS;;;;;;YAC3E;gBAAS,qBAAO,6LAAC,sIAAK;oBAAC,SAAQ;8BAAW;;;;;;QAC9C;IACJ;IAEA,qBACE;;0BACE,6LAAC;gBAAI,WAAU;;kCACX,6LAAC;wBAAG,WAAU;kCAAiE;;;;;;kCAC/E,6LAAC;wBAAI,WAAU;kCACX,cAAA,6LAAC,sIAAK;;8CACF,6LAAC,4IAAW;8CACR,cAAA,6LAAC,yIAAQ;;0DACL,6LAAC,0IAAS;0DAAC;;;;;;0DACX,6LAAC,0IAAS;0DAAC;;;;;;0DACX,6LAAC,0IAAS;0DAAC;;;;;;0DACX,6LAAC,0IAAS;0DAAC;;;;;;0DACX,6LAAC,0IAAS;gDAAC,OAAM;0DAAQ;;;;;;;;;;;;;;;;;8CAGjC,6LAAC,0IAAS;8CACL,KAAK,GAAG,CAAC,CAAA,oBACN,6LAAC,yIAAQ;4CAAc,SAAS,IAAM,eAAe;;8DACjD,6LAAC,0IAAS;;sEACN,6LAAC;4DAAK,WAAU;sEAA6C,IAAI,KAAK,IAAI,IAAI,EAAE,kBAAkB;;;;;;sEAClG,6LAAC;4DAAK,WAAU;sEAA+B,IAAI,IAAI;;;;;;;;;;;;8DAE3D,6LAAC,0IAAS;;sEACN,6LAAC;4DAAE,WAAU;sEAAkE,IAAI,KAAK;;;;;;sEACxF,6LAAC;4DAAE,WAAU;;8EAAgD,6LAAC,4NAAS;oEAAC,MAAM;;;;;;gEAAK;gEAAE,IAAI,QAAQ;;;;;;;;;;;;;8DAErG,6LAAC,0IAAS;oDAAC,WAAU;8DACjB,cAAA,6LAAC;wDAAI,WAAU;;0EAA0B,6LAAC,uNAAM;gEAAC,MAAM;;;;;;4DAAK;4DAAE,IAAI,QAAQ,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE;;;;;;;;;;;;8DAE5F,6LAAC,0IAAS;8DACL,eAAe,IAAI,MAAM;;;;;;8DAE9B,6LAAC,0IAAS;oDAAC,OAAM;oDAAQ,WAAU;8DAC9B,IAAI,WAAW,GAAG,CAAC,CAAC,EAAE,IAAI,WAAW,EAAE,GAAG;;;;;;;2CAhBpC,IAAI,EAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;YAwBxC,6BACG,6LAAC,iKAAa;gBACV,KAAK;gBACL,SAAS,IAAM,eAAe;gBAC9B,UAAU;oBACN,MAAM,aAAa,iJAAM,CAAC,UAAU,GAAG,IAAI,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK,aAAa;oBACvE,IAAI,YAAY;wBACd,eAAe;oBACjB;gBACJ;;;;;;;;AAKd;GA5Ea;KAAA"}}]
}