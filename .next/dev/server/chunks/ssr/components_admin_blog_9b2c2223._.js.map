{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Khesh/Desktop/Jambo-linguists/components/admin/blog/SeoPanel.tsx"],"sourcesContent":["\r\nimport React from 'react';\r\nimport { SeoConfig } from '@/data/types';\r\nimport { Globe, Search, Smartphone, Monitor } from 'lucide-react';\r\n\r\ninterface SeoPanelProps {\r\n    seoData: SeoConfig;\r\n    onChange: (data: SeoConfig) => void;\r\n}\r\n\r\nexport const SeoPanel = ({ seoData, onChange }: SeoPanelProps) => {\r\n    const [previewMode, setPreviewMode] = React.useState<'mobile' | 'desktop'>('mobile');\r\n\r\n    const handleChange = (e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>) => {\r\n        const { name, value } = e.target;\r\n        onChange({ ...seoData, [name]: value });\r\n    };\r\n\r\n    const handleKeywordsChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n        const val = e.target.value;\r\n        onChange({ ...seoData, keywords: val.split(',').map(k => k.trim()) });\r\n    };\r\n\r\n    // Limits\r\n    const titleLimit = 60;\r\n    const descLimit = 160;\r\n\r\n    return (\r\n        <div className=\"space-y-8 animate-in fade-in duration-300\">\r\n            {/* Live Preview */}\r\n            <div className=\"bg-gray-50 dark:bg-white/5 border border-gray-200 dark:border-white/10 rounded-xl p-4\">\r\n                <div className=\"flex justify-between items-center mb-4 border-b border-gray-200 dark:border-white/10 pb-2\">\r\n                    <h4 className=\"font-bold text-gray-700 dark:text-gray-300 flex items-center gap-2 text-sm\">\r\n                        <Globe size={16} /> Google Snippet Preview\r\n                    </h4>\r\n                    <div className=\"flex gap-2\">\r\n                        <button \r\n                            onClick={() => setPreviewMode('mobile')}\r\n                            className={`p-1.5 rounded ${previewMode === 'mobile' ? 'bg-white shadow text-jambo-600' : 'text-gray-400'}`}\r\n                        >\r\n                            <Smartphone size={16} />\r\n                        </button>\r\n                        <button \r\n                            onClick={() => setPreviewMode('desktop')}\r\n                            className={`p-1.5 rounded ${previewMode === 'desktop' ? 'bg-white shadow text-jambo-600' : 'text-gray-400'}`}\r\n                        >\r\n                            <Monitor size={16} />\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className={`bg-white p-4 rounded-lg shadow-sm border border-gray-100 max-w-2xl ${previewMode === 'mobile' ? 'max-w-[375px]' : ''}`}>\r\n                    <div className=\"flex items-center gap-2 mb-1\">\r\n                        <div className=\"w-6 h-6 bg-gray-200 rounded-full flex items-center justify-center text-[10px]\">JL</div>\r\n                        <div className=\"flex flex-col text-xs leading-tight\">\r\n                            <span className=\"text-gray-800 font-medium\">Jambo Linguists</span>\r\n                            <span className=\"text-gray-500\">jambolinguists.com › blog</span>\r\n                        </div>\r\n                    </div>\r\n                    <h3 className=\"text-blue-800 text-xl font-medium hover:underline cursor-pointer truncate\">\r\n                        {seoData.metaTitle || 'Page Title'}\r\n                    </h3>\r\n                    <p className=\"text-gray-600 text-sm mt-1 line-clamp-2\">\r\n                        {seoData.metaDescription || 'No description provided. Google will generate one automatically from your content.'}\r\n                    </p>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Inputs */}\r\n            <div className=\"space-y-4\">\r\n                <div>\r\n                    <div className=\"flex justify-between mb-1\">\r\n                        <label className=\"text-xs font-bold uppercase text-gray-500\">SEO Title</label>\r\n                        <span className={`text-xs ${(seoData.metaTitle?.length || 0) > titleLimit ? 'text-red-500' : 'text-gray-400'}`}>\r\n                            {seoData.metaTitle?.length || 0} / {titleLimit}\r\n                        </span>\r\n                    </div>\r\n                    <input \r\n                        name=\"metaTitle\"\r\n                        value={seoData.metaTitle || ''}\r\n                        onChange={handleChange}\r\n                        className=\"w-full bg-white dark:bg-white/5 border border-gray-200 dark:border-white/10 rounded-lg px-4 py-2.5 text-sm dark:text-white focus:ring-2 focus:ring-jambo-600\"\r\n                        placeholder=\"Optimized Title\"\r\n                    />\r\n                    <div className=\"h-1 w-full bg-gray-100 mt-1 rounded-full overflow-hidden\">\r\n                        <div \r\n                            className={`h-full ${ (seoData.metaTitle?.length || 0) > titleLimit ? 'bg-red-500' : 'bg-green-500'}`} \r\n                            style={{width: `${Math.min(((seoData.metaTitle?.length || 0)/titleLimit)*100, 100)}%`}}\r\n                        ></div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div>\r\n                    <div className=\"flex justify-between mb-1\">\r\n                        <label className=\"text-xs font-bold uppercase text-gray-500\">Meta Description</label>\r\n                        <span className={`text-xs ${(seoData.metaDescription?.length || 0) > descLimit ? 'text-red-500' : 'text-gray-400'}`}>\r\n                            {seoData.metaDescription?.length || 0} / {descLimit}\r\n                        </span>\r\n                    </div>\r\n                    <textarea \r\n                        name=\"metaDescription\"\r\n                        value={seoData.metaDescription || ''}\r\n                        onChange={handleChange}\r\n                        rows={3}\r\n                        className=\"w-full bg-white dark:bg-white/5 border border-gray-200 dark:border-white/10 rounded-lg px-4 py-2.5 text-sm dark:text-white focus:ring-2 focus:ring-jambo-600 resize-none\"\r\n                        placeholder=\"A concise summary...\"\r\n                    />\r\n                </div>\r\n\r\n                <div>\r\n                    <label className=\"text-xs font-bold uppercase text-gray-500 mb-1 block\">Focus Keywords</label>\r\n                    <input \r\n                        name=\"keywords\"\r\n                        value={seoData.keywords?.join(', ') || ''}\r\n                        onChange={handleKeywordsChange}\r\n                        className=\"w-full bg-white dark:bg-white/5 border border-gray-200 dark:border-white/10 rounded-lg px-4 py-2.5 text-sm dark:text-white focus:ring-2 focus:ring-jambo-600\"\r\n                        placeholder=\"comma, separated, keywords\"\r\n                    />\r\n                </div>\r\n\r\n                <div>\r\n                    <label className=\"text-xs font-bold uppercase text-gray-500 mb-1 block\">Canonical URL</label>\r\n                    <input \r\n                        name=\"canonicalUrl\"\r\n                        value={seoData.canonicalUrl || ''}\r\n                        onChange={handleChange}\r\n                        className=\"w-full bg-white dark:bg-white/5 border border-gray-200 dark:border-white/10 rounded-lg px-4 py-2.5 text-sm dark:text-white focus:ring-2 focus:ring-jambo-600\"\r\n                        placeholder=\"https://jambolinguists.com/...\"\r\n                    />\r\n                </div>\r\n\r\n                <div className=\"flex items-center gap-3 pt-4 border-t border-gray-100 dark:border-white/5\">\r\n                    <input \r\n                        type=\"checkbox\" \r\n                        checked={seoData.noIndex || false}\r\n                        onChange={(e) => onChange({...seoData, noIndex: e.target.checked})}\r\n                        className=\"w-4 h-4 text-red-600 rounded focus:ring-red-500\"\r\n                    />\r\n                    <label className=\"text-sm font-bold text-gray-700 dark:text-gray-300\">Discourage search engines from indexing this post</label>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n"],"names":[],"mappings":";;;;;AACA;AAEA;AAAA;AAAA;;;;AAOO,MAAM,WAAW,CAAC,EAAE,OAAO,EAAE,QAAQ,EAAiB;IACzD,MAAM,CAAC,aAAa,eAAe,GAAG,gNAAK,CAAC,QAAQ,CAAuB;IAE3E,MAAM,eAAe,CAAC;QAClB,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,EAAE,MAAM;QAChC,SAAS;YAAE,GAAG,OAAO;YAAE,CAAC,KAAK,EAAE;QAAM;IACzC;IAEA,MAAM,uBAAuB,CAAC;QAC1B,MAAM,MAAM,EAAE,MAAM,CAAC,KAAK;QAC1B,SAAS;YAAE,GAAG,OAAO;YAAE,UAAU,IAAI,KAAK,CAAC,KAAK,GAAG,CAAC,CAAA,IAAK,EAAE,IAAI;QAAI;IACvE;IAEA,SAAS;IACT,MAAM,aAAa;IACnB,MAAM,YAAY;IAElB,qBACI,8OAAC;QAAI,WAAU;;0BAEX,8OAAC;gBAAI,WAAU;;kCACX,8OAAC;wBAAI,WAAU;;0CACX,8OAAC;gCAAG,WAAU;;kDACV,8OAAC,6MAAK;wCAAC,MAAM;;;;;;oCAAM;;;;;;;0CAEvB,8OAAC;gCAAI,WAAU;;kDACX,8OAAC;wCACG,SAAS,IAAM,eAAe;wCAC9B,WAAW,CAAC,cAAc,EAAE,gBAAgB,WAAW,mCAAmC,iBAAiB;kDAE3G,cAAA,8OAAC,4NAAU;4CAAC,MAAM;;;;;;;;;;;kDAEtB,8OAAC;wCACG,SAAS,IAAM,eAAe;wCAC9B,WAAW,CAAC,cAAc,EAAE,gBAAgB,YAAY,mCAAmC,iBAAiB;kDAE5G,cAAA,8OAAC,mNAAO;4CAAC,MAAM;;;;;;;;;;;;;;;;;;;;;;;kCAK3B,8OAAC;wBAAI,WAAW,CAAC,mEAAmE,EAAE,gBAAgB,WAAW,kBAAkB,IAAI;;0CACnI,8OAAC;gCAAI,WAAU;;kDACX,8OAAC;wCAAI,WAAU;kDAAgF;;;;;;kDAC/F,8OAAC;wCAAI,WAAU;;0DACX,8OAAC;gDAAK,WAAU;0DAA4B;;;;;;0DAC5C,8OAAC;gDAAK,WAAU;0DAAgB;;;;;;;;;;;;;;;;;;0CAGxC,8OAAC;gCAAG,WAAU;0CACT,QAAQ,SAAS,IAAI;;;;;;0CAE1B,8OAAC;gCAAE,WAAU;0CACR,QAAQ,eAAe,IAAI;;;;;;;;;;;;;;;;;;0BAMxC,8OAAC;gBAAI,WAAU;;kCACX,8OAAC;;0CACG,8OAAC;gCAAI,WAAU;;kDACX,8OAAC;wCAAM,WAAU;kDAA4C;;;;;;kDAC7D,8OAAC;wCAAK,WAAW,CAAC,QAAQ,EAAE,CAAC,QAAQ,SAAS,EAAE,UAAU,CAAC,IAAI,aAAa,iBAAiB,iBAAiB;;4CACzG,QAAQ,SAAS,EAAE,UAAU;4CAAE;4CAAI;;;;;;;;;;;;;0CAG5C,8OAAC;gCACG,MAAK;gCACL,OAAO,QAAQ,SAAS,IAAI;gCAC5B,UAAU;gCACV,WAAU;gCACV,aAAY;;;;;;0CAEhB,8OAAC;gCAAI,WAAU;0CACX,cAAA,8OAAC;oCACG,WAAW,CAAC,OAAO,EAAG,CAAC,QAAQ,SAAS,EAAE,UAAU,CAAC,IAAI,aAAa,eAAe,gBAAgB;oCACrG,OAAO;wCAAC,OAAO,GAAG,KAAK,GAAG,CAAC,AAAC,CAAC,QAAQ,SAAS,EAAE,UAAU,CAAC,IAAE,aAAY,KAAK,KAAK,CAAC,CAAC;oCAAA;;;;;;;;;;;;;;;;;kCAKjG,8OAAC;;0CACG,8OAAC;gCAAI,WAAU;;kDACX,8OAAC;wCAAM,WAAU;kDAA4C;;;;;;kDAC7D,8OAAC;wCAAK,WAAW,CAAC,QAAQ,EAAE,CAAC,QAAQ,eAAe,EAAE,UAAU,CAAC,IAAI,YAAY,iBAAiB,iBAAiB;;4CAC9G,QAAQ,eAAe,EAAE,UAAU;4CAAE;4CAAI;;;;;;;;;;;;;0CAGlD,8OAAC;gCACG,MAAK;gCACL,OAAO,QAAQ,eAAe,IAAI;gCAClC,UAAU;gCACV,MAAM;gCACN,WAAU;gCACV,aAAY;;;;;;;;;;;;kCAIpB,8OAAC;;0CACG,8OAAC;gCAAM,WAAU;0CAAuD;;;;;;0CACxE,8OAAC;gCACG,MAAK;gCACL,OAAO,QAAQ,QAAQ,EAAE,KAAK,SAAS;gCACvC,UAAU;gCACV,WAAU;gCACV,aAAY;;;;;;;;;;;;kCAIpB,8OAAC;;0CACG,8OAAC;gCAAM,WAAU;0CAAuD;;;;;;0CACxE,8OAAC;gCACG,MAAK;gCACL,OAAO,QAAQ,YAAY,IAAI;gCAC/B,UAAU;gCACV,WAAU;gCACV,aAAY;;;;;;;;;;;;kCAIpB,8OAAC;wBAAI,WAAU;;0CACX,8OAAC;gCACG,MAAK;gCACL,SAAS,QAAQ,OAAO,IAAI;gCAC5B,UAAU,CAAC,IAAM,SAAS;wCAAC,GAAG,OAAO;wCAAE,SAAS,EAAE,MAAM,CAAC,OAAO;oCAAA;gCAChE,WAAU;;;;;;0CAEd,8OAAC;gCAAM,WAAU;0CAAqD;;;;;;;;;;;;;;;;;;;;;;;;AAK1F"}},
    {"offset": {"line": 397, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Khesh/Desktop/Jambo-linguists/components/admin/blog/AiAnalysisPanel.tsx"],"sourcesContent":["\r\nimport React from 'react';\r\nimport { Sparkles, AlertCircle, CheckCircle, BrainCircuit } from 'lucide-react';\r\nimport { ContentAnalysis } from '@/data/services/AiWritingService';\r\n\r\ninterface AiAnalysisPanelProps {\r\n    analysis: ContentAnalysis | null;\r\n    isLoading: boolean;\r\n    onAnalyze: () => void;\r\n    onGenerateSeo: () => void;\r\n}\r\n\r\nexport const AiAnalysisPanel = ({ analysis, isLoading, onAnalyze, onGenerateSeo }: AiAnalysisPanelProps) => {\r\n    \r\n    if (!analysis && !isLoading) {\r\n        return (\r\n            <div className=\"text-center py-12\">\r\n                <div className=\"bg-jambo-50 dark:bg-jambo-900/20 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4 text-jambo-600\">\r\n                    <Sparkles size={32} />\r\n                </div>\r\n                <h4 className=\"font-bold text-gray-900 dark:text-white mb-2\">AI Content Assistant</h4>\r\n                <p className=\"text-sm text-gray-500 dark:text-gray-400 mb-6 max-w-xs mx-auto\">\r\n                    Get real-time feedback on readability, tone, and SEO optimization.\r\n                </p>\r\n                <div className=\"flex flex-col gap-3 px-6\">\r\n                    <button \r\n                        onClick={onAnalyze}\r\n                        className=\"bg-jambo-600 text-white font-bold py-2 rounded-lg hover:bg-jambo-700 transition-colors shadow-lg shadow-jambo-600/20\"\r\n                    >\r\n                        Analyze Content\r\n                    </button>\r\n                    <button \r\n                        onClick={onGenerateSeo}\r\n                        className=\"bg-white dark:bg-white/10 text-jambo-600 dark:text-jambo-400 border border-jambo-200 dark:border-white/10 font-bold py-2 rounded-lg hover:bg-jambo-50 dark:hover:bg-white/20 transition-colors flex items-center justify-center gap-2\"\r\n                    >\r\n                        <BrainCircuit size={16} /> Auto-Generate SEO\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    if (isLoading) {\r\n        return (\r\n            <div className=\"flex flex-col items-center justify-center py-20 text-jambo-600 animate-pulse\">\r\n                <Sparkles size={48} className=\"mb-4\" />\r\n                <p className=\"font-bold\">Analyzing your masterpiece...</p>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className=\"space-y-6 animate-in fade-in duration-300\">\r\n            {/* Score Card */}\r\n            <div className=\"bg-gradient-to-br from-jambo-600 to-jambo-800 rounded-xl p-6 text-white text-center shadow-lg relative overflow-hidden\">\r\n                <div className=\"relative z-10\">\r\n                    <p className=\"text-xs font-bold uppercase tracking-widest opacity-80 mb-2\">Content Score</p>\r\n                    <div className=\"text-5xl font-serif font-bold mb-2\">{analysis?.score || 0}<span className=\"text-2xl opacity-60\">/100</span></div>\r\n                    <div className=\"inline-block px-3 py-1 bg-white/20 rounded-full text-xs font-bold backdrop-blur-md\">\r\n                        {analysis?.readabilityLevel || 'Unknown'} Level\r\n                    </div>\r\n                </div>\r\n                <div className=\"absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full blur-2xl -translate-y-1/2 translate-x-1/2\"></div>\r\n            </div>\r\n\r\n            {/* Tone */}\r\n            <div className=\"bg-gray-50 dark:bg-white/5 p-4 rounded-xl border border-gray-200 dark:border-white/10\">\r\n                <h5 className=\"text-xs font-bold uppercase text-gray-500 mb-2\">Detected Tone</h5>\r\n                <p className=\"text-sm font-medium text-gray-800 dark:text-gray-200 capitalize\">{analysis?.tone || 'Neutral'}</p>\r\n            </div>\r\n\r\n            {/* Suggestions */}\r\n            <div>\r\n                <h5 className=\"text-xs font-bold uppercase text-gray-500 mb-3\">Improvements</h5>\r\n                <div className=\"space-y-2\">\r\n                    {analysis?.suggestions.map((suggestion, idx) => (\r\n                        <div key={idx} className=\"flex gap-3 p-3 bg-white dark:bg-white/5 border border-gray-100 dark:border-white/5 rounded-lg text-sm\">\r\n                            <AlertCircle size={16} className=\"text-orange-500 shrink-0 mt-0.5\" />\r\n                            <span className=\"text-gray-700 dark:text-gray-300\">{suggestion}</span>\r\n                        </div>\r\n                    ))}\r\n                    {analysis?.suggestions.length === 0 && (\r\n                        <div className=\"flex gap-3 p-3 bg-green-50 dark:bg-green-900/20 border border-green-100 dark:border-green-900/30 rounded-lg text-sm\">\r\n                            <CheckCircle size={16} className=\"text-green-500 shrink-0 mt-0.5\" />\r\n                            <span className=\"text-green-800 dark:text-green-200\">No issues found. Great job!</span>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"pt-4 border-t border-gray-100 dark:border-white/5 flex gap-2\">\r\n                <button onClick={onAnalyze} className=\"flex-1 text-xs font-bold text-gray-500 hover:text-jambo-600 transition-colors\">\r\n                    Re-Analyze\r\n                </button>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n"],"names":[],"mappings":";;;;;AAEA;AAAA;AAAA;AAAA;;;AAUO,MAAM,kBAAkB,CAAC,EAAE,QAAQ,EAAE,SAAS,EAAE,SAAS,EAAE,aAAa,EAAwB;IAEnG,IAAI,CAAC,YAAY,CAAC,WAAW;QACzB,qBACI,8OAAC;YAAI,WAAU;;8BACX,8OAAC;oBAAI,WAAU;8BACX,cAAA,8OAAC,sNAAQ;wBAAC,MAAM;;;;;;;;;;;8BAEpB,8OAAC;oBAAG,WAAU;8BAA+C;;;;;;8BAC7D,8OAAC;oBAAE,WAAU;8BAAiE;;;;;;8BAG9E,8OAAC;oBAAI,WAAU;;sCACX,8OAAC;4BACG,SAAS;4BACT,WAAU;sCACb;;;;;;sCAGD,8OAAC;4BACG,SAAS;4BACT,WAAU;;8CAEV,8OAAC,sOAAY;oCAAC,MAAM;;;;;;gCAAM;;;;;;;;;;;;;;;;;;;IAK9C;IAEA,IAAI,WAAW;QACX,qBACI,8OAAC;YAAI,WAAU;;8BACX,8OAAC,sNAAQ;oBAAC,MAAM;oBAAI,WAAU;;;;;;8BAC9B,8OAAC;oBAAE,WAAU;8BAAY;;;;;;;;;;;;IAGrC;IAEA,qBACI,8OAAC;QAAI,WAAU;;0BAEX,8OAAC;gBAAI,WAAU;;kCACX,8OAAC;wBAAI,WAAU;;0CACX,8OAAC;gCAAE,WAAU;0CAA8D;;;;;;0CAC3E,8OAAC;gCAAI,WAAU;;oCAAsC,UAAU,SAAS;kDAAE,8OAAC;wCAAK,WAAU;kDAAsB;;;;;;;;;;;;0CAChH,8OAAC;gCAAI,WAAU;;oCACV,UAAU,oBAAoB;oCAAU;;;;;;;;;;;;;kCAGjD,8OAAC;wBAAI,WAAU;;;;;;;;;;;;0BAInB,8OAAC;gBAAI,WAAU;;kCACX,8OAAC;wBAAG,WAAU;kCAAiD;;;;;;kCAC/D,8OAAC;wBAAE,WAAU;kCAAmE,UAAU,QAAQ;;;;;;;;;;;;0BAItG,8OAAC;;kCACG,8OAAC;wBAAG,WAAU;kCAAiD;;;;;;kCAC/D,8OAAC;wBAAI,WAAU;;4BACV,UAAU,YAAY,IAAI,CAAC,YAAY,oBACpC,8OAAC;oCAAc,WAAU;;sDACrB,8OAAC,mOAAW;4CAAC,MAAM;4CAAI,WAAU;;;;;;sDACjC,8OAAC;4CAAK,WAAU;sDAAoC;;;;;;;mCAF9C;;;;;4BAKb,UAAU,YAAY,WAAW,mBAC9B,8OAAC;gCAAI,WAAU;;kDACX,8OAAC,0OAAW;wCAAC,MAAM;wCAAI,WAAU;;;;;;kDACjC,8OAAC;wCAAK,WAAU;kDAAqC;;;;;;;;;;;;;;;;;;;;;;;;0BAMrE,8OAAC;gBAAI,WAAU;0BACX,cAAA,8OAAC;oBAAO,SAAS;oBAAW,WAAU;8BAAgF;;;;;;;;;;;;;;;;;AAMtI"}},
    {"offset": {"line": 705, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Khesh/Desktop/Jambo-linguists/components/admin/blog/BlogEditor.tsx"],"sourcesContent":["\r\nimport React, { useState, useEffect } from 'react';\r\nimport { BlogPost, SeoConfig } from '@/data/types';\r\nimport { mockDb } from '@/data/mockDatabase';\r\nimport { Save, X, Image as ImageIcon, Sparkles, PenTool, Search } from 'lucide-react';\r\nimport { Button } from '../../ui/Button';\r\nimport { Modal } from '../../ui/Modal';\r\nimport { ImageUploadField } from '../users/add-user/ImageUploadField';\r\nimport { SeoPanel } from './SeoPanel';\r\nimport { AiAnalysisPanel } from './AiAnalysisPanel';\r\nimport { ContentAnalysis } from '@/data/services/AiWritingService';\r\n\r\ninterface BlogEditorProps {\r\n  post: BlogPost | null;\r\n  onClose: () => void;\r\n  onSave: () => void;\r\n}\r\n\r\nexport const BlogEditor = ({ post, onClose, onSave }: BlogEditorProps) => {\r\n  const [activeTab, setActiveTab] = useState<'content' | 'seo'>('content');\r\n  const [formData, setFormData] = useState<Partial<BlogPost>>({\r\n      title: '',\r\n      slug: '',\r\n      excerpt: '',\r\n      content: '',\r\n      coverImage: '',\r\n      tags: [],\r\n      status: 'draft',\r\n      seo: {\r\n          noIndex: false,\r\n          keywords: []\r\n      }\r\n  });\r\n  \r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [isAiLoading, setIsAiLoading] = useState(false);\r\n  const [aiAnalysis, setAiAnalysis] = useState<ContentAnalysis | null>(null);\r\n  \r\n  const [tagInput, setTagInput] = useState('');\r\n  \r\n  // Image handling\r\n  const [previewUrl, setPreviewUrl] = useState<string | null>(null);\r\n\r\n  useEffect(() => {\r\n      if (post) {\r\n          setFormData({ ...post, seo: post.seo || { noIndex: false, keywords: [] } });\r\n          setPreviewUrl(post.coverImage);\r\n      }\r\n  }, [post]);\r\n\r\n  // Auto-generate slug\r\n  useEffect(() => {\r\n      if (!post && formData.title) {\r\n          const slug = formData.title\r\n              .toLowerCase()\r\n              .replace(/[^a-z0-9]+/g, '-')\r\n              .replace(/(^-|-$)+/g, '');\r\n          setFormData(prev => ({ ...prev, slug }));\r\n      }\r\n  }, [formData.title, post]);\r\n\r\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement | HTMLSelectElement>) => {\r\n      const { name, value } = e.target;\r\n      setFormData(prev => ({ ...prev, [name]: value }));\r\n  };\r\n\r\n  const handleTagKeyDown = (e: React.KeyboardEvent) => {\r\n      if (e.key === 'Enter' || e.key === ',') {\r\n          e.preventDefault();\r\n          const newTag = tagInput.trim();\r\n          if (newTag && !formData.tags?.includes(newTag)) {\r\n              setFormData(prev => ({ ...prev, tags: [...(prev.tags || []), newTag] }));\r\n          }\r\n          setTagInput('');\r\n      }\r\n  };\r\n\r\n  const removeTag = (tagToRemove: string) => {\r\n      setFormData(prev => ({ ...prev, tags: prev.tags?.filter(t => t !== tagToRemove) }));\r\n  };\r\n\r\n  const handleImageChange = (file: File) => {\r\n      const url = URL.createObjectURL(file);\r\n      setPreviewUrl(url);\r\n      setFormData(prev => ({ ...prev, coverImage: url })); \r\n  };\r\n\r\n  const handleSeoChange = (seo: SeoConfig) => {\r\n      setFormData(prev => ({ ...prev, seo }));\r\n  };\r\n\r\n  const handleAiAnalyze = async () => {\r\n      if (!formData.content) return;\r\n      setIsAiLoading(true);\r\n      const analysis = await mockDb.ai.analyzeContent(formData.content);\r\n      setAiAnalysis(analysis);\r\n      setIsAiLoading(false);\r\n  };\r\n\r\n  const handleAiSeoGen = async () => {\r\n      if (!formData.content || !formData.title) return;\r\n      setIsAiLoading(true);\r\n      const seoData = await mockDb.ai.generateSeoData(formData.content, formData.title);\r\n      setFormData(prev => ({\r\n          ...prev,\r\n          seo: { ...prev.seo, ...seoData }\r\n      }));\r\n      setIsAiLoading(false);\r\n      setActiveTab('seo'); // Switch to SEO tab to show result\r\n  };\r\n\r\n  const handleSubmit = () => {\r\n      if (!formData.title || !formData.content) {\r\n          alert('Title and Content are required.');\r\n          return;\r\n      }\r\n\r\n      setIsLoading(true);\r\n      setTimeout(() => {\r\n          if (post) {\r\n              mockDb.updateBlog(post.id, formData);\r\n          } else {\r\n              mockDb.createBlog(formData);\r\n          }\r\n          setIsLoading(false);\r\n          onSave();\r\n          onClose();\r\n      }, 800);\r\n  };\r\n\r\n  return (\r\n    <Modal isOpen={true} onClose={onClose} size=\"full\" className=\"h-full lg:h-[95vh]\">\r\n        <div className=\"flex flex-col h-full bg-white dark:bg-[#1a1625]\">\r\n            {/* Header */}\r\n            <div className=\"p-4 border-b border-gray-100 dark:border-white/5 flex flex-col sm:flex-row justify-between items-start sm:items-center bg-gray-50/50 dark:bg-white/5 gap-4\">\r\n                <div className=\"flex flex-col sm:flex-row items-start sm:items-center gap-4 w-full sm:w-auto\">\r\n                    <h2 className=\"text-lg font-bold text-gray-900 dark:text-white shrink-0\">\r\n                        {post ? 'Edit Post' : 'New Post'}\r\n                    </h2>\r\n                    <div className=\"flex bg-gray-200 dark:bg-white/10 p-1 rounded-lg w-full sm:w-auto\">\r\n                        <button \r\n                            onClick={() => setActiveTab('content')}\r\n                            className={`flex-1 sm:flex-none px-4 py-1.5 rounded-md text-xs font-bold transition-all flex items-center justify-center gap-2 ${activeTab === 'content' ? 'bg-white text-gray-900 shadow-sm' : 'text-gray-500 hover:text-gray-700'}`}\r\n                        >\r\n                            <PenTool size={14} /> Content\r\n                        </button>\r\n                        <button \r\n                            onClick={() => setActiveTab('seo')}\r\n                            className={`flex-1 sm:flex-none px-4 py-1.5 rounded-md text-xs font-bold transition-all flex items-center justify-center gap-2 ${activeTab === 'seo' ? 'bg-white text-gray-900 shadow-sm' : 'text-gray-500 hover:text-gray-700'}`}\r\n                        >\r\n                            <Search size={14} /> SEO\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n                <div className=\"flex gap-2 w-full sm:w-auto justify-end\">\r\n                    <Button variant=\"ghost\" onClick={onClose} className=\"p-2\"><X size={20} /></Button>\r\n                    <Button variant=\"primary\" onClick={handleSubmit} isLoading={isLoading} className=\"text-xs px-4\">\r\n                        <Save size={16} /> Save\r\n                    </Button>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Body */}\r\n            <div className=\"flex-1 flex flex-col lg:flex-row overflow-hidden\">\r\n                {/* Main Edit Area */}\r\n                <div className=\"flex-1 overflow-y-auto custom-scrollbar p-4 lg:p-6 lg:border-r border-gray-100 dark:border-white/5\">\r\n                    {activeTab === 'content' ? (\r\n                        <div className=\"max-w-4xl mx-auto space-y-6\">\r\n                            <div>\r\n                                <input \r\n                                    name=\"title\"\r\n                                    value={formData.title}\r\n                                    onChange={handleChange}\r\n                                    className=\"w-full text-3xl lg:text-4xl font-serif font-bold text-gray-900 dark:text-white bg-transparent border-none focus:ring-0 placeholder:text-gray-300\"\r\n                                    placeholder=\"Enter Post Title...\"\r\n                                />\r\n                            </div>\r\n                            <div className=\"h-full min-h-[400px]\">\r\n                                <textarea \r\n                                    name=\"content\"\r\n                                    value={formData.content}\r\n                                    onChange={handleChange}\r\n                                    className=\"w-full h-full min-h-[400px] lg:h-[600px] bg-transparent border-none resize-none text-base lg:text-lg leading-relaxed text-gray-800 dark:text-gray-200 focus:ring-0 placeholder:text-gray-300 font-mono\"\r\n                                    placeholder=\"Start writing your story... (Markdown supported)\"\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                    ) : (\r\n                        <div className=\"max-w-2xl mx-auto\">\r\n                            <SeoPanel \r\n                                seoData={formData.seo!} \r\n                                onChange={handleSeoChange} \r\n                            />\r\n                        </div>\r\n                    )}\r\n                </div>\r\n\r\n                {/* Right Sidebar (Settings & AI) */}\r\n                <div className=\"w-full lg:w-80 bg-gray-50/50 dark:bg-black/10 overflow-y-auto custom-scrollbar p-4 space-y-6 border-t lg:border-t-0 lg:border-l border-gray-100 dark:border-white/5 shrink-0 h-[40vh] lg:h-auto\">\r\n                    \r\n                    {activeTab === 'content' && (\r\n                        <AiAnalysisPanel \r\n                            analysis={aiAnalysis} \r\n                            isLoading={isAiLoading}\r\n                            onAnalyze={handleAiAnalyze}\r\n                            onGenerateSeo={handleAiSeoGen}\r\n                        />\r\n                    )}\r\n\r\n                    <div className=\"space-y-4\">\r\n                        <h4 className=\"text-xs font-bold uppercase text-gray-400\">Settings</h4>\r\n                        \r\n                        <div className=\"bg-white dark:bg-white/5 p-3 rounded-lg border border-gray-200 dark:border-white/10\">\r\n                            <label className=\"block text-xs font-bold uppercase text-gray-500 mb-2\">Slug</label>\r\n                            <input \r\n                                name=\"slug\"\r\n                                value={formData.slug}\r\n                                onChange={handleChange}\r\n                                className=\"w-full bg-transparent text-sm font-mono text-gray-600 dark:text-gray-300 focus:outline-none\"\r\n                            />\r\n                        </div>\r\n\r\n                        <div className=\"bg-white dark:bg-white/5 p-3 rounded-lg border border-gray-200 dark:border-white/10\">\r\n                            <label className=\"block text-xs font-bold uppercase text-gray-500 mb-2\">Publish Status</label>\r\n                            <select \r\n                                name=\"status\"\r\n                                value={formData.status}\r\n                                onChange={handleChange}\r\n                                className=\"w-full bg-transparent text-sm focus:outline-none\"\r\n                            >\r\n                                <option value=\"draft\">Draft</option>\r\n                                <option value=\"published\">Published</option>\r\n                            </select>\r\n                        </div>\r\n\r\n                        <div className=\"bg-white dark:bg-white/5 p-3 rounded-lg border border-gray-200 dark:border-white/10\">\r\n                            <label className=\"block text-xs font-bold uppercase text-gray-500 mb-2\">Featured Image</label>\r\n                            <ImageUploadField \r\n                                label=\"\"\r\n                                icon={<ImageIcon size={20} />}\r\n                                previewUrl={previewUrl}\r\n                                onFileChange={handleImageChange}\r\n                            />\r\n                        </div>\r\n\r\n                        <div className=\"bg-white dark:bg-white/5 p-3 rounded-lg border border-gray-200 dark:border-white/10\">\r\n                            <label className=\"block text-xs font-bold uppercase text-gray-500 mb-2\">Excerpt</label>\r\n                            <textarea \r\n                                name=\"excerpt\"\r\n                                value={formData.excerpt}\r\n                                onChange={handleChange}\r\n                                rows={3}\r\n                                className=\"w-full bg-transparent text-sm resize-none focus:outline-none\"\r\n                                placeholder=\"Short summary...\"\r\n                            />\r\n                        </div>\r\n\r\n                        <div className=\"bg-white dark:bg-white/5 p-3 rounded-lg border border-gray-200 dark:border-white/10\">\r\n                            <label className=\"block text-xs font-bold uppercase text-gray-500 mb-2\">Tags</label>\r\n                            <div className=\"flex flex-wrap gap-2 mb-2\">\r\n                                {formData.tags?.map(tag => (\r\n                                    <span key={tag} className=\"bg-gray-100 dark:bg-white/10 px-2 py-1 rounded text-xs flex items-center gap-1\">\r\n                                        {tag}\r\n                                        <button onClick={() => removeTag(tag)} className=\"hover:text-red-500\"><X size={10}/></button>\r\n                                    </span>\r\n                                ))}\r\n                            </div>\r\n                            <input \r\n                                value={tagInput}\r\n                                onChange={(e) => setTagInput(e.target.value)}\r\n                                onKeyDown={handleTagKeyDown}\r\n                                className=\"w-full bg-transparent text-sm outline-none\"\r\n                                placeholder=\"Add tag...\"\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </Modal>\r\n  );\r\n};\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1304, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Khesh/Desktop/Jambo-linguists/components/admin/blog/AdminBlogManager.tsx"],"sourcesContent":["\r\nimport React, { useState, useEffect } from 'react';\r\nimport { BlogPost } from '@/data/types';\r\nimport { mockDb } from '@/data/mockDatabase';\r\nimport { Plus, Search, Edit2, Trash2, Eye, Calendar } from 'lucide-react';\r\nimport { Button } from '../../ui/Button';\r\nimport { Input } from '../../ui/Input';\r\nimport { Table, TableHeader, TableBody, TableRow, TableHead, TableCell } from '../../ui/Table';\r\nimport { Badge } from '../../ui/Badge';\r\nimport { BlogEditor } from './BlogEditor';\r\n\r\ninterface AdminBlogManagerProps {\r\n    actionRequest?: string | null;\r\n    onActionComplete?: () => void;\r\n}\r\n\r\nexport const AdminBlogManager = ({ actionRequest, onActionComplete }: AdminBlogManagerProps) => {\r\n  const [posts, setPosts] = useState<BlogPost[]>([]);\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [selectedPost, setSelectedPost] = useState<BlogPost | null>(null);\r\n  const [isEditorOpen, setIsEditorOpen] = useState(false);\r\n\r\n  const refreshData = () => {\r\n      setPosts(mockDb.getAllBlogs(true)); // Include drafts\r\n  };\r\n\r\n  useEffect(() => {\r\n      refreshData();\r\n  }, []);\r\n\r\n  // Handle external triggers (e.g. from FAB)\r\n  useEffect(() => {\r\n      if (actionRequest === 'create-post') {\r\n          handleCreate();\r\n          if (onActionComplete) onActionComplete();\r\n      }\r\n  }, [actionRequest, onActionComplete]);\r\n\r\n  const handleDelete = (id: string, e?: React.MouseEvent) => {\r\n      e?.stopPropagation();\r\n      e?.preventDefault();\r\n      if (confirm('Are you sure you want to delete this post?')) {\r\n          mockDb.deleteBlog(id);\r\n          refreshData();\r\n      }\r\n  };\r\n\r\n  const handleEdit = (post: BlogPost, e?: React.MouseEvent) => {\r\n      e?.stopPropagation();\r\n      // e.preventDefault(); // Don't prevent default on main card click to allow natural behavior unless button\r\n      setSelectedPost(post);\r\n      setIsEditorOpen(true);\r\n  };\r\n\r\n  const handleCreate = () => {\r\n      setSelectedPost(null);\r\n      setIsEditorOpen(true);\r\n  };\r\n\r\n  const handleViewLive = (slug: string, e?: React.MouseEvent) => {\r\n      e?.stopPropagation();\r\n      e?.preventDefault();\r\n      window.open(`/blog?slug=${slug}`, '_blank');\r\n  };\r\n\r\n  const filteredPosts = posts.filter(p => \r\n      p.title.toLowerCase().includes(searchTerm.toLowerCase()) || \r\n      p.slug.includes(searchTerm.toLowerCase())\r\n  );\r\n\r\n  return (\r\n    <div className=\"space-y-6 animate-in fade-in duration-500 pb-20\">\r\n        <div className=\"flex flex-col md:flex-row justify-between gap-4\">\r\n            <div>\r\n                <h2 className=\"text-2xl font-bold text-gray-900 dark:text-white\">Blog Manager</h2>\r\n                <p className=\"text-sm text-gray-500 dark:text-gray-400\">Create, edit, and publish content.</p>\r\n            </div>\r\n            <div className=\"hidden md:block\">\r\n                <Button onClick={handleCreate} leftIcon={<Plus size={18} />}>\r\n                    Create Post\r\n                </Button>\r\n            </div>\r\n        </div>\r\n\r\n        <div className=\"bg-white dark:bg-[#13111c] rounded-xl shadow-sm border border-gray-200 dark:border-white/5 overflow-hidden\">\r\n            <div className=\"p-4 border-b border-gray-100 dark:border-white/5\">\r\n                <div className=\"w-full md:max-w-sm\">\r\n                    <Input \r\n                        leftIcon={<Search size={16}/>}\r\n                        placeholder=\"Search posts...\"\r\n                        value={searchTerm}\r\n                        onChange={(e) => setSearchTerm(e.target.value)}\r\n                    />\r\n                </div>\r\n            </div>\r\n\r\n            {/* Mobile View */}\r\n            <div className=\"md:hidden divide-y divide-gray-100 dark:divide-white/5\">\r\n                {filteredPosts.length === 0 ? (\r\n                    <div className=\"p-8 text-center text-gray-500 text-sm\">No posts found.</div>\r\n                ) : (\r\n                    filteredPosts.map(post => {\r\n                        const author = mockDb.getAllUsers().find(u => u.id === post.authorId);\r\n                        return (\r\n                            <div key={post.id} className=\"p-4 flex flex-col gap-4 active:bg-gray-50 dark:active:bg-white/5 transition-colors\" onClick={() => handleEdit(post)}>\r\n                                <div className=\"flex items-start justify-between\">\r\n                                    <div className=\"flex items-center gap-3 overflow-hidden\">\r\n                                        <div className=\"w-14 h-14 rounded-lg bg-gray-100 dark:bg-white/5 overflow-hidden shrink-0\">\r\n                                            <img src={post.coverImage} className=\"w-full h-full object-cover\" alt=\"Cover\" />\r\n                                        </div>\r\n                                        <div className=\"min-w-0\">\r\n                                            <h4 className=\"font-bold text-gray-900 dark:text-white text-sm truncate leading-tight mb-1\">{post.title}</h4>\r\n                                            <p className=\"text-xs text-gray-500 font-mono truncate\">{post.slug}</p>\r\n                                        </div>\r\n                                    </div>\r\n                                    <Badge variant={post.status === 'published' ? 'success' : 'neutral'} className=\"shrink-0\">\r\n                                        {post.status}\r\n                                    </Badge>\r\n                                </div>\r\n                                \r\n                                <div className=\"flex items-center justify-between text-xs text-gray-500\">\r\n                                    <div className=\"flex items-center gap-2\">\r\n                                        <span>{author ? `${author.firstName} ${author.lastName}` : 'Unknown'}</span>\r\n                                        <span>•</span>\r\n                                        <span>{new Date(post.updatedAt).toLocaleDateString()}</span>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div className=\"grid grid-cols-3 gap-3 pt-2\">\r\n                                    <button \r\n                                        onClick={(e) => handleViewLive(post.slug, e)}\r\n                                        className=\"py-3 px-3 bg-gray-50 dark:bg-white/5 text-gray-700 dark:text-gray-200 rounded-lg text-sm font-bold flex items-center justify-center gap-2 hover:bg-gray-100 dark:hover:bg-white/10 active:scale-95 transition-all\"\r\n                                    >\r\n                                        <Eye size={18} /> View\r\n                                    </button>\r\n                                    <button \r\n                                        onClick={(e) => handleEdit(post, e)}\r\n                                        className=\"py-3 px-3 bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300 rounded-lg text-sm font-bold flex items-center justify-center gap-2 hover:bg-blue-100 dark:hover:bg-blue-900/30 active:scale-95 transition-all\"\r\n                                    >\r\n                                        <Edit2 size={18} /> Edit\r\n                                    </button>\r\n                                    <button \r\n                                        onClick={(e) => handleDelete(post.id, e)}\r\n                                        className=\"py-3 px-3 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 rounded-lg text-sm font-bold flex items-center justify-center gap-2 hover:bg-red-100 dark:hover:bg-red-900/30 active:scale-95 transition-all\"\r\n                                    >\r\n                                        <Trash2 size={18} /> Delete\r\n                                    </button>\r\n                                </div>\r\n                            </div>\r\n                        );\r\n                    })\r\n                )}\r\n            </div>\r\n\r\n            {/* Desktop View */}\r\n            <div className=\"hidden md:block\">\r\n                <Table>\r\n                    <TableHeader>\r\n                        <TableRow>\r\n                            <TableHead>Post Title</TableHead>\r\n                            <TableHead>Status</TableHead>\r\n                            <TableHead>Author</TableHead>\r\n                            <TableHead>Date</TableHead>\r\n                            <TableHead align=\"right\">Actions</TableHead>\r\n                        </TableRow>\r\n                    </TableHeader>\r\n                    <TableBody>\r\n                        {filteredPosts.length === 0 ? (\r\n                            <TableRow>\r\n                                <TableCell className=\"text-center py-8 text-gray-500\" >No posts found.</TableCell>\r\n                                <TableCell />\r\n                                <TableCell />\r\n                                <TableCell />\r\n                                <TableCell />\r\n                            </TableRow>\r\n                        ) : (\r\n                            filteredPosts.map(post => {\r\n                                const author = mockDb.getAllUsers().find(u => u.id === post.authorId);\r\n                                return (\r\n                                    <TableRow key={post.id} onClick={(e) => handleEdit(post, e)}>\r\n                                        <TableCell>\r\n                                            <div className=\"flex items-center gap-3\">\r\n                                                <div className=\"w-10 h-10 rounded-lg bg-gray-100 dark:bg-white/5 overflow-hidden shrink-0\">\r\n                                                    <img src={post.coverImage} className=\"w-full h-full object-cover\" alt=\"Cover\" />\r\n                                                </div>\r\n                                                <div className=\"min-w-0\">\r\n                                                    <p className=\"font-bold text-gray-900 dark:text-white truncate max-w-[200px] md:max-w-xs\" title={post.title}>{post.title}</p>\r\n                                                    <p className=\"text-xs text-gray-500 font-mono truncate\">{post.slug}</p>\r\n                                                </div>\r\n                                            </div>\r\n                                        </TableCell>\r\n                                        <TableCell>\r\n                                            <Badge variant={post.status === 'published' ? 'success' : 'neutral'}>\r\n                                                {post.status}\r\n                                            </Badge>\r\n                                        </TableCell>\r\n                                        <TableCell>\r\n                                            <span className=\"text-sm text-gray-600 dark:text-gray-300\">{author ? `${author.firstName} ${author.lastName}` : 'Unknown'}</span>\r\n                                        </TableCell>\r\n                                        <TableCell>\r\n                                            <div className=\"flex items-center gap-1 text-xs text-gray-500\">\r\n                                                <Calendar size={12} />\r\n                                                {new Date(post.updatedAt).toLocaleDateString()}\r\n                                            </div>\r\n                                        </TableCell>\r\n                                        <TableCell align=\"right\">\r\n                                            <div className=\"flex items-center justify-end gap-2\">\r\n                                                <button \r\n                                                    onClick={(e) => handleViewLive(post.slug, e)}\r\n                                                    className=\"p-2 text-gray-400 hover:text-jambo-600 dark:hover:text-white transition-colors\"\r\n                                                    title=\"View Live\"\r\n                                                >\r\n                                                    <Eye size={16} />\r\n                                                </button>\r\n                                                <button \r\n                                                    onClick={(e) => handleEdit(post, e)}\r\n                                                    className=\"p-2 text-gray-400 hover:text-blue-500 transition-colors\"\r\n                                                    title=\"Edit\"\r\n                                                >\r\n                                                    <Edit2 size={16} />\r\n                                                </button>\r\n                                                <button \r\n                                                    onClick={(e) => handleDelete(post.id, e)}\r\n                                                    className=\"p-2 text-gray-400 hover:text-red-500 transition-colors\"\r\n                                                    title=\"Delete\"\r\n                                                >\r\n                                                    <Trash2 size={16} />\r\n                                                </button>\r\n                                            </div>\r\n                                        </TableCell>\r\n                                    </TableRow>\r\n                                );\r\n                            })\r\n                        )}\r\n                    </TableBody>\r\n                </Table>\r\n            </div>\r\n        </div>\r\n\r\n        {isEditorOpen && (\r\n            <BlogEditor \r\n                post={selectedPost} \r\n                onClose={() => setIsEditorOpen(false)} \r\n                onSave={refreshData}\r\n            />\r\n        )}\r\n    </div>\r\n  );\r\n};\r\n"],"names":[],"mappings":"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"}}]
}