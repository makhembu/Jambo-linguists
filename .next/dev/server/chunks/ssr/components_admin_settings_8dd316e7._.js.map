{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Khesh/Desktop/Jambo-linguists/components/admin/settings/SettingsTab.tsx"],"sourcesContent":["\r\nimport React, { useState, useEffect } from 'react';\r\nimport { mockDb, SystemSettings } from '@/data/mockDatabase';\r\nimport { Switch } from '../../ui/Switch';\r\nimport { UserPlus, ShieldAlert, ShoppingBag, CreditCard, BookOpen, AlertTriangle } from 'lucide-react';\r\nimport { Card } from '../../ui/Card';\r\n\r\nexport const SettingsTab = () => {\r\n  const [settings, setSettings] = useState<SystemSettings>(mockDb.getSettings());\r\n  const [hasChanges, setHasChanges] = useState(false);\r\n\r\n  const handleChange = (key: keyof SystemSettings, value: any) => {\r\n      const newSettings = { ...settings, [key]: value };\r\n      setSettings(newSettings);\r\n      setHasChanges(true);\r\n      // Auto-save logic can be implemented here, or explicit save button.\r\n      // For immediate feedback UX, let's auto-save to mockDb\r\n      mockDb.updateSettings({ [key]: value });\r\n  };\r\n\r\n  return (\r\n    <div className=\"grid grid-cols-1 xl:grid-cols-2 gap-6\">\r\n        \r\n        {/* User Registration & Onboarding */}\r\n        <Card className=\"p-6 h-fit\">\r\n            <div className=\"flex items-center gap-3 mb-6 border-b border-gray-100 dark:border-white/5 pb-4\">\r\n                <div className=\"p-2 bg-blue-100 dark:bg-blue-900/30 text-blue-600 rounded-lg\">\r\n                    <UserPlus size={20} />\r\n                </div>\r\n                <h3 className=\"font-bold text-gray-900 dark:text-white\">Registration & Access</h3>\r\n            </div>\r\n            \r\n            <div className=\"space-y-6\">\r\n                <div className=\"flex items-center justify-between gap-4\">\r\n                    <div>\r\n                        <p className=\"font-bold text-sm text-gray-800 dark:text-gray-200\">Allow New Registrations</p>\r\n                        <p className=\"text-xs text-gray-500 dark:text-gray-400 mt-1\">If disabled, the sign-up page will reject new users.</p>\r\n                    </div>\r\n                    <Switch checked={settings.registrationsOpen} onChange={(v) => handleChange('registrationsOpen', v)} />\r\n                </div>\r\n                \r\n                <div className=\"flex items-center justify-between gap-4\">\r\n                    <div>\r\n                        <p className=\"font-bold text-sm text-gray-800 dark:text-gray-200\">Manual Verification Required</p>\r\n                        <p className=\"text-xs text-gray-500 dark:text-gray-400 mt-1\">New accounts must be approved by an admin before accessing jobs.</p>\r\n                    </div>\r\n                    <Switch checked={settings.requireManualVerification} onChange={(v) => handleChange('requireManualVerification', v)} />\r\n                </div>\r\n            </div>\r\n        </Card>\r\n\r\n        {/* Marketplace & Operations */}\r\n        <Card className=\"p-6 h-fit\">\r\n            <div className=\"flex items-center gap-3 mb-6 border-b border-gray-100 dark:border-white/5 pb-4\">\r\n                <div className=\"p-2 bg-purple-100 dark:bg-purple-900/30 text-purple-600 rounded-lg\">\r\n                    <ShoppingBag size={20} />\r\n                </div>\r\n                <h3 className=\"font-bold text-gray-900 dark:text-white\">Marketplace Operations</h3>\r\n            </div>\r\n            \r\n            <div className=\"space-y-6\">\r\n                <div className=\"flex items-center justify-between gap-4\">\r\n                    <div>\r\n                        <p className=\"font-bold text-sm text-gray-800 dark:text-gray-200\">Marketplace Enabled</p>\r\n                        <p className=\"text-xs text-gray-500 dark:text-gray-400 mt-1\">Linguists can browse and claim 'Open' jobs. If disabled, only Admins can assign jobs.</p>\r\n                    </div>\r\n                    <Switch checked={settings.marketplaceEnabled} onChange={(v) => handleChange('marketplaceEnabled', v)} />\r\n                </div>\r\n\r\n                <div className=\"flex items-center justify-between gap-4\">\r\n                    <div>\r\n                        <p className=\"font-bold text-sm text-gray-800 dark:text-gray-200\">System Maintenance Mode</p>\r\n                        <p className=\"text-xs text-gray-500 dark:text-gray-400 mt-1\">Shows a maintenance screen to all non-admin users.</p>\r\n                    </div>\r\n                    <Switch checked={settings.maintenanceMode} onChange={(v) => handleChange('maintenanceMode', v)} />\r\n                </div>\r\n            </div>\r\n        </Card>\r\n\r\n        {/* Finance Configuration */}\r\n        <Card className=\"p-6 h-fit\">\r\n            <div className=\"flex items-center gap-3 mb-6 border-b border-gray-100 dark:border-white/5 pb-4\">\r\n                <div className=\"p-2 bg-green-100 dark:bg-green-900/30 text-green-600 rounded-lg\">\r\n                    <CreditCard size={20} />\r\n                </div>\r\n                <h3 className=\"font-bold text-gray-900 dark:text-white\">Finance Defaults</h3>\r\n            </div>\r\n            \r\n            <div className=\"space-y-6\">\r\n                <div className=\"flex items-center justify-between gap-4\">\r\n                    <div>\r\n                        <p className=\"font-bold text-sm text-gray-800 dark:text-gray-200\">Auto-Generate Invoices</p>\r\n                        <p className=\"text-xs text-gray-500 dark:text-gray-400 mt-1\">Automatically create draft invoices upon job completion.</p>\r\n                    </div>\r\n                    <Switch checked={settings.autoInvoiceGeneration} onChange={(v) => handleChange('autoInvoiceGeneration', v)} />\r\n                </div>\r\n\r\n                <div className=\"flex items-center justify-between gap-4\">\r\n                    <div>\r\n                        <p className=\"font-bold text-sm text-gray-800 dark:text-gray-200\">Default VAT Rate (%)</p>\r\n                        <p className=\"text-xs text-gray-500 dark:text-gray-400 mt-1\">Applied to all new generated invoices.</p>\r\n                    </div>\r\n                    <input \r\n                        type=\"number\" \r\n                        value={settings.defaultVatRate}\r\n                        onChange={(e) => handleChange('defaultVatRate', parseFloat(e.target.value))}\r\n                        className=\"w-20 bg-gray-50 dark:bg-white/5 border border-gray-200 dark:border-white/10 rounded-lg px-3 py-1.5 text-sm text-right focus:outline-none focus:ring-2 focus:ring-jambo-600\"\r\n                    />\r\n                </div>\r\n            </div>\r\n        </Card>\r\n\r\n        {/* LMS / Training */}\r\n        <Card className=\"p-6 h-fit\">\r\n            <div className=\"flex items-center gap-3 mb-6 border-b border-gray-100 dark:border-white/5 pb-4\">\r\n                <div className=\"p-2 bg-orange-100 dark:bg-orange-900/30 text-orange-600 rounded-lg\">\r\n                    <BookOpen size={20} />\r\n                </div>\r\n                <h3 className=\"font-bold text-gray-900 dark:text-white\">Learning Management (LMS)</h3>\r\n            </div>\r\n            \r\n            <div className=\"space-y-6\">\r\n                <div className=\"flex items-center justify-between gap-4\">\r\n                    <div>\r\n                        <p className=\"font-bold text-sm text-gray-800 dark:text-gray-200\">Instructor Course Creation</p>\r\n                        <p className=\"text-xs text-gray-500 dark:text-gray-400 mt-1\">Allow users with 'Trainer' role to add new courses without Admin approval.</p>\r\n                    </div>\r\n                    <Switch checked={settings.allowInstructorCourseCreation} onChange={(v) => handleChange('allowInstructorCourseCreation', v)} />\r\n                </div>\r\n            </div>\r\n        </Card>\r\n\r\n    </div>\r\n  );\r\n};\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 536, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Khesh/Desktop/Jambo-linguists/components/admin/settings/AdminManagementTab.tsx"],"sourcesContent":["\r\nimport React, { useState } from 'react';\r\nimport { mockDb, User } from '@/data/mockDatabase';\r\nimport { Table, TableHeader, TableBody, TableRow, TableHead, TableCell } from '../../ui/Table';\r\nimport { Button } from '../../ui/Button';\r\nimport { UserPlus, Trash2, ShieldCheck, Mail } from 'lucide-react';\r\nimport { AddUserModal } from '../users/AddUserModal';\r\n\r\nexport const AdminManagementTab = () => {\r\n  const [admins, setAdmins] = useState<User[]>(mockDb.getAllUsers().filter(u => u.role === 'admin'));\r\n  const [isAddModalOpen, setIsAddModalOpen] = useState(false);\r\n  const currentUser = mockDb.auth.getCurrentUser();\r\n\r\n  const refreshAdmins = () => {\r\n      setAdmins(mockDb.getAllUsers().filter(u => u.role === 'admin'));\r\n  };\r\n\r\n  const handleDemote = (adminId: string) => {\r\n      if (adminId === currentUser?.id) {\r\n          alert(\"You cannot remove your own admin privileges.\");\r\n          return;\r\n      }\r\n      if (confirm(\"Are you sure you want to remove admin privileges from this user? They will become a standard linguist.\")) {\r\n          mockDb.adminUpdateUser(adminId, { role: 'linguist' });\r\n          refreshAdmins();\r\n      }\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n        <div className=\"flex justify-between items-center bg-white dark:bg-[#1a1625] p-6 rounded-xl border border-gray-200 dark:border-white/5 shadow-sm\">\r\n            <div>\r\n                <h3 className=\"text-lg font-bold text-gray-900 dark:text-white\">Administrator Accounts</h3>\r\n                <p className=\"text-sm text-gray-500 dark:text-gray-400\">Manage who has access to the Admin Portal.</p>\r\n            </div>\r\n            <Button onClick={() => setIsAddModalOpen(true)} leftIcon={<UserPlus size={18} />}>\r\n                Add New Admin\r\n            </Button>\r\n        </div>\r\n\r\n        <div className=\"bg-white dark:bg-[#1a1625] rounded-xl border border-gray-200 dark:border-white/5 overflow-hidden\">\r\n            <Table>\r\n                <TableHeader>\r\n                    <TableRow>\r\n                        <TableHead>User</TableHead>\r\n                        <TableHead>Email</TableHead>\r\n                        <TableHead>Role</TableHead>\r\n                        <TableHead>Last Active</TableHead>\r\n                        <TableHead align=\"right\">Actions</TableHead>\r\n                    </TableRow>\r\n                </TableHeader>\r\n                <TableBody>\r\n                    {admins.map(admin => (\r\n                        <TableRow key={admin.id}>\r\n                            <TableCell>\r\n                                <div className=\"flex items-center gap-3\">\r\n                                    <div className=\"w-8 h-8 rounded-full bg-jambo-100 dark:bg-jambo-900/30 text-jambo-700 dark:text-jambo-300 flex items-center justify-center text-xs font-bold border border-jambo-200 dark:border-jambo-800\">\r\n                                        {admin.avatarUrl ? <img src={admin.avatarUrl} className=\"w-full h-full object-cover rounded-full\"/> : admin.firstName[0]}\r\n                                    </div>\r\n                                    <span className=\"font-bold text-gray-900 dark:text-white\">{admin.firstName} {admin.lastName}</span>\r\n                                </div>\r\n                            </TableCell>\r\n                            <TableCell>\r\n                                <div className=\"flex items-center gap-2 text-gray-600 dark:text-gray-300 text-sm\">\r\n                                    <Mail size={14} className=\"text-gray-400\" /> {admin.email}\r\n                                </div>\r\n                            </TableCell>\r\n                            <TableCell>\r\n                                <span className=\"inline-flex items-center gap-1.5 px-2.5 py-0.5 rounded-full text-xs font-bold bg-purple-100 text-purple-700 border border-purple-200 dark:bg-purple-900/30 dark:text-purple-300 dark:border-purple-800\">\r\n                                    <ShieldCheck size={12} /> Admin\r\n                                </span>\r\n                            </TableCell>\r\n                            <TableCell>\r\n                                <span className=\"text-gray-500 text-xs\">Today</span>\r\n                            </TableCell>\r\n                            <TableCell align=\"right\">\r\n                                {admin.id !== currentUser?.id && (\r\n                                    <button \r\n                                        onClick={() => handleDemote(admin.id)}\r\n                                        className=\"text-red-500 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-900/20 p-2 rounded-lg transition-colors\"\r\n                                        title=\"Remove Admin Access\"\r\n                                    >\r\n                                        <Trash2 size={16} />\r\n                                    </button>\r\n                                )}\r\n                                {admin.id === currentUser?.id && (\r\n                                    <span className=\"text-xs text-gray-400 italic mr-2\">Current User</span>\r\n                                )}\r\n                            </TableCell>\r\n                        </TableRow>\r\n                    ))}\r\n                </TableBody>\r\n            </Table>\r\n        </div>\r\n\r\n        {isAddModalOpen && (\r\n            <AddUserModal \r\n                onClose={() => setIsAddModalOpen(false)}\r\n                onUserAdded={refreshAdmins}\r\n            />\r\n        )}\r\n    </div>\r\n  );\r\n};\r\n"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;;;;;;;;AAEO,MAAM,qBAAqB;IAChC,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,iNAAQ,EAAS,8IAAM,CAAC,WAAW,GAAG,MAAM,CAAC,CAAA,IAAK,EAAE,IAAI,KAAK;IACzF,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,IAAA,iNAAQ,EAAC;IACrD,MAAM,cAAc,8IAAM,CAAC,IAAI,CAAC,cAAc;IAE9C,MAAM,gBAAgB;QAClB,UAAU,8IAAM,CAAC,WAAW,GAAG,MAAM,CAAC,CAAA,IAAK,EAAE,IAAI,KAAK;IAC1D;IAEA,MAAM,eAAe,CAAC;QAClB,IAAI,YAAY,aAAa,IAAI;YAC7B,MAAM;YACN;QACJ;QACA,IAAI,QAAQ,2GAA2G;YACnH,8IAAM,CAAC,eAAe,CAAC,SAAS;gBAAE,MAAM;YAAW;YACnD;QACJ;IACJ;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BACX,8OAAC;gBAAI,WAAU;;kCACX,8OAAC;;0CACG,8OAAC;gCAAG,WAAU;0CAAkD;;;;;;0CAChE,8OAAC;gCAAE,WAAU;0CAA2C;;;;;;;;;;;;kCAE5D,8OAAC,qIAAM;wBAAC,SAAS,IAAM,kBAAkB;wBAAO,wBAAU,8OAAC,0NAAQ;4BAAC,MAAM;;;;;;kCAAQ;;;;;;;;;;;;0BAKtF,8OAAC;gBAAI,WAAU;0BACX,cAAA,8OAAC,mIAAK;;sCACF,8OAAC,yIAAW;sCACR,cAAA,8OAAC,sIAAQ;;kDACL,8OAAC,uIAAS;kDAAC;;;;;;kDACX,8OAAC,uIAAS;kDAAC;;;;;;kDACX,8OAAC,uIAAS;kDAAC;;;;;;kDACX,8OAAC,uIAAS;kDAAC;;;;;;kDACX,8OAAC,uIAAS;wCAAC,OAAM;kDAAQ;;;;;;;;;;;;;;;;;sCAGjC,8OAAC,uIAAS;sCACL,OAAO,GAAG,CAAC,CAAA,sBACR,8OAAC,sIAAQ;;sDACL,8OAAC,uIAAS;sDACN,cAAA,8OAAC;gDAAI,WAAU;;kEACX,8OAAC;wDAAI,WAAU;kEACV,MAAM,SAAS,iBAAG,8OAAC;4DAAI,KAAK,MAAM,SAAS;4DAAE,WAAU;;;;;uGAA8C,MAAM,SAAS,CAAC,EAAE;;;;;;kEAE5H,8OAAC;wDAAK,WAAU;;4DAA2C,MAAM,SAAS;4DAAC;4DAAE,MAAM,QAAQ;;;;;;;;;;;;;;;;;;sDAGnG,8OAAC,uIAAS;sDACN,cAAA,8OAAC;gDAAI,WAAU;;kEACX,8OAAC,0MAAI;wDAAC,MAAM;wDAAI,WAAU;;;;;;oDAAkB;oDAAE,MAAM,KAAK;;;;;;;;;;;;sDAGjE,8OAAC,uIAAS;sDACN,cAAA,8OAAC;gDAAK,WAAU;;kEACZ,8OAAC,mOAAW;wDAAC,MAAM;;;;;;oDAAM;;;;;;;;;;;;sDAGjC,8OAAC,uIAAS;sDACN,cAAA,8OAAC;gDAAK,WAAU;0DAAwB;;;;;;;;;;;sDAE5C,8OAAC,uIAAS;4CAAC,OAAM;;gDACZ,MAAM,EAAE,KAAK,aAAa,oBACvB,8OAAC;oDACG,SAAS,IAAM,aAAa,MAAM,EAAE;oDACpC,WAAU;oDACV,OAAM;8DAEN,cAAA,8OAAC,oNAAM;wDAAC,MAAM;;;;;;;;;;;gDAGrB,MAAM,EAAE,KAAK,aAAa,oBACvB,8OAAC;oDAAK,WAAU;8DAAoC;;;;;;;;;;;;;mCAjCjD,MAAM,EAAE;;;;;;;;;;;;;;;;;;;;;YA0CtC,gCACG,8OAAC,6JAAY;gBACT,SAAS,IAAM,kBAAkB;gBACjC,aAAa;;;;;;;;;;;;AAK7B"}},
    {"offset": {"line": 862, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Khesh/Desktop/Jambo-linguists/components/admin/settings/LMSSettingsTab.tsx"],"sourcesContent":["\r\nimport React, { useState } from 'react';\r\nimport { mockDb, SystemSettings } from '@/data/mockDatabase';\r\nimport { Switch } from '../../ui/Switch';\r\nimport { BookOpen, GraduationCap, Lock } from 'lucide-react';\r\nimport { Card } from '../../ui/Card';\r\n\r\nexport const LMSSettingsTab = () => {\r\n  const [settings, setSettings] = useState<SystemSettings>(mockDb.getSettings());\r\n\r\n  const handleChange = (key: keyof SystemSettings, value: any) => {\r\n      const newSettings = { ...settings, [key]: value };\r\n      setSettings(newSettings);\r\n      mockDb.updateSettings({ [key]: value });\r\n  };\r\n\r\n  return (\r\n    <div className=\"grid grid-cols-1 xl:grid-cols-2 gap-6\">\r\n        \r\n        {/* Enrollment Rules */}\r\n        <Card className=\"p-6 h-fit\">\r\n            <div className=\"flex items-center gap-3 mb-6 border-b border-gray-100 dark:border-white/5 pb-4\">\r\n                <div className=\"p-2 bg-purple-100 dark:bg-purple-900/30 text-purple-600 rounded-lg\">\r\n                    <BookOpen size={20} />\r\n                </div>\r\n                <h3 className=\"font-bold text-gray-900 dark:text-white\">Enrollment Configuration</h3>\r\n            </div>\r\n            \r\n            <div className=\"space-y-6\">\r\n                <div className=\"flex items-center justify-between gap-4\">\r\n                    <div>\r\n                        <p className=\"font-bold text-sm text-gray-800 dark:text-gray-200\">Global Self-Enrollment</p>\r\n                        <p className=\"text-xs text-gray-500 dark:text-gray-400 mt-1\">\r\n                            Master switch. If OFF, linguists cannot enroll in ANY course, regardless of course-level settings.\r\n                        </p>\r\n                    </div>\r\n                    <Switch checked={settings.globalSelfEnrollment} onChange={(v) => handleChange('globalSelfEnrollment', v)} />\r\n                </div>\r\n                \r\n                <div className=\"flex items-center justify-between gap-4\">\r\n                    <div>\r\n                        <p className=\"font-bold text-sm text-gray-800 dark:text-gray-200\">Require Prerequisites</p>\r\n                        <p className=\"text-xs text-gray-500 dark:text-gray-400 mt-1\">Enforce course dependencies (if defined) before allowing enrollment.</p>\r\n                    </div>\r\n                    <Switch checked={settings.requirePrerequisites} onChange={(v) => handleChange('requirePrerequisites', v)} />\r\n                </div>\r\n            </div>\r\n        </Card>\r\n\r\n        {/* Instructor & Access */}\r\n        <Card className=\"p-6 h-fit\">\r\n            <div className=\"flex items-center gap-3 mb-6 border-b border-gray-100 dark:border-white/5 pb-4\">\r\n                <div className=\"p-2 bg-blue-100 dark:bg-blue-900/30 text-blue-600 rounded-lg\">\r\n                    <GraduationCap size={20} />\r\n                </div>\r\n                <h3 className=\"font-bold text-gray-900 dark:text-white\">Instructor Privileges</h3>\r\n            </div>\r\n            \r\n            <div className=\"space-y-6\">\r\n                <div className=\"flex items-center justify-between gap-4\">\r\n                    <div>\r\n                        <p className=\"font-bold text-sm text-gray-800 dark:text-gray-200\">Instructor Course Creation</p>\r\n                        <p className=\"text-xs text-gray-500 dark:text-gray-400 mt-1\">Allow users with 'Trainer' or 'Instructor' role to draft new courses without Admin approval.</p>\r\n                    </div>\r\n                    <Switch checked={settings.allowInstructorCourseCreation} onChange={(v) => handleChange('allowInstructorCourseCreation', v)} />\r\n                </div>\r\n                \r\n                <div className=\"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4 flex gap-3 text-yellow-800 dark:text-yellow-200\">\r\n                    <Lock size={18} className=\"shrink-0 mt-0.5\" />\r\n                    <div>\r\n                        <p className=\"font-bold text-xs\">Note on Deletion</p>\r\n                        <p className=\"text-xs opacity-90 mt-1\">For security, only Super Admins can permanently delete courses with active enrollments.</p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </Card>\r\n    </div>\r\n  );\r\n};\r\n"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;;;;;;;AAEO,MAAM,iBAAiB;IAC5B,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAiB,8IAAM,CAAC,WAAW;IAE3E,MAAM,eAAe,CAAC,KAA2B;QAC7C,MAAM,cAAc;YAAE,GAAG,QAAQ;YAAE,CAAC,IAAI,EAAE;QAAM;QAChD,YAAY;QACZ,8IAAM,CAAC,cAAc,CAAC;YAAE,CAAC,IAAI,EAAE;QAAM;IACzC;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BAGX,8OAAC,iIAAI;gBAAC,WAAU;;kCACZ,8OAAC;wBAAI,WAAU;;0CACX,8OAAC;gCAAI,WAAU;0CACX,cAAA,8OAAC,0NAAQ;oCAAC,MAAM;;;;;;;;;;;0CAEpB,8OAAC;gCAAG,WAAU;0CAA0C;;;;;;;;;;;;kCAG5D,8OAAC;wBAAI,WAAU;;0CACX,8OAAC;gCAAI,WAAU;;kDACX,8OAAC;;0DACG,8OAAC;gDAAE,WAAU;0DAAqD;;;;;;0DAClE,8OAAC;gDAAE,WAAU;0DAAgD;;;;;;;;;;;;kDAIjE,8OAAC,qIAAM;wCAAC,SAAS,SAAS,oBAAoB;wCAAE,UAAU,CAAC,IAAM,aAAa,wBAAwB;;;;;;;;;;;;0CAG1G,8OAAC;gCAAI,WAAU;;kDACX,8OAAC;;0DACG,8OAAC;gDAAE,WAAU;0DAAqD;;;;;;0DAClE,8OAAC;gDAAE,WAAU;0DAAgD;;;;;;;;;;;;kDAEjE,8OAAC,qIAAM;wCAAC,SAAS,SAAS,oBAAoB;wCAAE,UAAU,CAAC,IAAM,aAAa,wBAAwB;;;;;;;;;;;;;;;;;;;;;;;;0BAMlH,8OAAC,iIAAI;gBAAC,WAAU;;kCACZ,8OAAC;wBAAI,WAAU;;0CACX,8OAAC;gCAAI,WAAU;0CACX,cAAA,8OAAC,yOAAa;oCAAC,MAAM;;;;;;;;;;;0CAEzB,8OAAC;gCAAG,WAAU;0CAA0C;;;;;;;;;;;;kCAG5D,8OAAC;wBAAI,WAAU;;0CACX,8OAAC;gCAAI,WAAU;;kDACX,8OAAC;;0DACG,8OAAC;gDAAE,WAAU;0DAAqD;;;;;;0DAClE,8OAAC;gDAAE,WAAU;0DAAgD;;;;;;;;;;;;kDAEjE,8OAAC,qIAAM;wCAAC,SAAS,SAAS,6BAA6B;wCAAE,UAAU,CAAC,IAAM,aAAa,iCAAiC;;;;;;;;;;;;0CAG5H,8OAAC;gCAAI,WAAU;;kDACX,8OAAC,0MAAI;wCAAC,MAAM;wCAAI,WAAU;;;;;;kDAC1B,8OAAC;;0DACG,8OAAC;gDAAE,WAAU;0DAAoB;;;;;;0DACjC,8OAAC;gDAAE,WAAU;0DAA0B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAO/D"}},
    {"offset": {"line": 1174, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Khesh/Desktop/Jambo-linguists/components/admin/settings/FinanceSettingsTab.tsx"],"sourcesContent":["\r\nimport React, { useState } from 'react';\r\nimport { mockDb, SystemSettings } from '@/data/mockDatabase';\r\nimport { Switch } from '../../ui/Switch';\r\nimport { CreditCard, PoundSterling } from 'lucide-react';\r\nimport { Card } from '../../ui/Card';\r\n\r\nexport const FinanceSettingsTab = () => {\r\n  const [settings, setSettings] = useState<SystemSettings>(mockDb.getSettings());\r\n\r\n  const handleChange = (key: keyof SystemSettings, value: any) => {\r\n      const newSettings = { ...settings, [key]: value };\r\n      setSettings(newSettings);\r\n      mockDb.updateSettings({ [key]: value });\r\n  };\r\n\r\n  return (\r\n    <div className=\"grid grid-cols-1 xl:grid-cols-2 gap-6\">\r\n        <Card className=\"p-6 h-fit\">\r\n            <div className=\"flex items-center gap-3 mb-6 border-b border-gray-100 dark:border-white/5 pb-4\">\r\n                <div className=\"p-2 bg-green-100 dark:bg-green-900/30 text-green-600 rounded-lg\">\r\n                    <CreditCard size={20} />\r\n                </div>\r\n                <h3 className=\"font-bold text-gray-900 dark:text-white\">Invoicing & VAT</h3>\r\n            </div>\r\n            \r\n            <div className=\"space-y-6\">\r\n                <div className=\"flex items-center justify-between gap-4\">\r\n                    <div>\r\n                        <p className=\"font-bold text-sm text-gray-800 dark:text-gray-200\">Auto-Generate Invoices</p>\r\n                        <p className=\"text-xs text-gray-500 dark:text-gray-400 mt-1\">Automatically create draft invoices upon job completion.</p>\r\n                    </div>\r\n                    <Switch checked={settings.autoInvoiceGeneration} onChange={(v) => handleChange('autoInvoiceGeneration', v)} />\r\n                </div>\r\n\r\n                <div className=\"flex items-center justify-between gap-4\">\r\n                    <div>\r\n                        <p className=\"font-bold text-sm text-gray-800 dark:text-gray-200\">Default VAT Rate (%)</p>\r\n                        <p className=\"text-xs text-gray-500 dark:text-gray-400 mt-1\">Applied to all new generated invoices.</p>\r\n                    </div>\r\n                    <input \r\n                        type=\"number\" \r\n                        value={settings.defaultVatRate}\r\n                        onChange={(e) => handleChange('defaultVatRate', parseFloat(e.target.value))}\r\n                        className=\"w-20 bg-gray-50 dark:bg-white/5 border border-gray-200 dark:border-white/10 rounded-lg px-3 py-1.5 text-sm text-right focus:outline-none focus:ring-2 focus:ring-jambo-600\"\r\n                    />\r\n                </div>\r\n            </div>\r\n        </Card>\r\n\r\n        <Card className=\"p-6 h-fit\">\r\n            <div className=\"flex items-center gap-3 mb-6 border-b border-gray-100 dark:border-white/5 pb-4\">\r\n                <div className=\"p-2 bg-blue-100 dark:bg-blue-900/30 text-blue-600 rounded-lg\">\r\n                    <PoundSterling size={20} />\r\n                </div>\r\n                <h3 className=\"font-bold text-gray-900 dark:text-white\">Payout Rules</h3>\r\n            </div>\r\n            \r\n            <div className=\"space-y-6\">\r\n                <div className=\"flex items-center justify-between gap-4\">\r\n                    <div>\r\n                        <p className=\"font-bold text-sm text-gray-800 dark:text-gray-200\">Min. Payout Threshold (Â£)</p>\r\n                        <p className=\"text-xs text-gray-500 dark:text-gray-400 mt-1\">Minimum accrued balance required for automated payout run.</p>\r\n                    </div>\r\n                    <input \r\n                        type=\"number\" \r\n                        value={settings.minPayoutThreshold}\r\n                        onChange={(e) => handleChange('minPayoutThreshold', parseFloat(e.target.value))}\r\n                        className=\"w-20 bg-gray-50 dark:bg-white/5 border border-gray-200 dark:border-white/10 rounded-lg px-3 py-1.5 text-sm text-right focus:outline-none focus:ring-2 focus:ring-jambo-600\"\r\n                    />\r\n                </div>\r\n\r\n                <div className=\"flex items-center justify-between gap-4\">\r\n                    <div>\r\n                        <p className=\"font-bold text-sm text-gray-800 dark:text-gray-200\">Payment Release Delay (Days)</p>\r\n                        <p className=\"text-xs text-gray-500 dark:text-gray-400 mt-1\">Days to hold funds after invoice approval before release.</p>\r\n                    </div>\r\n                    <input \r\n                        type=\"number\" \r\n                        value={settings.paymentReleaseDelay}\r\n                        onChange={(e) => handleChange('paymentReleaseDelay', parseFloat(e.target.value))}\r\n                        className=\"w-20 bg-gray-50 dark:bg-white/5 border border-gray-200 dark:border-white/10 rounded-lg px-3 py-1.5 text-sm text-right focus:outline-none focus:ring-2 focus:ring-jambo-600\"\r\n                    />\r\n                </div>\r\n\r\n                <div className=\"flex items-center justify-between gap-4\">\r\n                    <div>\r\n                        <p className=\"font-bold text-sm text-gray-800 dark:text-gray-200\">Platform Fee (%)</p>\r\n                        <p className=\"text-xs text-gray-500 dark:text-gray-400 mt-1\">Percentage deducted from linguist payout.</p>\r\n                    </div>\r\n                    <input \r\n                        type=\"number\" \r\n                        value={settings.platformFeePercent}\r\n                        onChange={(e) => handleChange('platformFeePercent', parseFloat(e.target.value))}\r\n                        className=\"w-20 bg-gray-50 dark:bg-white/5 border border-gray-200 dark:border-white/10 rounded-lg px-3 py-1.5 text-sm text-right focus:outline-none focus:ring-2 focus:ring-jambo-600\"\r\n                    />\r\n                </div>\r\n            </div>\r\n        </Card>\r\n    </div>\r\n  );\r\n};\r\n"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AACA;AAAA;AACA;;;;;;;AAEO,MAAM,qBAAqB;IAChC,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAiB,8IAAM,CAAC,WAAW;IAE3E,MAAM,eAAe,CAAC,KAA2B;QAC7C,MAAM,cAAc;YAAE,GAAG,QAAQ;YAAE,CAAC,IAAI,EAAE;QAAM;QAChD,YAAY;QACZ,8IAAM,CAAC,cAAc,CAAC;YAAE,CAAC,IAAI,EAAE;QAAM;IACzC;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BACX,8OAAC,iIAAI;gBAAC,WAAU;;kCACZ,8OAAC;wBAAI,WAAU;;0CACX,8OAAC;gCAAI,WAAU;0CACX,cAAA,8OAAC,gOAAU;oCAAC,MAAM;;;;;;;;;;;0CAEtB,8OAAC;gCAAG,WAAU;0CAA0C;;;;;;;;;;;;kCAG5D,8OAAC;wBAAI,WAAU;;0CACX,8OAAC;gCAAI,WAAU;;kDACX,8OAAC;;0DACG,8OAAC;gDAAE,WAAU;0DAAqD;;;;;;0DAClE,8OAAC;gDAAE,WAAU;0DAAgD;;;;;;;;;;;;kDAEjE,8OAAC,qIAAM;wCAAC,SAAS,SAAS,qBAAqB;wCAAE,UAAU,CAAC,IAAM,aAAa,yBAAyB;;;;;;;;;;;;0CAG5G,8OAAC;gCAAI,WAAU;;kDACX,8OAAC;;0DACG,8OAAC;gDAAE,WAAU;0DAAqD;;;;;;0DAClE,8OAAC;gDAAE,WAAU;0DAAgD;;;;;;;;;;;;kDAEjE,8OAAC;wCACG,MAAK;wCACL,OAAO,SAAS,cAAc;wCAC9B,UAAU,CAAC,IAAM,aAAa,kBAAkB,WAAW,EAAE,MAAM,CAAC,KAAK;wCACzE,WAAU;;;;;;;;;;;;;;;;;;;;;;;;0BAM1B,8OAAC,iIAAI;gBAAC,WAAU;;kCACZ,8OAAC;wBAAI,WAAU;;0CACX,8OAAC;gCAAI,WAAU;0CACX,cAAA,8OAAC,yOAAa;oCAAC,MAAM;;;;;;;;;;;0CAEzB,8OAAC;gCAAG,WAAU;0CAA0C;;;;;;;;;;;;kCAG5D,8OAAC;wBAAI,WAAU;;0CACX,8OAAC;gCAAI,WAAU;;kDACX,8OAAC;;0DACG,8OAAC;gDAAE,WAAU;0DAAqD;;;;;;0DAClE,8OAAC;gDAAE,WAAU;0DAAgD;;;;;;;;;;;;kDAEjE,8OAAC;wCACG,MAAK;wCACL,OAAO,SAAS,kBAAkB;wCAClC,UAAU,CAAC,IAAM,aAAa,sBAAsB,WAAW,EAAE,MAAM,CAAC,KAAK;wCAC7E,WAAU;;;;;;;;;;;;0CAIlB,8OAAC;gCAAI,WAAU;;kDACX,8OAAC;;0DACG,8OAAC;gDAAE,WAAU;0DAAqD;;;;;;0DAClE,8OAAC;gDAAE,WAAU;0DAAgD;;;;;;;;;;;;kDAEjE,8OAAC;wCACG,MAAK;wCACL,OAAO,SAAS,mBAAmB;wCACnC,UAAU,CAAC,IAAM,aAAa,uBAAuB,WAAW,EAAE,MAAM,CAAC,KAAK;wCAC9E,WAAU;;;;;;;;;;;;0CAIlB,8OAAC;gCAAI,WAAU;;kDACX,8OAAC;;0DACG,8OAAC;gDAAE,WAAU;0DAAqD;;;;;;0DAClE,8OAAC;gDAAE,WAAU;0DAAgD;;;;;;;;;;;;kDAEjE,8OAAC;wCACG,MAAK;wCACL,OAAO,SAAS,kBAAkB;wCAClC,UAAU,CAAC,IAAM,aAAa,sBAAsB,WAAW,EAAE,MAAM,CAAC,KAAK;wCAC7E,WAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOlC"}},
    {"offset": {"line": 1528, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Khesh/Desktop/Jambo-linguists/components/admin/settings/SeoSettingsTab.tsx"],"sourcesContent":["\r\nimport React, { useState, useMemo } from 'react';\r\nimport { mockDb, SystemSettings } from '@/data/mockDatabase';\r\nimport { COMPANY_INFO } from '@/data/constants';\r\nimport { Card } from '../../ui/Card';\r\nimport { Button } from '../../ui/Button';\r\nimport { Sparkles, Globe, Search, Code, Loader2, Save, Smartphone, Monitor, Info, FileText, Download } from 'lucide-react';\r\n\r\nexport const SeoSettingsTab = () => {\r\n  const [settings, setSettings] = useState<SystemSettings>(mockDb.getSettings());\r\n  const [isGenerating, setIsGenerating] = useState(false);\r\n  const [isSaving, setIsSaving] = useState(false);\r\n  const [previewMode, setPreviewMode] = useState<'mobile' | 'desktop'>('desktop');\r\n\r\n  const handleUpdate = (key: keyof typeof settings.seo, value: any) => {\r\n      setSettings(prev => ({\r\n          ...prev,\r\n          seo: { ...prev.seo, [key]: value }\r\n      }));\r\n  };\r\n\r\n  const handleSave = () => {\r\n      setIsSaving(true);\r\n      setTimeout(() => {\r\n          mockDb.updateSettings({ seo: settings.seo });\r\n          setIsSaving(false);\r\n      }, 800);\r\n  };\r\n\r\n  const handleAiGenerate = async () => {\r\n      setIsGenerating(true);\r\n      const generated = await mockDb.ai.generateSiteSeo(COMPANY_INFO);\r\n      if (generated.siteTitle) {\r\n          setSettings(prev => ({\r\n              ...prev,\r\n              seo: {\r\n                  ...prev.seo,\r\n                  ...generated\r\n              }\r\n          }));\r\n      }\r\n      setIsGenerating(false);\r\n  };\r\n\r\n  // Parse Structure Data to extract Contact Info for Preview\r\n  const extractedContact = useMemo(() => {\r\n      try {\r\n          const data = JSON.parse(settings.seo.structuredData || '{}');\r\n          // Handle both array (graph) or single object\r\n          const org = Array.isArray(data) ? data.find(i => i['@type'] === 'Organization' || i['@type'] === 'LocalBusiness') : data;\r\n          \r\n          if (!org) return { phone: COMPANY_INFO.phone, email: COMPANY_INFO.email };\r\n\r\n          const contactPoint = Array.isArray(org.contactPoint) ? org.contactPoint[0] : org.contactPoint;\r\n          \r\n          return {\r\n              phone: contactPoint?.telephone || org.telephone || COMPANY_INFO.phone,\r\n              email: contactPoint?.email || org.email || COMPANY_INFO.email\r\n          };\r\n      } catch (e) {\r\n          return { phone: COMPANY_INFO.phone, email: COMPANY_INFO.email };\r\n      }\r\n  }, [settings.seo.structuredData]);\r\n\r\n  const generateSitemap = () => {\r\n      const baseUrl = \"https://jambolinguists.com\";\r\n      const pages = ['', 'about', 'services', 'blog'];\r\n      const blogs = mockDb.getAllBlogs().filter(p => p.status === 'published');\r\n      \r\n      let xml = `<?xml version=\"1.0\" encoding=\"UTF-8\"?>\\n<urlset xmlns=\"http://www.sitemaps.org/schemas/sitemap/0.9\">\\n`;\r\n      \r\n      // Static Pages\r\n      pages.forEach(p => {\r\n          xml += `  <url>\\n    <loc>${baseUrl}/${p}</loc>\\n    <changefreq>weekly</changefreq>\\n    <priority>${p === '' ? '1.0' : '0.8'}</priority>\\n  </url>\\n`;\r\n      });\r\n\r\n      // Blogs\r\n      blogs.forEach(b => {\r\n          xml += `  <url>\\n    <loc>${baseUrl}/blog/${b.slug}</loc>\\n    <lastmod>${new Date(b.updatedAt).toISOString().split('T')[0]}</lastmod>\\n    <priority>0.6</priority>\\n  </url>\\n`;\r\n      });\r\n\r\n      xml += `</urlset>`;\r\n      return xml;\r\n  };\r\n\r\n  const handleDownloadSitemap = () => {\r\n      const xml = generateSitemap();\r\n      const blob = new Blob([xml], { type: 'application/xml' });\r\n      const url = URL.createObjectURL(blob);\r\n      const a = document.createElement('a');\r\n      a.href = url;\r\n      a.download = 'sitemap.xml';\r\n      document.body.appendChild(a);\r\n      a.click();\r\n      document.body.removeChild(a);\r\n      URL.revokeObjectURL(url);\r\n  };\r\n\r\n  const generateRobotsTxt = () => {\r\n      return `User-agent: *\\nAllow: /\\nDisallow: /portal/\\nDisallow: /admin/\\n\\nSitemap: https://jambolinguists.com/sitemap.xml`;\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n        <div className=\"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4\">\r\n            <div>\r\n                <h3 className=\"text-lg font-bold text-gray-900 dark:text-white\">Global SEO & Metadata</h3>\r\n                <p className=\"text-sm text-gray-500 dark:text-gray-400\">Configure how Jambo Linguists appears in search results.</p>\r\n            </div>\r\n            <div className=\"flex gap-3\">\r\n                <Button \r\n                    variant=\"outline\" \r\n                    onClick={handleAiGenerate} \r\n                    isLoading={isGenerating}\r\n                    className=\"border-jambo-600 text-jambo-600 hover:bg-jambo-50 dark:hover:bg-jambo-900/20\"\r\n                >\r\n                    <Sparkles size={16} /> AI Auto-Generate\r\n                </Button>\r\n                <Button onClick={handleSave} isLoading={isSaving}>\r\n                    <Save size={16} /> Save Changes\r\n                </Button>\r\n            </div>\r\n        </div>\r\n\r\n        <div className=\"grid grid-cols-1 xl:grid-cols-2 gap-6\">\r\n            \r\n            {/* Preview Section */}\r\n            <div className=\"space-y-6 order-1 xl:order-2\">\r\n                <Card className=\"p-6 bg-gray-50 dark:bg-[#1a1625]\">\r\n                    <div className=\"flex justify-between items-center mb-6 border-b border-gray-200 dark:border-white/5 pb-4\">\r\n                        <div className=\"flex items-center gap-3\">\r\n                            <div className=\"p-2 bg-orange-100 dark:bg-orange-900/30 text-orange-600 rounded-lg\">\r\n                                <Search size={20} />\r\n                            </div>\r\n                            <h3 className=\"font-bold text-gray-900 dark:text-white\">Live Search Preview</h3>\r\n                        </div>\r\n                        <div className=\"flex gap-2 bg-white dark:bg-white/5 p-1 rounded-lg border border-gray-200 dark:border-white/10\">\r\n                            <button \r\n                                onClick={() => setPreviewMode('mobile')}\r\n                                className={`p-1.5 rounded ${previewMode === 'mobile' ? 'bg-gray-100 dark:bg-white/20 text-jambo-600 dark:text-white shadow-sm' : 'text-gray-400 hover:text-gray-600'}`}\r\n                                title=\"Mobile View\"\r\n                            >\r\n                                <Smartphone size={16} />\r\n                            </button>\r\n                            <button \r\n                                onClick={() => setPreviewMode('desktop')}\r\n                                className={`p-1.5 rounded ${previewMode === 'desktop' ? 'bg-gray-100 dark:bg-white/20 text-jambo-600 dark:text-white shadow-sm' : 'text-gray-400 hover:text-gray-600'}`}\r\n                                title=\"Desktop View\"\r\n                            >\r\n                                <Monitor size={16} />\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"flex justify-center\">\r\n                        <div className={`bg-white p-4 rounded-lg shadow-sm border border-gray-100 w-full transition-all duration-300 ${previewMode === 'mobile' ? 'max-w-[375px]' : 'max-w-full'}`}>\r\n                            {/* Main Result */}\r\n                            <div className=\"flex items-center gap-3 mb-2\">\r\n                                <div className=\"w-8 h-8 bg-gray-100 rounded-full flex items-center justify-center overflow-hidden border border-gray-200\">\r\n                                    <img src={COMPANY_INFO.logoUrl} alt=\"Logo\" className=\"w-full h-full object-cover\" />\r\n                                </div>\r\n                                <div className=\"flex flex-col text-xs leading-tight\">\r\n                                    <span className=\"text-[#202124] font-medium\">{COMPANY_INFO.name}</span>\r\n                                    <span className=\"text-[#5f6368]\">https://jambolinguists.com</span>\r\n                                </div>\r\n                            </div>\r\n                            <h3 className=\"text-[#1a0dab] text-xl font-normal hover:underline cursor-pointer truncate font-sans mb-1\">\r\n                                {settings.seo.siteTitle}\r\n                            </h3>\r\n                            <p className=\"text-[#4d5156] text-sm leading-snug mb-4\">\r\n                                {settings.seo.siteDescription || 'No description provided.'}\r\n                            </p>\r\n                            \r\n                            {/* Sitelinks Simulation */}\r\n                            <div className={`grid gap-x-4 gap-y-4 ${previewMode === 'mobile' ? 'grid-cols-1' : 'grid-cols-2 ml-4'}`}>\r\n                                <div>\r\n                                    <h4 className=\"text-[#1a0dab] text-sm font-medium hover:underline cursor-pointer\">Contact Us</h4>\r\n                                    <p className=\"text-xs text-[#4d5156] mt-0.5 line-clamp-2\">\r\n                                        {extractedContact.email} {extractedContact.phone} <br/>\r\n                                        Get in touch with our team for immediate assistance.\r\n                                    </p>\r\n                                </div>\r\n                                <div>\r\n                                    <h4 className=\"text-[#1a0dab] text-sm font-medium hover:underline cursor-pointer\">About Us</h4>\r\n                                    <p className=\"text-xs text--[#4d5156] mt-0.5 line-clamp-2\">\r\n                                        The Founding Director. Linah is a language professional working...\r\n                                    </p>\r\n                                </div>\r\n                                <div className=\"hidden sm:block\">\r\n                                    <h4 className=\"text-[#1a0dab] text-sm font-medium hover:underline cursor-pointer\">Services</h4>\r\n                                    <p className=\"text-xs text-gray-500 mt-0.5 line-clamp-2\">\r\n                                        Professional Interpreting, Translation, and Transcription services.\r\n                                    </p>\r\n                                </div>\r\n                                <div className=\"hidden sm:block\">\r\n                                    <h4 className=\"text-[#1a0dab] text-sm font-medium hover:underline cursor-pointer\">Swahili Language</h4>\r\n                                    <p className=\"text-xs text-gray-500 mt-0.5 line-clamp-2\">\r\n                                        Learn about our specialization in East African dialects.\r\n                                    </p>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    \r\n                    <div className=\"mt-4 flex items-start gap-2 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg text-blue-800 dark:text-blue-200 text-xs border border-blue-100 dark:border-blue-900/30\">\r\n                        <Info size={16} className=\"shrink-0 mt-0.5\" />\r\n                        <p>\r\n                            <strong>Preview Note:</strong> The \"Contact Us\" snippet above is generated using the phone and email detected in your Structured Data configuration. This helps verify that Google can see your contact info even without a dedicated page.\r\n                        </p>\r\n                    </div>\r\n                </Card>\r\n\r\n                {/* Sitemap & Robots Preview */}\r\n                <Card className=\"p-6\">\r\n                    <div className=\"flex items-center gap-3 mb-6 border-b border-gray-100 dark:border-white/5 pb-4\">\r\n                        <div className=\"p-2 bg-teal-100 dark:bg-teal-900/30 text-teal-600 rounded-lg\">\r\n                            <FileText size={20} />\r\n                        </div>\r\n                        <h3 className=\"font-bold text-gray-900 dark:text-white\">Crawling Rules</h3>\r\n                    </div>\r\n                    <div className=\"grid md:grid-cols-2 gap-6\">\r\n                        <div>\r\n                            <label className=\"text-xs font-bold text-gray-500 mb-2 block\">Robots.txt Preview</label>\r\n                            <div className=\"bg-gray-900 p-3 rounded-lg border border-gray-800 h-32 overflow-auto mb-2\">\r\n                                <pre className=\"text-xs text-green-400 font-mono\">{generateRobotsTxt()}</pre>\r\n                            </div>\r\n                        </div>\r\n                        <div>\r\n                            <div className=\"flex justify-between items-center mb-2\">\r\n                                <label className=\"text-xs font-bold text-gray-500 block\">Sitemap.xml Preview</label>\r\n                                <button onClick={handleDownloadSitemap} className=\"text-xs font-bold text-blue-600 hover:underline flex items-center gap-1\">\r\n                                    <Download size={12} /> Download\r\n                                </button>\r\n                            </div>\r\n                            <div className=\"bg-gray-900 p-3 rounded-lg border border-gray-800 h-32 overflow-auto\">\r\n                                <pre className=\"text-xs text-blue-300 font-mono whitespace-pre-wrap\">{generateSitemap()}</pre>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </Card>\r\n            </div>\r\n\r\n            {/* Config Section */}\r\n            <div className=\"space-y-6 order-2 xl:order-1\">\r\n                <Card className=\"p-6\">\r\n                    <div className=\"flex items-center gap-3 mb-6 border-b border-gray-100 dark:border-white/5 pb-4\">\r\n                        <div className=\"p-2 bg-blue-100 dark:bg-blue-900/30 text-blue-600 rounded-lg\">\r\n                            <Globe size={20} />\r\n                        </div>\r\n                        <h3 className=\"font-bold text-gray-900 dark:text-white\">Site Metadata</h3>\r\n                    </div>\r\n\r\n                    <div className=\"space-y-6\">\r\n                        <div>\r\n                            <label className=\"block text-xs font-bold uppercase text-gray-500 mb-2\">Global Site Title</label>\r\n                            <input \r\n                                value={settings.seo.siteTitle}\r\n                                onChange={(e) => handleUpdate('siteTitle', e.target.value)}\r\n                                className=\"w-full bg-gray-50 dark:bg-white/5 border border-gray-200 dark:border-white/10 rounded-xl px-4 py-3 text-sm text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-jambo-600 transition-all\"\r\n                                placeholder=\"Jambo Linguists\"\r\n                            />\r\n                            <p className=\"text-xs text-gray-400 mt-1\">Used as default title suffix.</p>\r\n                        </div>\r\n\r\n                        <div>\r\n                            <label className=\"block text-xs font-bold uppercase text-gray-500 mb-2\">Default Meta Description</label>\r\n                            <textarea \r\n                                value={settings.seo.siteDescription}\r\n                                onChange={(e) => handleUpdate('siteDescription', e.target.value)}\r\n                                rows={3}\r\n                                className=\"w-full bg-gray-50 dark:bg-white/5 border border-gray-200 dark:border-white/10 rounded-xl px-4 py-3 text-sm text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-jambo-600 transition-all resize-none\"\r\n                                placeholder=\"A brief description of the company...\"\r\n                            />\r\n                        </div>\r\n\r\n                        <div>\r\n                            <label className=\"block text-xs font-bold uppercase text-gray-500 mb-2\">Global Keywords</label>\r\n                            <input \r\n                                value={settings.seo.defaultKeywords.join(', ')}\r\n                                onChange={(e) => handleUpdate('defaultKeywords', e.target.value.split(',').map(s => s.trim()))}\r\n                                className=\"w-full bg-gray-50 dark:bg-white/5 border border-gray-200 dark:border-white/10 rounded-xl px-4 py-3 text-sm text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-jambo-600 transition-all\"\r\n                                placeholder=\"Swahili, Interpreting, ...\"\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                </Card>\r\n\r\n                {/* Structured Data / Contact SEO */}\r\n                <Card className=\"p-6 flex flex-col\">\r\n                    <div className=\"flex items-center gap-3 mb-6 border-b border-gray-100 dark:border-white/5 pb-4\">\r\n                        <div className=\"p-2 bg-purple-100 dark:bg-purple-900/30 text-purple-600 rounded-lg\">\r\n                            <Code size={20} />\r\n                        </div>\r\n                        <div>\r\n                            <h3 className=\"font-bold text-gray-900 dark:text-white\">Structured Data (JSON-LD)</h3>\r\n                            <p className=\"text-xs text-gray-500 dark:text-gray-400\">Essential for Contact & Business info in search.</p>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"flex-1 flex flex-col\">\r\n                        <div className=\"bg-gray-900 rounded-xl p-4 flex-1 font-mono text-xs text-green-400 overflow-auto custom-scrollbar relative border border-gray-800 min-h-[300px]\">\r\n                            <textarea \r\n                                value={settings.seo.structuredData}\r\n                                onChange={(e) => handleUpdate('structuredData', e.target.value)}\r\n                                className=\"w-full h-full bg-transparent border-none focus:ring-0 outline-none resize-none\"\r\n                                spellCheck={false}\r\n                            />\r\n                        </div>\r\n                        <div className=\"mt-4 bg-yellow-50 dark:bg-yellow-900/10 border border-yellow-200 dark:border-yellow-800 p-3 rounded-lg\">\r\n                            <p className=\"text-xs text-yellow-800 dark:text-yellow-200\">\r\n                                <strong>Note:</strong> This JSON-LD script is automatically injected into the <code>&lt;head&gt;</code> of every page. It ensures search engines can find your phone number and address from the footer.\r\n                            </p>\r\n                        </div>\r\n                    </div>\r\n                </Card>\r\n            </div>\r\n        </div>\r\n    </div>\r\n  );\r\n};\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2488, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Khesh/Desktop/Jambo-linguists/components/admin/settings/email/EmailConfigForm.tsx"],"sourcesContent":["\r\nimport React, { useState } from 'react';\r\nimport { mockDb, SystemSettings } from '@/data/mockDatabase';\r\nimport { Switch } from '../../../ui/Switch';\r\nimport { Button } from '../../../ui/Button';\r\nimport { Save, Send } from 'lucide-react';\r\n\r\nexport const EmailConfigForm = () => {\r\n  const [settings, setSettings] = useState(mockDb.getSettings().email);\r\n  const [isSaving, setIsSaving] = useState(false);\r\n  const [isTesting, setIsTesting] = useState(false);\r\n\r\n  const handleChange = (key: keyof typeof settings, value: any) => {\r\n      setSettings(prev => ({ ...prev, [key]: value }));\r\n  };\r\n\r\n  const handleSave = () => {\r\n      setIsSaving(true);\r\n      setTimeout(() => {\r\n          mockDb.updateSettings({ email: settings });\r\n          setIsSaving(false);\r\n      }, 800);\r\n  };\r\n\r\n  const handleTest = () => {\r\n      setIsTesting(true);\r\n      setTimeout(() => {\r\n          const currentUser = mockDb.auth.getCurrentUser();\r\n          if (currentUser) {\r\n              mockDb.sendTestEmail(currentUser.id);\r\n              alert(`Test email sent to ${currentUser.email}. Check logs.`);\r\n          } else {\r\n              alert(\"No active user to send test email to.\");\r\n          }\r\n          setIsTesting(false);\r\n      }, 1000);\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-6 max-w-2xl\">\r\n        <div className=\"flex items-center justify-between gap-4 p-4 bg-gray-50 dark:bg-white/5 rounded-xl border border-gray-200 dark:border-white/10\">\r\n            <div>\r\n                <p className=\"font-bold text-gray-900 dark:text-white\">Enable Email Notifications</p>\r\n                <p className=\"text-xs text-gray-500 dark:text-gray-400\">Master switch for all outgoing system emails.</p>\r\n            </div>\r\n            <Switch checked={settings.enabled} onChange={(v) => handleChange('enabled', v)} />\r\n        </div>\r\n\r\n        <div className=\"grid grid-cols-2 gap-4\">\r\n            <div>\r\n                <label className=\"text-xs font-bold text-gray-500 uppercase mb-2 block\">SMTP Host</label>\r\n                <input \r\n                    value={settings.smtpHost}\r\n                    onChange={(e) => handleChange('smtpHost', e.target.value)}\r\n                    className=\"w-full bg-white dark:bg-white/5 border border-gray-200 dark:border-white/10 rounded-lg px-4 py-2.5 text-sm dark:text-white\"\r\n                />\r\n            </div>\r\n            <div>\r\n                <label className=\"text-xs font-bold text-gray-500 uppercase mb-2 block\">Port</label>\r\n                <input \r\n                    type=\"number\"\r\n                    value={settings.smtpPort}\r\n                    onChange={(e) => handleChange('smtpPort', parseInt(e.target.value))}\r\n                    className=\"w-full bg-white dark:bg-white/5 border border-gray-200 dark:border-white/10 rounded-lg px-4 py-2.5 text-sm dark:text-white\"\r\n                />\r\n            </div>\r\n        </div>\r\n\r\n        <div className=\"grid grid-cols-2 gap-4\">\r\n            <div>\r\n                <label className=\"text-xs font-bold text-gray-500 uppercase mb-2 block\">Username</label>\r\n                <input \r\n                    value={settings.smtpUser}\r\n                    onChange={(e) => handleChange('smtpUser', e.target.value)}\r\n                    className=\"w-full bg-white dark:bg-white/5 border border-gray-200 dark:border-white/10 rounded-lg px-4 py-2.5 text-sm dark:text-white\"\r\n                />\r\n            </div>\r\n            <div>\r\n                <label className=\"text-xs font-bold text-gray-500 uppercase mb-2 block\">Password</label>\r\n                <input \r\n                    type=\"password\"\r\n                    value={settings.smtpPass}\r\n                    onChange={(e) => handleChange('smtpPass', e.target.value)}\r\n                    className=\"w-full bg-white dark:bg-white/5 border border-gray-200 dark:border-white/10 rounded-lg px-4 py-2.5 text-sm dark:text-white\"\r\n                    placeholder=\"â¢â¢â¢â¢â¢â¢â¢â¢\"\r\n                />\r\n            </div>\r\n        </div>\r\n\r\n        <div className=\"grid grid-cols-2 gap-4\">\r\n            <div>\r\n                <label className=\"text-xs font-bold text-gray-500 uppercase mb-2 block\">From Name</label>\r\n                <input \r\n                    value={settings.fromName}\r\n                    onChange={(e) => handleChange('fromName', e.target.value)}\r\n                    className=\"w-full bg-white dark:bg-white/5 border border-gray-200 dark:border-white/10 rounded-lg px-4 py-2.5 text-sm dark:text-white\"\r\n                />\r\n            </div>\r\n            <div>\r\n                <label className=\"text-xs font-bold text-gray-500 uppercase mb-2 block\">From Email</label>\r\n                <input \r\n                    value={settings.fromEmail}\r\n                    onChange={(e) => handleChange('fromEmail', e.target.value)}\r\n                    className=\"w-full bg-white dark:bg-white/5 border border-gray-200 dark:border-white/10 rounded-lg px-4 py-2.5 text-sm dark:text-white\"\r\n                />\r\n            </div>\r\n        </div>\r\n\r\n        <div>\r\n            <label className=\"text-xs font-bold text-gray-500 uppercase mb-2 block\">Security Protocol</label>\r\n            <select \r\n                value={settings.security}\r\n                onChange={(e) => handleChange('security', e.target.value)}\r\n                className=\"w-full bg-white dark:bg-white/5 border border-gray-200 dark:border-white/10 rounded-lg px-4 py-2.5 text-sm dark:text-white focus:outline-none focus:ring-2 focus:ring-jambo-600\"\r\n            >\r\n                <option value=\"STARTTLS\">STARTTLS</option>\r\n                <option value=\"SSL/TLS\">SSL/TLS</option>\r\n                <option value=\"NONE\">None</option>\r\n            </select>\r\n        </div>\r\n\r\n        <div className=\"flex gap-3 pt-4 border-t border-gray-100 dark:border-white/5\">\r\n            <Button onClick={handleSave} isLoading={isSaving} leftIcon={<Save size={16} />}>\r\n                Save Configuration\r\n            </Button>\r\n            <Button variant=\"secondary\" onClick={handleTest} isLoading={isTesting} leftIcon={<Send size={16} />}>\r\n                Test Connection\r\n            </Button>\r\n        </div>\r\n    </div>\r\n  );\r\n};\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2865, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Khesh/Desktop/Jambo-linguists/components/admin/settings/email/EmailTemplateEditor.tsx"],"sourcesContent":["\r\nimport React, { useState } from 'react';\r\nimport { mockDb, EmailTemplate } from '@/data/mockDatabase';\r\nimport { Button } from '../../../ui/Button';\r\nimport { Save, RefreshCw } from 'lucide-react';\r\n\r\nexport const EmailTemplateEditor = () => {\r\n  const [templates, setTemplates] = useState(mockDb.emailTemplates);\r\n  const [selectedId, setSelectedId] = useState(templates[0].id);\r\n  const [isSaving, setIsSaving] = useState(false);\r\n\r\n  const selectedTemplate = templates.find(t => t.id === selectedId)!;\r\n\r\n  const handleChange = (field: keyof EmailTemplate, value: string) => {\r\n      setTemplates(prev => prev.map(t => \r\n          t.id === selectedId ? { ...t, [field]: value } : t\r\n      ));\r\n  };\r\n\r\n  const handleSave = () => {\r\n      setIsSaving(true);\r\n      setTimeout(() => {\r\n          const t = templates.find(t => t.id === selectedId);\r\n          if (t) mockDb.adminUpdateEmailTemplate(selectedId, t);\r\n          setIsSaving(false);\r\n      }, 800);\r\n  };\r\n\r\n  const insertVariable = (variable: string) => {\r\n      const textarea = document.getElementById('templateBody') as HTMLTextAreaElement;\r\n      if (textarea) {\r\n          const start = textarea.selectionStart;\r\n          const end = textarea.selectionEnd;\r\n          const text = selectedTemplate.body;\r\n          const newText = text.substring(0, start) + `{{${variable}}}` + text.substring(end);\r\n          handleChange('body', newText);\r\n      }\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex flex-col lg:flex-row h-[600px] border border-gray-200 dark:border-white/10 rounded-xl overflow-hidden\">\r\n        {/* Sidebar List */}\r\n        <div className=\"w-full lg:w-64 border-b lg:border-b-0 lg:border-r border-gray-200 dark:border-white/10 bg-gray-50 dark:bg-black/20 overflow-y-auto custom-scrollbar\">\r\n            {templates.map(t => (\r\n                <button\r\n                    key={t.id}\r\n                    onClick={() => setSelectedId(t.id)}\r\n                    className={`w-full text-left px-4 py-3 text-sm font-medium border-l-4 transition-colors ${\r\n                        selectedId === t.id \r\n                        ? 'bg-white dark:bg-white/5 border-jambo-600 text-jambo-700 dark:text-white' \r\n                        : 'border-transparent text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-white/5'\r\n                    }`}\r\n                >\r\n                    {t.name}\r\n                </button>\r\n            ))}\r\n        </div>\r\n\r\n        {/* Editor Area */}\r\n        <div className=\"flex-1 flex flex-col bg-white dark:bg-[#1a1625]\">\r\n            <div className=\"p-6 space-y-4 flex-1 overflow-y-auto\">\r\n                <div>\r\n                    <label className=\"text-xs font-bold text-gray-500 uppercase mb-2 block\">Subject Line</label>\r\n                    <input \r\n                        value={selectedTemplate.subject}\r\n                        onChange={(e) => handleChange('subject', e.target.value)}\r\n                        className=\"w-full bg-gray-50 dark:bg-white/5 border border-gray-200 dark:border-white/10 rounded-lg px-4 py-2.5 text-sm dark:text-white font-medium\"\r\n                    />\r\n                </div>\r\n\r\n                <div className=\"flex-1 flex flex-col h-full\">\r\n                    <div className=\"flex justify-between items-center mb-2\">\r\n                        <label className=\"text-xs font-bold text-gray-500 uppercase block\">Email Body</label>\r\n                        <div className=\"text-xs text-gray-400\">Markdown / Text Supported</div>\r\n                    </div>\r\n                    <textarea \r\n                        id=\"templateBody\"\r\n                        value={selectedTemplate.body}\r\n                        onChange={(e) => handleChange('body', e.target.value)}\r\n                        className=\"w-full flex-1 min-h-[300px] bg-gray-50 dark:bg-white/5 border border-gray-200 dark:border-white/10 rounded-lg p-4 text-sm font-mono dark:text-gray-300 resize-none focus:outline-none focus:border-jambo-600\"\r\n                    />\r\n                </div>\r\n\r\n                {/* Variables Helper */}\r\n                <div className=\"bg-blue-50 dark:bg-blue-900/10 p-3 rounded-lg border border-blue-100 dark:border-blue-900/30\">\r\n                    <p className=\"text-xs font-bold text-blue-700 dark:text-blue-300 mb-2\">Available Variables:</p>\r\n                    <div className=\"flex flex-wrap gap-2\">\r\n                        {selectedTemplate.variables.map(v => (\r\n                            <button \r\n                                key={v}\r\n                                onClick={() => insertVariable(v)}\r\n                                className=\"px-2 py-1 bg-white dark:bg-white/10 border border-blue-200 dark:border-blue-800 rounded text-xs text-blue-600 dark:text-blue-200 hover:bg-blue-50 transition-colors\"\r\n                            >\r\n                                {`{{${v}}}`}\r\n                            </button>\r\n                        ))}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"p-4 border-t border-gray-100 dark:border-white/5 bg-gray-50 dark:bg-white/5 flex justify-end gap-3\">\r\n                <Button variant=\"secondary\" onClick={() => setTemplates(mockDb.emailTemplates)}>\r\n                    <RefreshCw size={16} /> Reset\r\n                </Button>\r\n                <Button onClick={handleSave} isLoading={isSaving} leftIcon={<Save size={16} />}>\r\n                    Save Template\r\n                </Button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n  );\r\n};\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3102, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Khesh/Desktop/Jambo-linguists/components/admin/settings/email/EmailLogsTable.tsx"],"sourcesContent":["\r\nimport React, { useState, useEffect } from 'react';\r\nimport { mockDb } from '@/data/mockDatabase';\r\nimport { Table, TableHeader, TableBody, TableRow, TableHead, TableCell } from '../../../ui/Table';\r\nimport { Badge } from '../../../ui/Badge';\r\nimport { RefreshCw } from 'lucide-react';\r\n\r\nexport const EmailLogsTable = () => {\r\n  const [logs, setLogs] = useState(mockDb.emailLogs);\r\n\r\n  const refresh = () => {\r\n      setLogs([...mockDb.emailLogs]); // Trigger re-render\r\n  };\r\n\r\n  // Poll for updates every 5s for demo purposes or just use refresh button\r\n  useEffect(() => {\r\n      const interval = setInterval(refresh, 5000);\r\n      return () => clearInterval(interval);\r\n  }, []);\r\n\r\n  if (logs.length === 0) {\r\n      return (\r\n          <div className=\"p-8 text-center text-gray-400 text-sm\">\r\n              No emails have been sent yet.\r\n          </div>\r\n      );\r\n  }\r\n\r\n  return (\r\n    <div className=\"flex flex-col\">\r\n        <div className=\"flex justify-end p-2 bg-gray-50 dark:bg-white/5 border-b border-gray-100 dark:border-white/5\">\r\n            <button onClick={refresh} className=\"text-xs text-gray-500 flex items-center gap-1 hover:text-jambo-600\">\r\n                <RefreshCw size={12} /> Refresh\r\n            </button>\r\n        </div>\r\n        <div className=\"overflow-x-auto\">\r\n            <Table>\r\n                <TableHeader>\r\n                    <TableRow>\r\n                        <TableHead>Time</TableHead>\r\n                        <TableHead>Recipient</TableHead>\r\n                        <TableHead>Template</TableHead>\r\n                        <TableHead>Subject</TableHead>\r\n                        <TableHead>Status</TableHead>\r\n                    </TableRow>\r\n                </TableHeader>\r\n                <TableBody>\r\n                    {logs.map(log => (\r\n                        <TableRow key={log.id}>\r\n                            <TableCell className=\"whitespace-nowrap text-gray-500 text-xs\">\r\n                                {new Date(log.sentAt).toLocaleString()}\r\n                            </TableCell>\r\n                            <TableCell className=\"font-medium\">{log.recipientEmail}</TableCell>\r\n                            <TableCell>\r\n                                <span className=\"font-mono text-xs text-gray-500 bg-gray-100 dark:bg-white/10 px-1.5 py-0.5 rounded\">\r\n                                    {log.templateId}\r\n                                </span>\r\n                            </TableCell>\r\n                            <TableCell className=\"max-w-[200px] truncate text-gray-600 dark:text-gray-300\">\r\n                                {log.subject}\r\n                            </TableCell>\r\n                            <TableCell>\r\n                                <Badge variant={log.status === 'Sent' ? 'success' : 'danger'}>{log.status}</Badge>\r\n                            </TableCell>\r\n                        </TableRow>\r\n                    ))}\r\n                </TableBody>\r\n            </Table>\r\n        </div>\r\n    </div>\r\n  );\r\n};\r\n"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AACA;AACA;;;;;;;AAEO,MAAM,iBAAiB;IAC5B,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAC,8IAAM,CAAC,SAAS;IAEjD,MAAM,UAAU;QACZ,QAAQ;eAAI,8IAAM,CAAC,SAAS;SAAC,GAAG,oBAAoB;IACxD;IAEA,yEAAyE;IACzE,IAAA,kNAAS,EAAC;QACN,MAAM,WAAW,YAAY,SAAS;QACtC,OAAO,IAAM,cAAc;IAC/B,GAAG,EAAE;IAEL,IAAI,KAAK,MAAM,KAAK,GAAG;QACnB,qBACI,8OAAC;YAAI,WAAU;sBAAwC;;;;;;IAI/D;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BACX,8OAAC;gBAAI,WAAU;0BACX,cAAA,8OAAC;oBAAO,SAAS;oBAAS,WAAU;;sCAChC,8OAAC,6NAAS;4BAAC,MAAM;;;;;;wBAAM;;;;;;;;;;;;0BAG/B,8OAAC;gBAAI,WAAU;0BACX,cAAA,8OAAC,mIAAK;;sCACF,8OAAC,yIAAW;sCACR,cAAA,8OAAC,sIAAQ;;kDACL,8OAAC,uIAAS;kDAAC;;;;;;kDACX,8OAAC,uIAAS;kDAAC;;;;;;kDACX,8OAAC,uIAAS;kDAAC;;;;;;kDACX,8OAAC,uIAAS;kDAAC;;;;;;kDACX,8OAAC,uIAAS;kDAAC;;;;;;;;;;;;;;;;;sCAGnB,8OAAC,uIAAS;sCACL,KAAK,GAAG,CAAC,CAAA,oBACN,8OAAC,sIAAQ;;sDACL,8OAAC,uIAAS;4CAAC,WAAU;sDAChB,IAAI,KAAK,IAAI,MAAM,EAAE,cAAc;;;;;;sDAExC,8OAAC,uIAAS;4CAAC,WAAU;sDAAe,IAAI,cAAc;;;;;;sDACtD,8OAAC,uIAAS;sDACN,cAAA,8OAAC;gDAAK,WAAU;0DACX,IAAI,UAAU;;;;;;;;;;;sDAGvB,8OAAC,uIAAS;4CAAC,WAAU;sDAChB,IAAI,OAAO;;;;;;sDAEhB,8OAAC,uIAAS;sDACN,cAAA,8OAAC,mIAAK;gDAAC,SAAS,IAAI,MAAM,KAAK,SAAS,YAAY;0DAAW,IAAI,MAAM;;;;;;;;;;;;mCAdlE,IAAI,EAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuB7C"}},
    {"offset": {"line": 3309, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Khesh/Desktop/Jambo-linguists/components/admin/settings/EmailSettingsTab.tsx"],"sourcesContent":["\r\nimport React, { useState } from 'react';\r\nimport { EmailConfigForm } from './email/EmailConfigForm';\r\nimport { EmailTemplateEditor } from './email/EmailTemplateEditor';\r\nimport { EmailLogsTable } from './email/EmailLogsTable';\r\nimport { Card } from '../../ui/Card';\r\nimport { Settings, FileText, Activity } from 'lucide-react';\r\n\r\nexport const EmailSettingsTab = () => {\r\n  const [view, setView] = useState<'config' | 'templates' | 'logs'>('config');\r\n\r\n  return (\r\n    <div className=\"grid grid-cols-1 xl:grid-cols-4 gap-6\">\r\n        {/* Sub-Navigation */}\r\n        <div className=\"xl:col-span-1 space-y-2\">\r\n            <button \r\n                onClick={() => setView('config')}\r\n                className={`w-full text-left px-4 py-3 rounded-xl font-bold text-sm flex items-center gap-3 transition-colors ${view === 'config' ? 'bg-jambo-600 text-white shadow-md' : 'bg-white dark:bg-white/5 text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-white/10'}`}\r\n            >\r\n                <Settings size={18} /> Configuration\r\n            </button>\r\n            <button \r\n                onClick={() => setView('templates')}\r\n                className={`w-full text-left px-4 py-3 rounded-xl font-bold text-sm flex items-center gap-3 transition-colors ${view === 'templates' ? 'bg-jambo-600 text-white shadow-md' : 'bg-white dark:bg-white/5 text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-white/10'}`}\r\n            >\r\n                <FileText size={18} /> Templates\r\n            </button>\r\n            <button \r\n                onClick={() => setView('logs')}\r\n                className={`w-full text-left px-4 py-3 rounded-xl font-bold text-sm flex items-center gap-3 transition-colors ${view === 'logs' ? 'bg-jambo-600 text-white shadow-md' : 'bg-white dark:bg-white/5 text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-white/10'}`}\r\n            >\r\n                <Activity size={18} /> Logs\r\n            </button>\r\n        </div>\r\n\r\n        {/* Content */}\r\n        <div className=\"xl:col-span-3\">\r\n            {view === 'config' && (\r\n                <Card className=\"p-6 bg-white dark:bg-[#13111c]\">\r\n                    <div className=\"mb-6 pb-4 border-b border-gray-100 dark:border-white/5\">\r\n                        <h3 className=\"text-lg font-bold text-gray-900 dark:text-white\">SMTP Configuration</h3>\r\n                        <p className=\"text-sm text-gray-500 dark:text-gray-400\">Configure outbound email settings for notifications.</p>\r\n                    </div>\r\n                    <EmailConfigForm />\r\n                </Card>\r\n            )}\r\n\r\n            {view === 'templates' && (\r\n                <Card className=\"p-6 bg-white dark:bg-[#13111c]\">\r\n                    <div className=\"mb-6 pb-4 border-b border-gray-100 dark:border-white/5\">\r\n                        <h3 className=\"text-lg font-bold text-gray-900 dark:text-white\">Email Templates</h3>\r\n                        <p className=\"text-sm text-gray-500 dark:text-gray-400\">Customize the subject and body of automated emails.</p>\r\n                    </div>\r\n                    <EmailTemplateEditor />\r\n                </Card>\r\n            )}\r\n\r\n            {view === 'logs' && (\r\n                <Card className=\"p-0 bg-white dark:bg-[#13111c] overflow-hidden\">\r\n                    <div className=\"p-6 pb-4 border-b border-gray-100 dark:border-white/5\">\r\n                        <h3 className=\"text-lg font-bold text-gray-900 dark:text-white\">Email Audit Log</h3>\r\n                        <p className=\"text-sm text-gray-500 dark:text-gray-400\">History of all system-generated emails.</p>\r\n                    </div>\r\n                    <EmailLogsTable />\r\n                </Card>\r\n            )}\r\n        </div>\r\n    </div>\r\n  );\r\n};\r\n"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;;;;;;;;AAEO,MAAM,mBAAmB;IAC9B,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAkC;IAElE,qBACE,8OAAC;QAAI,WAAU;;0BAEX,8OAAC;gBAAI,WAAU;;kCACX,8OAAC;wBACG,SAAS,IAAM,QAAQ;wBACvB,WAAW,CAAC,kGAAkG,EAAE,SAAS,WAAW,sCAAsC,qGAAqG;;0CAE/Q,8OAAC,sNAAQ;gCAAC,MAAM;;;;;;4BAAM;;;;;;;kCAE1B,8OAAC;wBACG,SAAS,IAAM,QAAQ;wBACvB,WAAW,CAAC,kGAAkG,EAAE,SAAS,cAAc,sCAAsC,qGAAqG;;0CAElR,8OAAC,0NAAQ;gCAAC,MAAM;;;;;;4BAAM;;;;;;;kCAE1B,8OAAC;wBACG,SAAS,IAAM,QAAQ;wBACvB,WAAW,CAAC,kGAAkG,EAAE,SAAS,SAAS,sCAAsC,qGAAqG;;0CAE7Q,8OAAC,sNAAQ;gCAAC,MAAM;;;;;;4BAAM;;;;;;;;;;;;;0BAK9B,8OAAC;gBAAI,WAAU;;oBACV,SAAS,0BACN,8OAAC,iIAAI;wBAAC,WAAU;;0CACZ,8OAAC;gCAAI,WAAU;;kDACX,8OAAC;wCAAG,WAAU;kDAAkD;;;;;;kDAChE,8OAAC;wCAAE,WAAU;kDAA2C;;;;;;;;;;;;0CAE5D,8OAAC,+KAAe;;;;;;;;;;;oBAIvB,SAAS,6BACN,8OAAC,iIAAI;wBAAC,WAAU;;0CACZ,8OAAC;gCAAI,WAAU;;kDACX,8OAAC;wCAAG,WAAU;kDAAkD;;;;;;kDAChE,8OAAC;wCAAE,WAAU;kDAA2C;;;;;;;;;;;;0CAE5D,8OAAC,uLAAmB;;;;;;;;;;;oBAI3B,SAAS,wBACN,8OAAC,iIAAI;wBAAC,WAAU;;0CACZ,8OAAC;gCAAI,WAAU;;kDACX,8OAAC;wCAAG,WAAU;kDAAkD;;;;;;kDAChE,8OAAC;wCAAE,WAAU;kDAA2C;;;;;;;;;;;;0CAE5D,8OAAC,6KAAc;;;;;;;;;;;;;;;;;;;;;;;AAMnC"}},
    {"offset": {"line": 3534, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Khesh/Desktop/Jambo-linguists/components/admin/settings/AdminSettings.tsx"],"sourcesContent":["\r\nimport React, { useState } from 'react';\r\nimport { Settings, Shield, Sliders, BookOpen, Briefcase, Wallet, Search, Mail } from 'lucide-react';\r\nimport { TabsList, TabsTrigger } from '../../ui/Tabs';\r\nimport { SettingsTab } from './SettingsTab';\r\nimport { AdminManagementTab } from './AdminManagementTab';\r\nimport { LMSSettingsTab } from './LMSSettingsTab';\r\nimport { MarketplaceSettingsTab } from './MarketplaceSettingsTab';\r\nimport { FinanceSettingsTab } from './FinanceSettingsTab';\r\nimport { SeoSettingsTab } from './SeoSettingsTab';\r\nimport { EmailSettingsTab } from './EmailSettingsTab';\r\n\r\nexport const AdminSettings = () => {\r\n  const [activeTab, setActiveTab] = useState<'config' | 'seo' | 'email' | 'lms' | 'marketplace' | 'finance' | 'admins'>('config');\r\n\r\n  return (\r\n    <div className=\"space-y-6 animate-in fade-in duration-500\">\r\n      <div>\r\n        <h2 className=\"text-2xl font-bold text-gray-900 dark:text-white\">System Settings</h2>\r\n        <p className=\"text-sm text-gray-500 dark:text-gray-400\">Configure global platform rules, LMS policies, and administrative access.</p>\r\n      </div>\r\n\r\n      <div className=\"bg-white dark:bg-[#13111c] rounded-xl shadow-sm border border-gray-200 dark:border-white/5 overflow-hidden\">\r\n        <TabsList className=\"px-6 pt-2 overflow-x-auto no-scrollbar\">\r\n            <TabsTrigger \r\n                active={activeTab === 'config'} \r\n                onClick={() => setActiveTab('config')}\r\n                icon={<Sliders size={16} />}\r\n            >\r\n                General\r\n            </TabsTrigger>\r\n            <TabsTrigger \r\n                active={activeTab === 'email'} \r\n                onClick={() => setActiveTab('email')}\r\n                icon={<Mail size={16} />}\r\n            >\r\n                Email\r\n            </TabsTrigger>\r\n            <TabsTrigger \r\n                active={activeTab === 'seo'} \r\n                onClick={() => setActiveTab('seo')}\r\n                icon={<Search size={16} />}\r\n            >\r\n                SEO\r\n            </TabsTrigger>\r\n            <TabsTrigger \r\n                active={activeTab === 'lms'} \r\n                onClick={() => setActiveTab('lms')}\r\n                icon={<BookOpen size={16} />}\r\n            >\r\n                LMS\r\n            </TabsTrigger>\r\n            <TabsTrigger \r\n                active={activeTab === 'marketplace'} \r\n                onClick={() => setActiveTab('marketplace')}\r\n                icon={<Briefcase size={16} />}\r\n            >\r\n                Marketplace\r\n            </TabsTrigger>\r\n            <TabsTrigger \r\n                active={activeTab === 'finance'} \r\n                onClick={() => setActiveTab('finance')}\r\n                icon={<Wallet size={16} />}\r\n            >\r\n                Finance\r\n            </TabsTrigger>\r\n            <TabsTrigger \r\n                active={activeTab === 'admins'} \r\n                onClick={() => setActiveTab('admins')}\r\n                icon={<Shield size={16} />}\r\n            >\r\n                Admins\r\n            </TabsTrigger>\r\n        </TabsList>\r\n\r\n        <div className=\"p-6 bg-gray-50 dark:bg-black/10\">\r\n            {activeTab === 'config' && <SettingsTab />}\r\n            {activeTab === 'email' && <EmailSettingsTab />}\r\n            {activeTab === 'seo' && <SeoSettingsTab />}\r\n            {activeTab === 'lms' && <LMSSettingsTab />}\r\n            {activeTab === 'marketplace' && <MarketplaceSettingsTab />}\r\n            {activeTab === 'finance' && <FinanceSettingsTab />}\r\n            {activeTab === 'admins' && <AdminManagementTab />}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n"],"names":[],"mappings":";;;;;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AAEO,MAAM,gBAAgB;IAC3B,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iNAAQ,EAA4E;IAEtH,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;;kCACC,8OAAC;wBAAG,WAAU;kCAAmD;;;;;;kCACjE,8OAAC;wBAAE,WAAU;kCAA2C;;;;;;;;;;;;0BAG1D,8OAAC;gBAAI,WAAU;;kCACb,8OAAC,qIAAQ;wBAAC,WAAU;;0CAChB,8OAAC,wIAAW;gCACR,QAAQ,cAAc;gCACtB,SAAS,IAAM,aAAa;gCAC5B,oBAAM,8OAAC,+NAAO;oCAAC,MAAM;;;;;;0CACxB;;;;;;0CAGD,8OAAC,wIAAW;gCACR,QAAQ,cAAc;gCACtB,SAAS,IAAM,aAAa;gCAC5B,oBAAM,8OAAC,0MAAI;oCAAC,MAAM;;;;;;0CACrB;;;;;;0CAGD,8OAAC,wIAAW;gCACR,QAAQ,cAAc;gCACtB,SAAS,IAAM,aAAa;gCAC5B,oBAAM,8OAAC,gNAAM;oCAAC,MAAM;;;;;;0CACvB;;;;;;0CAGD,8OAAC,wIAAW;gCACR,QAAQ,cAAc;gCACtB,SAAS,IAAM,aAAa;gCAC5B,oBAAM,8OAAC,0NAAQ;oCAAC,MAAM;;;;;;0CACzB;;;;;;0CAGD,8OAAC,wIAAW;gCACR,QAAQ,cAAc;gCACtB,SAAS,IAAM,aAAa;gCAC5B,oBAAM,8OAAC,yNAAS;oCAAC,MAAM;;;;;;0CAC1B;;;;;;0CAGD,8OAAC,wIAAW;gCACR,QAAQ,cAAc;gCACtB,SAAS,IAAM,aAAa;gCAC5B,oBAAM,8OAAC,gNAAM;oCAAC,MAAM;;;;;;0CACvB;;;;;;0CAGD,8OAAC,wIAAW;gCACR,QAAQ,cAAc;gCACtB,SAAS,IAAM,aAAa;gCAC5B,oBAAM,8OAAC,gNAAM;oCAAC,MAAM;;;;;;0CACvB;;;;;;;;;;;;kCAKL,8OAAC;wBAAI,WAAU;;4BACV,cAAc,0BAAY,8OAAC,8JAAW;;;;;4BACtC,cAAc,yBAAW,8OAAC,wKAAgB;;;;;4BAC1C,cAAc,uBAAS,8OAAC,oKAAc;;;;;4BACtC,cAAc,uBAAS,8OAAC,oKAAc;;;;;4BACtC,cAAc,+BAAiB,8OAAC,oLAAsB;;;;;4BACtD,cAAc,2BAAa,8OAAC,4KAAkB;;;;;4BAC9C,cAAc,0BAAY,8OAAC,4KAAkB;;;;;;;;;;;;;;;;;;;;;;;AAK1D"}}]
}